import{e as de,q as ie,l as be,o as he,v as kr,r as q,t as qe,x as Hn,y as ui,z as lr,A as Nn,B as Yi,C as Gt,D as cr,g as X,E as hi,G as Wn,H as Un,I as Dt,J as Fl,K as Hl,L as wt,M as Ht,N as At,i as B,O as Rt,V as Fr,P as $r,Q as Eo,R as gt,S as tr,T as _s,U as Vr,W as nt,X as at,Y as Yt,Z as Nl,_ as $i,$ as Wl,a0 as Ul,c as j,b as z,a1 as Y,u as ot,f as Ne,a2 as jl,a3 as jn,a4 as Vl,a5 as pe,h as _t,a6 as ir,a7 as Vn,a8 as bt,a9 as Kr,d as ee,a as ct,aa as Hr,ab as Be,ac as Kl,ad as li,ae as ql,af as Ze,ag as Xi,ah as Zi,ai as dr,aj as qr,ak as Ii,al as Kn,am as Gl,an as zi,ao as Yl,ap as ci,aq as Rr,F as Ye,ar as To,as as qn,at as Lo,au as Xl,av as br,aw as Ao,ax as hr,ay as Bo,az as Le,aA as Zl,aB as di,aC as Sn,aD as Do,aE as Jl,aF as _i,aG as Oo,aH as Ji,aI as Gn,aJ as Ql,aK as Yn,aL as Xn,aM as ec,aN as tc,aO as rc,aP as Nr,aQ as ic,aR as vi,aS as nc,aT as xn,aU as Mo,aV as Cn,aW as Po,aX as $o,aY as Io,aZ as kn,a_ as zo,a$ as sc,b0 as oc,b1 as Zn,b2 as Je,b3 as Fo,b4 as Ho,b5 as ac,b6 as lc,b7 as No,b8 as Fi,b9 as Wo,ba as cc,bb as dc,bc as ms,bd as uc,be as hc,bf as fc,bg as Uo,bh as pc,bi as Hi,bj as vc,bk as gc,bl as _c,bm as mc,bn as bc,bo as Ti,bp as yc,bq as wc,br as Sc,bs as xc,bt as sn,bu as Cc,bv as kc,bw as Rc,bx as Ec,by as Tc,bz as Lc,bA as Ac,bB as Bc,bC as Dc,bD as Oc,bE as jo,bF as Te,w as K,m as Z,bG as fi,n as $,bH as Ke,bI as Vo,k as sr,bJ as Rn,bK as xr,bL as Ni,bM as Ko,bN as En,bO as Cr,bP as Lt,p as xe,bQ as Mc,bR as bs,bS as Pe,s as Ar,bT as Pr,bU as Tn,bV as Et,bW as ys,bX as qo,bY as Go,bZ as Pc,b_ as $c,b$ as Ic,c0 as Jn,c1 as zc,c2 as Fc,c3 as Hc,c4 as Nc,c5 as Wc,c6 as Uc,c7 as jc,c8 as Vc,c9 as Kc,ca as qc,cb as Gc,cc as Yc,cd as Xc,ce as Zc}from"./index.afdd809c.js";const Jc={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Qc=he("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",fill:"currentColor"},null,-1),ed=[Qc],td=de({name:"AddTwotone",render:function(t,r){return ie(),be("svg",Jc,ed)}}),rd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},id=he("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8l-8 8z",fill:"currentColor"},null,-1),nd=[id],sd=de({name:"ArrowUpwardTwotone",render:function(t,r){return ie(),be("svg",rd,nd)}}),od={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ad=he("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8zm3.59-13L12 10.59L8.41 7L7 8.41L10.59 12L7 15.59L8.41 17L12 13.41L15.59 17L17 15.59L13.41 12L17 8.41z",fill:"currentColor"},null,-1),ld=[ad],cd=de({name:"CancelOutlined",render:function(t,r){return ie(),be("svg",od,ld)}}),dd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ud=he("path",{d:"M5 15H3v6h6v-2H5v-4zM5 5h4V3H3v6h2V5zm16-2h-6v2h4v4h2V3zm-2 16h-4v2h6v-6h-2v4zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4s4-1.79 4-4s-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2s2 .9 2 2s-.9 2-2 2z",fill:"currentColor"},null,-1),hd=[ud],ws=de({name:"CenterFocusWeakSharp",render:function(t,r){return ie(),be("svg",dd,hd)}}),fd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},pd=he("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42l-6.59 6.59l-2.58-2.57l-1.42 1.41l4 3.99z",fill:"currentColor"},null,-1),vd=[pd],gd=de({name:"CheckBoxOutlined",render:function(t,r){return ie(),be("svg",fd,vd)}}),_d={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},md=he("path",{d:"M7 4c0-1.11-.89-2-2-2s-2 .89-2 2s.89 2 2 2s2-.89 2-2zm3.19.5c-.41 0-.76.25-.92.63A2.973 2.973 0 0 1 6.5 7h-3C2.67 7 2 7.67 2 8.5V11h6V8.74a4.955 4.955 0 0 0 3.12-2.91c.26-.64-.24-1.33-.93-1.33zM19 17c1.11 0 2-.89 2-2s-.89-2-2-2s-2 .89-2 2s.89 2 2 2zm1.5 1h-3c-1.26 0-2.33-.77-2.77-1.87a.986.986 0 0 0-.92-.63c-.69 0-1.19.69-.94 1.33a4.98 4.98 0 0 0 3.12 2.91V22h6v-2.5c.01-.83-.66-1.5-1.49-1.5zm-3.25-6.91s0-.01.01 0a3.02 3.02 0 0 0-2.17 2.17v-.01c-.11.43-.51.75-.98.75c-.55 0-1-.45-1-1c0-.05.02-.14.02-.14a4.99 4.99 0 0 1 3.75-3.73c.04 0 .08-.01.12-.01c.55 0 1 .45 1 1c0 .46-.32.86-.75.97zM18 6.06c0 .51-.37.92-.86.99c-3.19.39-5.7 2.91-6.09 6.1A1.002 1.002 0 0 1 9.06 13v-.09c.5-4.12 3.79-7.38 7.92-7.85h.01c.56 0 1.01.45 1.01 1z",fill:"currentColor"},null,-1),bd=[md],yd=de({name:"ConnectWithoutContactRound",render:function(t,r){return ie(),be("svg",_d,bd)}}),wd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Sd=he("path",{d:"M8.57 16H10c0-2.76-2.24-5-5-5v1.43c1.97 0 3.57 1.6 3.57 3.57z",fill:"currentColor"},null,-1),xd=he("path",{d:"M11.55 16H13c0-4.42-3.59-8-8-8v1.45c3.61 0 6.55 2.93 6.55 6.55zM5 14v2h2c0-1.11-.89-2-2-2z",fill:"currentColor"},null,-1),Cd=he("path",{d:"M22 3H2v16h6v2h8v-2h6V3zm-2 14H4V5h16v12z",fill:"currentColor"},null,-1),kd=[Sd,xd,Cd],Rd=de({name:"ConnectedTvSharp",render:function(t,r){return ie(),be("svg",wd,kd)}}),Ed={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Td=he("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z",fill:"currentColor"},null,-1),Ld=[Td],Yo=de({name:"DescriptionOutlined",render:function(t,r){return ie(),be("svg",Ed,Ld)}}),Ad={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Bd=he("path",{opacity:".3",d:"M8 10h8v4H8z",fill:"currentColor"},null,-1),Dd=he("path",{d:"M6 16h12V8H6v8zm2-6h8v4H8v-4zm-4 5H2v3c0 1.1.9 2 2 2h3v-2H4v-3zm0-9h3V4H4c-1.1 0-2 .9-2 2v3h2V6zm16-2h-3v2h3v3h2V6c0-1.1-.9-2-2-2zm0 14h-3v2h3c1.1 0 2-.9 2-2v-3h-2v3z",fill:"currentColor"},null,-1),Od=[Bd,Dd],Md=de({name:"FitScreenTwotone",render:function(t,r){return ie(),be("svg",Ad,Od)}}),Pd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},$d=he("path",{d:"M12 5.69l5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z",fill:"currentColor"},null,-1),Id=[$d],zd=de({name:"HomeOutlined",render:function(t,r){return ie(),be("svg",Pd,Id)}}),Fd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Hd=he("path",{d:"M20 4v12H8V4h12m0-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7.53 12L9 10.5l1.4-1.41l2.07 2.08L17.6 6L19 7.41L12.47 14zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z",fill:"currentColor"},null,-1),Nd=[Hd],Wd=de({name:"LibraryAddCheckOutlined",render:function(t,r){return ie(),be("svg",Fd,Nd)}}),Ud={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},jd=he("path",{opacity:".3",d:"M5 18.08V19h.92l9.06-9.06l-.92-.92z",fill:"currentColor"},null,-1),Vd=he("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06l.92.92L5.92 19zM20.71 5.63l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83l3.75 3.75l1.83-1.83a.996.996 0 0 0 0-1.41z",fill:"currentColor"},null,-1),Kd=[jd,Vd],qd=de({name:"ModeEditOutlineTwotone",render:function(t,r){return ie(),be("svg",Ud,Kd)}}),Gd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Yd=he("path",{opacity:".3",d:"M10 8.64v6.72L15.27 12z",fill:"currentColor"},null,-1),Xd=he("path",{d:"M8 19l11-7L8 5v14zm2-10.36L15.27 12L10 15.36V8.64z",fill:"currentColor"},null,-1),Zd=[Yd,Xd],Ln=de({name:"PlayArrowTwotone",render:function(t,r){return ie(),be("svg",Gd,Zd)}}),Jd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Qd=he("path",{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"currentColor"},null,-1),eu=[Qd],tu=de({name:"RefreshSharp",render:function(t,r){return ie(),be("svg",Jd,eu)}}),ru={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},iu=he("path",{d:"M19 15.18V7c0-2.21-1.79-4-4-4s-4 1.79-4 4v10c0 1.1-.9 2-2 2s-2-.9-2-2V8.82C8.16 8.4 9 7.3 9 6c0-1.66-1.34-3-3-3S3 4.34 3 6c0 1.3.84 2.4 2 2.82V17c0 2.21 1.79 4 4 4s4-1.79 4-4V7c0-1.1.9-2 2-2s2 .9 2 2v8.18A2.996 2.996 0 0 0 18 21c1.66 0 3-1.34 3-3c0-1.3-.84-2.4-2-2.82z",fill:"currentColor"},null,-1),nu=[iu],su=de({name:"RouteFilled",render:function(t,r){return ie(),be("svg",ru,nu)}}),ou={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},au=he("path",{d:"M7.77 6.76L6.23 5.48L.82 12l5.41 6.52l1.54-1.28L3.42 12l4.35-5.24zM7 13h2v-2H7v2zm10-2h-2v2h2v-2zm-6 2h2v-2h-2v2zm6.77-7.52l-1.54 1.28L20.58 12l-4.35 5.24l1.54 1.28L23.18 12l-5.41-6.52z",fill:"currentColor"},null,-1),lu=[au],cu=de({name:"SettingsEthernetOutlined",render:function(t,r){return ie(),be("svg",ou,lu)}}),du={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},uu=he("path",{opacity:".3",d:"M6 4h12v5H6zm0 11h12v5H6z",fill:"currentColor"},null,-1),hu=he("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 7H6V4h12v5zm0 4H6c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2zm0 7H6v-5h12v5z",fill:"currentColor"},null,-1),fu=[uu,hu],pu=de({name:"SplitscreenTwotone",render:function(t,r){return ie(),be("svg",du,fu)}});function Wr(e,t){let{target:r}=e;for(;r;){if(r.dataset&&r.dataset[t]!==void 0)return!0;r=r.parentElement}return!1}function vu(e){if(typeof e=="number")return{"":e.toString()};const t={};return e.split(/ +/).forEach(r=>{if(r==="")return;const[l,h]=r.split(":");h===void 0?t[""]=l:t[l]=h}),t}function Jr(e,t){var r;if(e==null)return;const l=vu(e);if(t===void 0)return l[""];if(typeof t=="string")return(r=l[t])!==null&&r!==void 0?r:l[""];if(Array.isArray(t)){for(let h=t.length-1;h>=0;--h){const b=t[h];if(b in l)return l[b]}return l[""]}else{let h,b=-1;return Object.keys(l).forEach(y=>{const i=Number(y);!Number.isNaN(i)&&t>=i&&i>=b&&(b=i,h=l[y])}),h}}function Xo(e){switch(typeof e){case"string":return e||void 0;case"number":return String(e);default:return}}function gu(e){return t=>{t?e.value=t.$el:e.value=null}}function on(e){const t=e.filter(r=>r!==void 0);if(t.length!==0)return t.length===1?t[0]:r=>{e.forEach(l=>{l&&l(r)})}}function _u(e){var t;const r=(t=e.dirs)===null||t===void 0?void 0:t.find(({dir:l})=>l===kr);return!!(r&&r.value===!1)}const Zo=new WeakSet;function mu(e){Zo.add(e)}function bu(e){return!Zo.has(e)}function yu(e,t,r){if(!t)return e;const l=q(e.value);let h=null;return qe(e,b=>{h!==null&&window.clearTimeout(h),b===!0?r&&!r.value?l.value=!0:h=window.setTimeout(()=>{l.value=!0},t):l.value=!1}),l}const ni=q(null);function Ss(e){if(e.clientX>0||e.clientY>0)ni.value={x:e.clientX,y:e.clientY};else{const{target:t}=e;if(t instanceof Element){const{left:r,top:l,width:h,height:b}=t.getBoundingClientRect();r>0||l>0?ni.value={x:r+h/2,y:l+b/2}:ni.value={x:0,y:0}}else ni.value=null}}let mi=0,xs=!0;function wu(){if(!Hn)return ui(q(null));mi===0&&lr("click",document,Ss,!0);const e=()=>{mi+=1};return xs&&(xs=Nn())?(Yi(e),Gt(()=>{mi-=1,mi===0&&cr("click",document,Ss,!0)})):e(),ui(ni)}const Su=q(void 0);let bi=0;function Cs(){Su.value=Date.now()}let ks=!0;function xu(e){if(!Hn)return ui(q(!1));const t=q(!1);let r=null;function l(){r!==null&&window.clearTimeout(r)}function h(){l(),t.value=!0,r=window.setTimeout(()=>{t.value=!1},e)}bi===0&&lr("click",window,Cs,!0);const b=()=>{bi+=1,lr("click",window,h,!0)};return ks&&(ks=Nn())?(Yi(b),Gt(()=>{bi-=1,bi===0&&cr("click",window,Cs,!0),cr("click",window,h,!0),l()})):b(),ui(t)}const Cu={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function ku(e){return`(min-width: ${e}px)`}const Qr={};function Ru(e=Cu){if(!Hn)return X(()=>[]);if(typeof window.matchMedia!="function")return X(()=>[]);const t=q({}),r=Object.keys(e),l=(h,b)=>{h.matches?t.value[b]=!0:t.value[b]=!1};return r.forEach(h=>{const b=e[h];let y,i;Qr[b]===void 0?(y=window.matchMedia(ku(b)),y.addEventListener?y.addEventListener("change",o=>{i.forEach(n=>{n(o,h)})}):y.addListener&&y.addListener(o=>{i.forEach(n=>{n(o,h)})}),i=new Set,Qr[b]={mql:y,cbs:i}):(y=Qr[b].mql,i=Qr[b].cbs),i.add(l),y.matches&&i.forEach(o=>{o(y,h)})}),Gt(()=>{r.forEach(h=>{const{cbs:b}=Qr[e[h]];b.has(l)&&b.delete(l)})}),X(()=>{const{value:h}=t;return r.filter(b=>h[b])})}function Eu(e={},t){const r=hi({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:l,keyup:h}=e,b=o=>{switch(o.key){case"Control":r.ctrl=!0;break;case"Meta":r.command=!0,r.win=!0;break;case"Shift":r.shift=!0;break;case"Tab":r.tab=!0;break}l!==void 0&&Object.keys(l).forEach(n=>{if(n!==o.key)return;const u=l[n];if(typeof u=="function")u(o);else{const{stop:f=!1,prevent:_=!1}=u;f&&o.stopPropagation(),_&&o.preventDefault(),u.handler(o)}})},y=o=>{switch(o.key){case"Control":r.ctrl=!1;break;case"Meta":r.command=!1,r.win=!1;break;case"Shift":r.shift=!1;break;case"Tab":r.tab=!1;break}h!==void 0&&Object.keys(h).forEach(n=>{if(n!==o.key)return;const u=h[n];if(typeof u=="function")u(o);else{const{stop:f=!1,prevent:_=!1}=u;f&&o.stopPropagation(),_&&o.preventDefault(),u.handler(o)}})},i=()=>{(t===void 0||t.value)&&(lr("keydown",document,b),lr("keyup",document,y)),t!==void 0&&qe(t,o=>{o?(lr("keydown",document,b),lr("keyup",document,y)):(cr("keydown",document,b),cr("keyup",document,y))})};return Nn()?(Yi(i),Gt(()=>{(t===void 0||t.value)&&(cr("keydown",document,b),cr("keyup",document,y))})):i(),ui(r)}function Rs(e){return e&-e}class Tu{constructor(t,r){this.l=t,this.min=r;const l=new Array(t+1);for(let h=0;h<t+1;++h)l[h]=0;this.ft=l}add(t,r){if(r===0)return;const{l,ft:h}=this;for(t+=1;t<=l;)h[t]+=r,t+=Rs(t)}get(t){return this.sum(t+1)-this.sum(t)}sum(t){if(t===void 0&&(t=this.l),t<=0)return 0;const{ft:r,min:l,l:h}=this;if(t>h)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let b=t*l;for(;t>0;)b+=r[t],t-=Rs(t);return b}getBound(t){let r=0,l=this.l;for(;l>r;){const h=Math.floor((r+l)/2),b=this.sum(h);if(b>t){l=h;continue}else if(b<t){if(r===h)return this.sum(r+1)<=t?r+1:h;r=h}else return h}return r}}let yi;function Lu(){return yi===void 0&&("matchMedia"in window?yi=window.matchMedia("(pointer:coarse)").matches:yi=!1),yi}let an;function Es(){return an===void 0&&(an="chrome"in window?window.devicePixelRatio:1),an}const Au=$r(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[$r("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[$r("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),Bu=de({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(e){const t=Wn();Au.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:Un,ssr:t}),Dt(()=>{const{defaultScrollIndex:D,defaultScrollKey:T}=e;D!=null?g({index:D}):T!=null&&g({key:T})});let r=!1,l=!1;Fl(()=>{if(r=!1,!l){l=!0;return}g({top:f.value,left:u})}),Hl(()=>{r=!0,l||(l=!0)});const h=X(()=>{const D=new Map,{keyField:T}=e;return e.items.forEach((x,E)=>{D.set(x[T],E)}),D}),b=q(null),y=q(void 0),i=new Map,o=X(()=>{const{items:D,itemSize:T,keyField:x}=e,E=new Tu(D.length,T);return D.forEach((L,O)=>{const M=L[x],V=i.get(M);V!==void 0&&E.add(O,V)}),E}),n=q(0);let u=0;const f=q(0),_=wt(()=>Math.max(o.value.getBound(f.value-Ht(e.paddingTop))-1,0)),v=X(()=>{const{value:D}=y;if(D===void 0)return[];const{items:T,itemSize:x}=e,E=_.value,L=Math.min(E+Math.ceil(D/x+1),T.length-1),O=[];for(let M=E;M<=L;++M)O.push(T[M]);return O}),g=(D,T)=>{if(typeof D=="number"){a(D,T,"auto");return}const{left:x,top:E,index:L,key:O,position:M,behavior:V,debounce:F=!0}=D;if(x!==void 0||E!==void 0)a(x,E,V);else if(L!==void 0)c(L,V,F);else if(O!==void 0){const W=h.value.get(O);W!==void 0&&c(W,V,F)}else M==="bottom"?a(0,Number.MAX_SAFE_INTEGER,V):M==="top"&&a(0,0,V)};let p,s=null;function c(D,T,x){const{value:E}=o,L=E.sum(D)+Ht(e.paddingTop);if(!x)b.value.scrollTo({left:0,top:L,behavior:T});else{p=D,s!==null&&window.clearTimeout(s),s=window.setTimeout(()=>{p=void 0,s=null},16);const{scrollTop:O,offsetHeight:M}=b.value;if(L>O){const V=E.get(D);L+V<=O+M||b.value.scrollTo({left:0,top:L+V-M,behavior:T})}else b.value.scrollTo({left:0,top:L,behavior:T})}}function a(D,T,x){b.value.scrollTo({left:D,top:T,behavior:x})}function d(D,T){var x,E,L;if(r||e.ignoreItemResize||A(T.target))return;const{value:O}=o,M=h.value.get(D),V=O.get(M),F=(L=(E=(x=T.borderBoxSize)===null||x===void 0?void 0:x[0])===null||E===void 0?void 0:E.blockSize)!==null&&L!==void 0?L:T.contentRect.height;if(F===V)return;F-e.itemSize===0?i.delete(D):i.set(D,F-e.itemSize);const G=F-V;if(G===0)return;O.add(M,G);const te=b.value;if(te!=null){if(p===void 0){const P=O.sum(M);te.scrollTop>P&&te.scrollBy(0,G)}else if(M<p)te.scrollBy(0,G);else if(M===p){const P=O.sum(M);F+P>te.scrollTop+te.offsetHeight&&te.scrollBy(0,G)}R()}n.value++}const m=!Lu();let w=!1;function S(D){var T;(T=e.onScroll)===null||T===void 0||T.call(e,D),(!m||!w)&&R()}function C(D){var T;if((T=e.onWheel)===null||T===void 0||T.call(e,D),m){const x=b.value;if(x!=null){if(D.deltaX===0&&(x.scrollTop===0&&D.deltaY<=0||x.scrollTop+x.offsetHeight>=x.scrollHeight&&D.deltaY>=0))return;D.preventDefault(),x.scrollTop+=D.deltaY/Es(),x.scrollLeft+=D.deltaX/Es(),R(),w=!0,Eo(()=>{w=!1})}}}function k(D){if(r||A(D.target)||D.contentRect.height===y.value)return;y.value=D.contentRect.height;const{onResize:T}=e;T!==void 0&&T(D)}function R(){const{value:D}=b;D!=null&&(f.value=D.scrollTop,u=D.scrollLeft)}function A(D){let T=D;for(;T!==null;){if(T.style.display==="none")return!0;T=T.parentElement}return!1}return{listHeight:y,listStyle:{overflow:"auto"},keyToIndex:h,itemsStyle:X(()=>{const{itemResizable:D}=e,T=At(o.value.sum());return n.value,[e.itemsStyle,{boxSizing:"content-box",height:D?"":T,minHeight:D?T:"",paddingTop:At(e.paddingTop),paddingBottom:At(e.paddingBottom)}]}),visibleItemsStyle:X(()=>(n.value,{transform:`translateY(${At(o.value.sum(_.value))})`})),viewportItems:v,listElRef:b,itemsElRef:q(null),scrollTo:g,handleListResize:k,handleListScroll:S,handleListWheel:C,handleItemResize:d}},render(){const{itemResizable:e,keyField:t,keyToIndex:r,visibleItemsTag:l}=this;return B(Fr,{onResize:this.handleListResize},{default:()=>{var h,b;return B("div",Rt(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?B("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[B(l,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>this.viewportItems.map(y=>{const i=y[t],o=r.get(i),n=this.$slots.default({item:y,index:o})[0];return e?B(Fr,{key:i,onResize:u=>this.handleItemResize(i,u)},{default:()=>n}):(n.key=i,n)})})]):(b=(h=this.$slots).empty)===null||b===void 0?void 0:b.call(h)])}})}}),Du=$r(".v-x-scroll",{overflow:"auto",scrollbarWidth:"none"},[$r("&::-webkit-scrollbar",{width:0,height:0})]),Ou=de({name:"XScroll",props:{disabled:Boolean,onScroll:Function},setup(){const e=q(null);function t(h){!(h.currentTarget.offsetWidth<h.currentTarget.scrollWidth)||h.deltaY===0||(h.currentTarget.scrollLeft+=h.deltaY+h.deltaX,h.preventDefault())}const r=Wn();return Du.mount({id:"vueuc/x-scroll",head:!0,anchorMetaName:Un,ssr:r}),Object.assign({selfRef:e,handleWheel:t},{scrollTo(...h){var b;(b=e.value)===null||b===void 0||b.scrollTo(...h)}})},render(){return B("div",{ref:"selfRef",onScroll:this.onScroll,onWheel:this.disabled?void 0:this.handleWheel,class:"v-x-scroll"},this.$slots)}}),yr="v-hidden",Mu=$r("[v-hidden]",{display:"none!important"}),Ts=de({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateOverflow:Function},setup(e,{slots:t}){const r=q(null),l=q(null);function h(){const{value:y}=r,{getCounter:i,getTail:o}=e;let n;if(i!==void 0?n=i():n=l.value,!y||!n)return;n.hasAttribute(yr)&&n.removeAttribute(yr);const{children:u}=y,f=y.offsetWidth,_=[],v=t.tail?o==null?void 0:o():null;let g=v?v.offsetWidth:0,p=!1;const s=y.children.length-(t.tail?1:0);for(let a=0;a<s-1;++a){if(a<0)continue;const d=u[a];if(p){d.hasAttribute(yr)||d.setAttribute(yr,"");continue}else d.hasAttribute(yr)&&d.removeAttribute(yr);const m=d.offsetWidth;if(g+=m,_[a]=m,g>f){const{updateCounter:w}=e;for(let S=a;S>=0;--S){const C=s-1-S;w!==void 0?w(C):n.textContent=`${C}`;const k=n.offsetWidth;if(g-=_[S],g+k<=f||S===0){p=!0,a=S-1,v&&(a===-1?(v.style.maxWidth=`${f-k}px`,v.style.boxSizing="border-box"):v.style.maxWidth="");break}}}}const{onUpdateOverflow:c}=e;p?c!==void 0&&c(!0):(c!==void 0&&c(!1),n.setAttribute(yr,""))}const b=Wn();return Mu.mount({id:"vueuc/overflow",head:!0,anchorMetaName:Un,ssr:b}),Dt(h),{selfRef:r,counterRef:l,sync:h}},render(){const{$slots:e}=this;return gt(this.sync),B("div",{class:"v-overflow",ref:"selfRef"},[tr(e,"default"),e.counter?e.counter():B("span",{style:{display:"inline-block"},ref:"counterRef"}),e.tail?e.tail():null])}});function Jo(e,t){t&&(Dt(()=>{const{value:r}=e;r&&_s.registerHandler(r,t)}),Gt(()=>{const{value:r}=e;r&&_s.unregisterHandler(r)}))}let Br=0,Ls="",As="",Bs="",Ds="";const Os=q("0px");function Pu(e){if(typeof document>"u")return;const t=document.documentElement;let r,l=!1;const h=()=>{t.style.marginRight=Ls,t.style.overflow=As,t.style.overflowX=Bs,t.style.overflowY=Ds,Os.value="0px"};Dt(()=>{r=qe(e,b=>{if(b){if(!Br){const y=window.innerWidth-t.offsetWidth;y>0&&(Ls=t.style.marginRight,t.style.marginRight=`${y}px`,Os.value=`${y}px`),As=t.style.overflow,Bs=t.style.overflowX,Ds=t.style.overflowY,t.style.overflow="hidden",t.style.overflowX="hidden",t.style.overflowY="hidden"}l=!0,Br++}else Br--,Br||h(),l=!1},{immediate:!0})}),Gt(()=>{r==null||r(),l&&(Br--,Br||h(),l=!1)})}const Qn=q(!1),Ms=()=>{Qn.value=!0},Ps=()=>{Qn.value=!1};let ei=0;const $u=()=>(Vr&&(Yi(()=>{ei||(window.addEventListener("compositionstart",Ms),window.addEventListener("compositionend",Ps)),ei++}),Gt(()=>{ei<=1?(window.removeEventListener("compositionstart",Ms),window.removeEventListener("compositionend",Ps),ei=0):ei--})),Qn),$s=Yt("n-form-item");function Qi(e,{defaultSize:t="medium",mergedSize:r,mergedDisabled:l}={}){const h=nt($s,null);at($s,null);const b=X(r?()=>r(h):()=>{const{size:o}=e;if(o)return o;if(h){const{mergedSize:n}=h;if(n.value!==void 0)return n.value}return t}),y=X(l?()=>l(h):()=>{const{disabled:o}=e;return o!==void 0?o:h?h.disabled.value:!1}),i=X(()=>{const{status:o}=e;return o||(h==null?void 0:h.mergedValidationStatus.value)});return Gt(()=>{h&&h.restoreValidation()}),{mergedSizeRef:b,mergedDisabledRef:y,mergedStatusRef:i,nTriggerFormBlur(){h&&h.handleContentBlur()},nTriggerFormChange(){h&&h.handleContentChange()},nTriggerFormFocus(){h&&h.handleContentFocus()},nTriggerFormInput(){h&&h.handleContentInput()}}}var Iu=/\s/;function zu(e){for(var t=e.length;t--&&Iu.test(e.charAt(t)););return t}var Fu=/^\s+/;function Hu(e){return e&&e.slice(0,zu(e)+1).replace(Fu,"")}var Is=0/0,Nu=/^[-+]0x[0-9a-f]+$/i,Wu=/^0b[01]+$/i,Uu=/^0o[0-7]+$/i,ju=parseInt;function zs(e){if(typeof e=="number")return e;if(Nl(e))return Is;if($i(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=$i(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Hu(e);var r=Wu.test(e);return r||Uu.test(e)?ju(e.slice(2),r?2:8):Nu.test(e)?Is:+e}var Vu=function(){return Wl.Date.now()};const ln=Vu;var Ku="Expected a function",qu=Math.max,Gu=Math.min;function Yu(e,t,r){var l,h,b,y,i,o,n=0,u=!1,f=!1,_=!0;if(typeof e!="function")throw new TypeError(Ku);t=zs(t)||0,$i(r)&&(u=!!r.leading,f="maxWait"in r,b=f?qu(zs(r.maxWait)||0,t):b,_="trailing"in r?!!r.trailing:_);function v(S){var C=l,k=h;return l=h=void 0,n=S,y=e.apply(k,C),y}function g(S){return n=S,i=setTimeout(c,t),u?v(S):y}function p(S){var C=S-o,k=S-n,R=t-C;return f?Gu(R,b-k):R}function s(S){var C=S-o,k=S-n;return o===void 0||C>=t||C<0||f&&k>=b}function c(){var S=ln();if(s(S))return a(S);i=setTimeout(c,p(S))}function a(S){return i=void 0,_&&l?v(S):(l=h=void 0,y)}function d(){i!==void 0&&clearTimeout(i),n=0,l=o=h=i=void 0}function m(){return i===void 0?y:a(ln())}function w(){var S=ln(),C=s(S);if(l=arguments,h=this,o=S,C){if(i===void 0)return g(o);if(f)return clearTimeout(i),i=setTimeout(c,t),v(o)}return i===void 0&&(i=setTimeout(c,t)),y}return w.cancel=d,w.flush=m,w}var Xu="Expected a function";function cn(e,t,r){var l=!0,h=!0;if(typeof e!="function")throw new TypeError(Xu);return $i(r)&&(l="leading"in r?!!r.leading:l,h="trailing"in r?!!r.trailing:h),Yu(e,t,{leading:l,maxWait:t,trailing:h})}const Zu=de({name:"Add",render(){return B("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},B("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}}),Ju=de({name:"Checkmark",render(){return B("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},B("g",{fill:"none"},B("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),Qu=de({name:"ChevronLeft",render(){return B("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},B("path",{d:"M10.3536 3.14645C10.5488 3.34171 10.5488 3.65829 10.3536 3.85355L6.20711 8L10.3536 12.1464C10.5488 12.3417 10.5488 12.6583 10.3536 12.8536C10.1583 13.0488 9.84171 13.0488 9.64645 12.8536L5.14645 8.35355C4.95118 8.15829 4.95118 7.84171 5.14645 7.64645L9.64645 3.14645C9.84171 2.95118 10.1583 2.95118 10.3536 3.14645Z",fill:"currentColor"}))}}),es=de({name:"ChevronRight",render(){return B("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},B("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"}))}}),eh=de({name:"Eye",render(){return B("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},B("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),B("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),th=de({name:"EyeOff",render(){return B("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},B("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),B("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),B("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),B("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),B("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),rh=de({name:"Empty",render(){return B("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},B("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),B("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),ih=de({name:"ChevronDown",render(){return B("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},B("path",{d:"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",fill:"currentColor"}))}}),nh=Ul("clear",B("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},B("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},B("g",{fill:"currentColor","fill-rule":"nonzero"},B("path",{d:"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"}))))),sh=de({props:{onFocus:Function,onBlur:Function},setup(e){return()=>B("div",{style:"width: 0; height: 0",tabindex:0,onFocus:e.onFocus,onBlur:e.onBlur})}});function Fs(e){return Array.isArray(e)?e:[e]}const An={STOP:"STOP"};function Qo(e,t){const r=t(e);e.children!==void 0&&r!==An.STOP&&e.children.forEach(l=>Qo(l,t))}function oh(e,t={}){const{preserveGroup:r=!1}=t,l=[],h=r?y=>{y.isLeaf||(l.push(y.key),b(y.children))}:y=>{y.isLeaf||(y.isGroup||l.push(y.key),b(y.children))};function b(y){y.forEach(h)}return b(e),l}function ah(e,t){const{isLeaf:r}=e;return r!==void 0?r:!t(e)}function lh(e){return e.children}function ch(e){return e.key}function dh(){return!1}function uh(e,t){const{isLeaf:r}=e;return!(r===!1&&!Array.isArray(t(e)))}function hh(e){return e.disabled===!0}function fh(e,t){return e.isLeaf===!1&&!Array.isArray(t(e))}function dn(e){var t;return e==null?[]:Array.isArray(e)?e:(t=e.checkedKeys)!==null&&t!==void 0?t:[]}function un(e){var t;return e==null||Array.isArray(e)?[]:(t=e.indeterminateKeys)!==null&&t!==void 0?t:[]}function ph(e,t){const r=new Set(e);return t.forEach(l=>{r.has(l)||r.add(l)}),Array.from(r)}function vh(e,t){const r=new Set(e);return t.forEach(l=>{r.has(l)&&r.delete(l)}),Array.from(r)}function gh(e){return(e==null?void 0:e.type)==="group"}function _h(e){const t=new Map;return e.forEach((r,l)=>{t.set(r.key,l)}),r=>{var l;return(l=t.get(r))!==null&&l!==void 0?l:null}}class mh extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function bh(e,t,r,l){return Wi(t.concat(e),r,l,!1)}function yh(e,t){const r=new Set;return e.forEach(l=>{const h=t.treeNodeMap.get(l);if(h!==void 0){let b=h.parent;for(;b!==null&&!(b.disabled||r.has(b.key));)r.add(b.key),b=b.parent}}),r}function wh(e,t,r,l){const h=Wi(t,r,l,!1),b=Wi(e,r,l,!0),y=yh(e,r),i=[];return h.forEach(o=>{(b.has(o)||y.has(o))&&i.push(o)}),i.forEach(o=>h.delete(o)),h}function hn(e,t){const{checkedKeys:r,keysToCheck:l,keysToUncheck:h,indeterminateKeys:b,cascade:y,leafOnly:i,checkStrategy:o,allowNotLoaded:n}=e;if(!y)return l!==void 0?{checkedKeys:ph(r,l),indeterminateKeys:Array.from(b)}:h!==void 0?{checkedKeys:vh(r,h),indeterminateKeys:Array.from(b)}:{checkedKeys:Array.from(r),indeterminateKeys:Array.from(b)};const{levelTreeNodeMap:u}=t;let f;h!==void 0?f=wh(h,r,t,n):l!==void 0?f=bh(l,r,t,n):f=Wi(r,t,n,!1);const _=o==="parent",v=o==="child"||i,g=f,p=new Set,s=Math.max.apply(null,Array.from(u.keys()));for(let c=s;c>=0;c-=1){const a=c===0,d=u.get(c);for(const m of d){if(m.isLeaf)continue;const{key:w,shallowLoaded:S}=m;if(v&&S&&m.children.forEach(A=>{!A.disabled&&!A.isLeaf&&A.shallowLoaded&&g.has(A.key)&&g.delete(A.key)}),m.disabled||!S)continue;let C=!0,k=!1,R=!0;for(const A of m.children){const D=A.key;if(!A.disabled){if(R&&(R=!1),g.has(D))k=!0;else if(p.has(D)){k=!0,C=!1;break}else if(C=!1,k)break}}C&&!R?(_&&m.children.forEach(A=>{!A.disabled&&g.has(A.key)&&g.delete(A.key)}),g.add(w)):k&&p.add(w),a&&v&&g.has(w)&&g.delete(w)}}return{checkedKeys:Array.from(g),indeterminateKeys:Array.from(p)}}function Wi(e,t,r,l){const{treeNodeMap:h,getChildren:b}=t,y=new Set,i=new Set(e);return e.forEach(o=>{const n=h.get(o);n!==void 0&&Qo(n,u=>{if(u.disabled)return An.STOP;const{key:f}=u;if(!y.has(f)&&(y.add(f),i.add(f),fh(u.rawNode,b))){if(l)return An.STOP;if(!r)throw new mh}})}),i}function Sh(e,{includeGroup:t=!1,includeSelf:r=!0},l){var h;const b=l.treeNodeMap;let y=e==null?null:(h=b.get(e))!==null&&h!==void 0?h:null;const i={keyPath:[],treeNodePath:[],treeNode:y};if(y!=null&&y.ignored)return i.treeNode=null,i;for(;y;)!y.ignored&&(t||!y.isGroup)&&i.treeNodePath.push(y),y=y.parent;return i.treeNodePath.reverse(),r||i.treeNodePath.pop(),i.keyPath=i.treeNodePath.map(o=>o.key),i}function xh(e){if(e.length===0)return null;const t=e[0];return t.isGroup||t.ignored||t.disabled?t.getNext():t}function Ch(e,t){const r=e.siblings,l=r.length,{index:h}=e;return t?r[(h+1)%l]:h===r.length-1?null:r[h+1]}function Hs(e,t,{loop:r=!1,includeDisabled:l=!1}={}){const h=t==="prev"?kh:Ch,b={reverse:t==="prev"};let y=!1,i=null;function o(n){if(n!==null){if(n===e){if(!y)y=!0;else if(!e.disabled&&!e.isGroup){i=e;return}}else if((!n.disabled||l)&&!n.ignored&&!n.isGroup){i=n;return}if(n.isGroup){const u=ts(n,b);u!==null?i=u:o(h(n,r))}else{const u=h(n,!1);if(u!==null)o(u);else{const f=Rh(n);f!=null&&f.isGroup?o(h(f,r)):r&&o(h(n,!0))}}}}return o(e),i}function kh(e,t){const r=e.siblings,l=r.length,{index:h}=e;return t?r[(h-1+l)%l]:h===0?null:r[h-1]}function Rh(e){return e.parent}function ts(e,t={}){const{reverse:r=!1}=t,{children:l}=e;if(l){const{length:h}=l,b=r?h-1:0,y=r?-1:h,i=r?-1:1;for(let o=b;o!==y;o+=i){const n=l[o];if(!n.disabled&&!n.ignored)if(n.isGroup){const u=ts(n,t);if(u!==null)return u}else return n}}return null}const Eh={getChild(){return this.ignored?null:ts(this)},getParent(){const{parent:e}=this;return e!=null&&e.isGroup?e.getParent():e},getNext(e={}){return Hs(this,"next",e)},getPrev(e={}){return Hs(this,"prev",e)}};function Th(e,t){const r=t?new Set(t):void 0,l=[];function h(b){b.forEach(y=>{l.push(y),!(y.isLeaf||!y.children||y.ignored)&&(y.isGroup||r===void 0||r.has(y.key))&&h(y.children)})}return h(e),l}function Lh(e,t){const r=e.key;for(;t;){if(t.key===r)return!0;t=t.parent}return!1}function ea(e,t,r,l,h,b=null,y=0){const i=[];return e.forEach((o,n)=>{var u;const f=Object.create(l);if(f.rawNode=o,f.siblings=i,f.level=y,f.index=n,f.isFirstChild=n===0,f.isLastChild=n+1===e.length,f.parent=b,!f.ignored){const _=h(o);Array.isArray(_)&&(f.children=ea(_,t,r,l,h,f,y+1))}i.push(f),t.set(f.key,f),r.has(y)||r.set(y,[]),(u=r.get(y))===null||u===void 0||u.push(f)}),i}function ta(e,t={}){var r;const l=new Map,h=new Map,{getDisabled:b=hh,getIgnored:y=dh,getIsGroup:i=gh,getKey:o=ch}=t,n=(r=t.getChildren)!==null&&r!==void 0?r:lh,u=t.ignoreEmptyChildren?m=>{const w=n(m);return Array.isArray(w)?w.length?w:null:w}:n,f=Object.assign({get key(){return o(this.rawNode)},get disabled(){return b(this.rawNode)},get isGroup(){return i(this.rawNode)},get isLeaf(){return ah(this.rawNode,u)},get shallowLoaded(){return uh(this.rawNode,u)},get ignored(){return y(this.rawNode)},contains(m){return Lh(this,m)}},Eh),_=ea(e,l,h,f,u);function v(m){if(m==null)return null;const w=l.get(m);return w&&!w.isGroup&&!w.ignored?w:null}function g(m){if(m==null)return null;const w=l.get(m);return w&&!w.ignored?w:null}function p(m,w){const S=g(m);return S?S.getPrev(w):null}function s(m,w){const S=g(m);return S?S.getNext(w):null}function c(m){const w=g(m);return w?w.getParent():null}function a(m){const w=g(m);return w?w.getChild():null}const d={treeNodes:_,treeNodeMap:l,levelTreeNodeMap:h,maxLevel:Math.max(...h.keys()),getChildren:u,getFlattenedNodes(m){return Th(_,m)},getNode:v,getPrev:p,getNext:s,getParent:c,getChild:a,getFirstAvailableNode(){return xh(_)},getPath(m,w={}){return Sh(m,w,d)},getCheckedKeys(m,w={}){const{cascade:S=!0,leafOnly:C=!1,checkStrategy:k="all",allowNotLoaded:R=!1}=w;return hn({checkedKeys:dn(m),indeterminateKeys:un(m),cascade:S,leafOnly:C,checkStrategy:k,allowNotLoaded:R},d)},check(m,w,S={}){const{cascade:C=!0,leafOnly:k=!1,checkStrategy:R="all",allowNotLoaded:A=!1}=S;return hn({checkedKeys:dn(w),indeterminateKeys:un(w),keysToCheck:m==null?[]:Fs(m),cascade:C,leafOnly:k,checkStrategy:R,allowNotLoaded:A},d)},uncheck(m,w,S={}){const{cascade:C=!0,leafOnly:k=!1,checkStrategy:R="all",allowNotLoaded:A=!1}=S;return hn({checkedKeys:dn(w),indeterminateKeys:un(w),keysToUncheck:m==null?[]:Fs(m),cascade:C,leafOnly:k,checkStrategy:R,allowNotLoaded:A},d)},getNonLeafKeys(m={}){return oh(_,m)}};return d}const Ah=j("empty",`
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`,[z("icon",`
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `,[Y("+",[z("description",`
 margin-top: 8px;
 `)])]),z("description",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),z("extra",`
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]),Bh=Object.assign(Object.assign({},Ne.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),Dh=de({name:"Empty",props:Bh,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:r}=ot(e),l=Ne("Empty","-empty",Ah,jl,e,t),{localeRef:h}=jn("Empty"),b=nt(Vl,null),y=X(()=>{var u,f,_;return(u=e.description)!==null&&u!==void 0?u:(_=(f=b==null?void 0:b.mergedComponentPropsRef.value)===null||f===void 0?void 0:f.Empty)===null||_===void 0?void 0:_.description}),i=X(()=>{var u,f;return((f=(u=b==null?void 0:b.mergedComponentPropsRef.value)===null||u===void 0?void 0:u.Empty)===null||f===void 0?void 0:f.renderIcon)||(()=>B(rh,null))}),o=X(()=>{const{size:u}=e,{common:{cubicBezierEaseInOut:f},self:{[pe("iconSize",u)]:_,[pe("fontSize",u)]:v,textColor:g,iconColor:p,extraTextColor:s}}=l.value;return{"--n-icon-size":_,"--n-font-size":v,"--n-bezier":f,"--n-text-color":g,"--n-icon-color":p,"--n-extra-text-color":s}}),n=r?_t("empty",X(()=>{let u="";const{size:f}=e;return u+=f[0],u}),o,e):void 0;return{mergedClsPrefix:t,mergedRenderIcon:i,localizedDescription:X(()=>y.value||h.value.description),cssVars:r?void 0:o,themeClass:n==null?void 0:n.themeClass,onRender:n==null?void 0:n.onRender}},render(){const{$slots:e,mergedClsPrefix:t,onRender:r}=this;return r==null||r(),B("div",{class:[`${t}-empty`,this.themeClass],style:this.cssVars},this.showIcon?B("div",{class:`${t}-empty__icon`},e.icon?e.icon():B(ir,{clsPrefix:t},{default:this.mergedRenderIcon})):null,this.showDescription?B("div",{class:`${t}-empty__description`},e.default?e.default():this.localizedDescription):null,e.extra?B("div",{class:`${t}-empty__extra`},e.extra()):null)}});function Oh(e,t){return B(Kr,{name:"fade-in-scale-up-transition"},{default:()=>e?B(ir,{clsPrefix:t,class:`${t}-base-select-option__check`},{default:()=>B(Ju)}):null})}const Ns=de({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:t,pendingTmNodeRef:r,multipleRef:l,valueSetRef:h,renderLabelRef:b,renderOptionRef:y,labelFieldRef:i,valueFieldRef:o,showCheckmarkRef:n,nodePropsRef:u,handleOptionClick:f,handleOptionMouseEnter:_}=nt(Vn),v=wt(()=>{const{value:c}=r;return c?e.tmNode.key===c.key:!1});function g(c){const{tmNode:a}=e;a.disabled||f(c,a)}function p(c){const{tmNode:a}=e;a.disabled||_(c,a)}function s(c){const{tmNode:a}=e,{value:d}=v;a.disabled||d||_(c,a)}return{multiple:l,isGrouped:wt(()=>{const{tmNode:c}=e,{parent:a}=c;return a&&a.rawNode.type==="group"}),showCheckmark:n,nodeProps:u,isPending:v,isSelected:wt(()=>{const{value:c}=t,{value:a}=l;if(c===null)return!1;const d=e.tmNode.rawNode[o.value];if(a){const{value:m}=h;return m.has(d)}else return c===d}),labelField:i,renderLabel:b,renderOption:y,handleMouseMove:s,handleMouseEnter:p,handleClick:g}},render(){const{clsPrefix:e,tmNode:{rawNode:t},isSelected:r,isPending:l,isGrouped:h,showCheckmark:b,nodeProps:y,renderOption:i,renderLabel:o,handleClick:n,handleMouseEnter:u,handleMouseMove:f}=this,_=Oh(r,e),v=o?[o(t,r),b&&_]:[bt(t[this.labelField],t,r),b&&_],g=y==null?void 0:y(t),p=B("div",Object.assign({},g,{class:[`${e}-base-select-option`,t.class,g==null?void 0:g.class,{[`${e}-base-select-option--disabled`]:t.disabled,[`${e}-base-select-option--selected`]:r,[`${e}-base-select-option--grouped`]:h,[`${e}-base-select-option--pending`]:l,[`${e}-base-select-option--show-checkmark`]:b}],style:[(g==null?void 0:g.style)||"",t.style||""],onClick:on([n,g==null?void 0:g.onClick]),onMouseenter:on([u,g==null?void 0:g.onMouseenter]),onMousemove:on([f,g==null?void 0:g.onMousemove])}),B("div",{class:`${e}-base-select-option__content`},v));return t.render?t.render({node:p,option:t,selected:r}):i?i({node:p,option:t,selected:r}):p}}),Ws=de({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:t,labelFieldRef:r,nodePropsRef:l}=nt(Vn);return{labelField:r,nodeProps:l,renderLabel:e,renderOption:t}},render(){const{clsPrefix:e,renderLabel:t,renderOption:r,nodeProps:l,tmNode:{rawNode:h}}=this,b=l==null?void 0:l(h),y=t?t(h,!1):bt(h[this.labelField],h,!1),i=B("div",Object.assign({},b,{class:[`${e}-base-select-group-header`,b==null?void 0:b.class]}),y);return h.render?h.render({node:i,option:h}):r?r({node:i,option:h,selected:!1}):i}}),Mh=j("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[j("scrollbar",`
 max-height: var(--n-height);
 `),j("virtual-list",`
 max-height: var(--n-height);
 `),j("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[z("content",`
 z-index: 1;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),j("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),j("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),z("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),z("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),z("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),j("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),j("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[ee("show-checkmark",`
 padding-right: calc(var(--n-option-padding-right) + 20px);
 `),Y("&::before",`
 content: "";
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),Y("&:active",`
 color: var(--n-option-text-color-pressed);
 `),ee("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),ee("pending",[Y("&::before",`
 background-color: var(--n-option-color-pending);
 `)]),ee("selected",`
 color: var(--n-option-text-color-active);
 `,[Y("&::before",`
 background-color: var(--n-option-color-active);
 `),ee("pending",[Y("&::before",`
 background-color: var(--n-option-color-active-pending);
 `)])]),ee("disabled",`
 cursor: not-allowed;
 `,[ct("selected",`
 color: var(--n-option-text-color-disabled);
 `),ee("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),z("check",`
 font-size: 16px;
 position: absolute;
 right: calc(var(--n-option-padding-right) - 4px);
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[Hr({enterScale:"0.5"})])])]),Ph=de({name:"InternalSelectMenu",props:Object.assign(Object.assign({},Ne.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(e){const t=Ne("InternalSelectMenu","-internal-select-menu",Mh,Kl,e,Be(e,"clsPrefix")),r=q(null),l=q(null),h=q(null),b=X(()=>e.treeMate.getFlattenedNodes()),y=X(()=>_h(b.value)),i=q(null);function o(){const{treeMate:F}=e;let W=null;const{value:G}=e;G===null?W=F.getFirstAvailableNode():(e.multiple?W=F.getNode((G||[])[(G||[]).length-1]):W=F.getNode(G),(!W||W.disabled)&&(W=F.getFirstAvailableNode())),D(W||null)}function n(){const{value:F}=i;F&&!e.treeMate.getNode(F.key)&&(i.value=null)}let u;qe(()=>e.show,F=>{F?u=qe(()=>e.treeMate,()=>{e.resetMenuOnOptionsChange?(e.autoPending?o():n(),gt(T)):n()},{immediate:!0}):u==null||u()},{immediate:!0}),Gt(()=>{u==null||u()});const f=X(()=>Ht(t.value.self[pe("optionHeight",e.size)])),_=X(()=>li(t.value.self[pe("padding",e.size)])),v=X(()=>e.multiple&&Array.isArray(e.value)?new Set(e.value):new Set),g=X(()=>{const F=b.value;return F&&F.length===0});function p(F){const{onToggle:W}=e;W&&W(F)}function s(F){const{onScroll:W}=e;W&&W(F)}function c(F){var W;(W=h.value)===null||W===void 0||W.sync(),s(F)}function a(){var F;(F=h.value)===null||F===void 0||F.sync()}function d(){const{value:F}=i;return F||null}function m(F,W){W.disabled||D(W,!1)}function w(F,W){W.disabled||p(W)}function S(F){var W;Wr(F,"action")||(W=e.onKeyup)===null||W===void 0||W.call(e,F)}function C(F){var W;Wr(F,"action")||(W=e.onKeydown)===null||W===void 0||W.call(e,F)}function k(F){var W;(W=e.onMousedown)===null||W===void 0||W.call(e,F),!e.focusable&&F.preventDefault()}function R(){const{value:F}=i;F&&D(F.getNext({loop:!0}),!0)}function A(){const{value:F}=i;F&&D(F.getPrev({loop:!0}),!0)}function D(F,W=!1){i.value=F,W&&T()}function T(){var F,W;const G=i.value;if(!G)return;const te=y.value(G.key);te!==null&&(e.virtualScroll?(F=l.value)===null||F===void 0||F.scrollTo({index:te}):(W=h.value)===null||W===void 0||W.scrollTo({index:te,elSize:f.value}))}function x(F){var W,G;!((W=r.value)===null||W===void 0)&&W.contains(F.target)&&((G=e.onFocus)===null||G===void 0||G.call(e,F))}function E(F){var W,G;!((W=r.value)===null||W===void 0)&&W.contains(F.relatedTarget)||(G=e.onBlur)===null||G===void 0||G.call(e,F)}at(Vn,{handleOptionMouseEnter:m,handleOptionClick:w,valueSetRef:v,pendingTmNodeRef:i,nodePropsRef:Be(e,"nodeProps"),showCheckmarkRef:Be(e,"showCheckmark"),multipleRef:Be(e,"multiple"),valueRef:Be(e,"value"),renderLabelRef:Be(e,"renderLabel"),renderOptionRef:Be(e,"renderOption"),labelFieldRef:Be(e,"labelField"),valueFieldRef:Be(e,"valueField")}),at(ql,r),Dt(()=>{const{value:F}=h;F&&F.sync()});const L=X(()=>{const{size:F}=e,{common:{cubicBezierEaseInOut:W},self:{height:G,borderRadius:te,color:P,groupHeaderTextColor:ae,actionDividerColor:re,optionTextColorPressed:I,optionTextColor:U,optionTextColorDisabled:oe,optionTextColorActive:Q,optionOpacityDisabled:fe,optionCheckColor:ce,actionTextColor:Oe,optionColorPending:Ce,optionColorActive:Ue,loadingColor:ue,loadingSize:me,optionColorActivePending:Ee,[pe("optionFontSize",F)]:De,[pe("optionHeight",F)]:et,[pe("optionPadding",F)]:Me}}=t.value;return{"--n-height":G,"--n-action-divider-color":re,"--n-action-text-color":Oe,"--n-bezier":W,"--n-border-radius":te,"--n-color":P,"--n-option-font-size":De,"--n-group-header-text-color":ae,"--n-option-check-color":ce,"--n-option-color-pending":Ce,"--n-option-color-active":Ue,"--n-option-color-active-pending":Ee,"--n-option-height":et,"--n-option-opacity-disabled":fe,"--n-option-text-color":U,"--n-option-text-color-active":Q,"--n-option-text-color-disabled":oe,"--n-option-text-color-pressed":I,"--n-option-padding":Me,"--n-option-padding-left":li(Me,"left"),"--n-option-padding-right":li(Me,"right"),"--n-loading-color":ue,"--n-loading-size":me}}),{inlineThemeDisabled:O}=e,M=O?_t("internal-select-menu",X(()=>e.size[0]),L,e):void 0,V={selfRef:r,next:R,prev:A,getPendingTmNode:d};return Jo(r,e.onResize),Object.assign({mergedTheme:t,virtualListRef:l,scrollbarRef:h,itemSize:f,padding:_,flattenedNodes:b,empty:g,virtualListContainer(){const{value:F}=l;return F==null?void 0:F.listElRef},virtualListContent(){const{value:F}=l;return F==null?void 0:F.itemsElRef},doScroll:s,handleFocusin:x,handleFocusout:E,handleKeyUp:S,handleKeyDown:C,handleMouseDown:k,handleVirtualListResize:a,handleVirtualListScroll:c,cssVars:O?void 0:L,themeClass:M==null?void 0:M.themeClass,onRender:M==null?void 0:M.onRender},V)},render(){const{$slots:e,virtualScroll:t,clsPrefix:r,mergedTheme:l,themeClass:h,onRender:b}=this;return b==null||b(),B("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${r}-base-select-menu`,h,this.multiple&&`${r}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},this.loading?B("div",{class:`${r}-base-select-menu__loading`},B(Xi,{clsPrefix:r,strokeWidth:20})):this.empty?B("div",{class:`${r}-base-select-menu__empty`,"data-empty":!0},dr(e.empty,()=>[B(Dh,{theme:l.peers.Empty,themeOverrides:l.peerOverrides.Empty})])):B(Zi,{ref:"scrollbarRef",theme:l.peers.Scrollbar,themeOverrides:l.peerOverrides.Scrollbar,scrollable:this.scrollable,container:t?this.virtualListContainer:void 0,content:t?this.virtualListContent:void 0,onScroll:t?void 0:this.doScroll},{default:()=>t?B(Bu,{ref:"virtualListRef",class:`${r}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:y})=>y.isGroup?B(Ws,{key:y.key,clsPrefix:r,tmNode:y}):y.ignored?null:B(Ns,{clsPrefix:r,key:y.key,tmNode:y})}):B("div",{class:`${r}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(y=>y.isGroup?B(Ws,{key:y.key,clsPrefix:r,tmNode:y}):B(Ns,{clsPrefix:r,key:y.key,tmNode:y})))}),Ze(e.action,y=>y&&[B("div",{class:`${r}-base-select-menu__action`,"data-action":!0,key:"action"},y),B(sh,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),$h=j("base-wave",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
`),ra=de({name:"BaseWave",props:{clsPrefix:{type:String,required:!0}},setup(e){qr("-base-wave",$h,Be(e,"clsPrefix"));const t=q(null),r=q(!1);let l=null;return Gt(()=>{l!==null&&window.clearTimeout(l)}),{active:r,selfRef:t,play(){l!==null&&(window.clearTimeout(l),r.value=!1,l=null),gt(()=>{var h;(h=t.value)===null||h===void 0||h.offsetHeight,r.value=!0,l=window.setTimeout(()=>{r.value=!1,l=null},1e3)})}}},render(){const{clsPrefix:e}=this;return B("div",{ref:"selfRef","aria-hidden":!0,class:[`${e}-base-wave`,this.active&&`${e}-base-wave--active`]})}}),Ih=j("base-clear",`
 flex-shrink: 0;
 height: 1em;
 width: 1em;
 position: relative;
`,[Y(">",[z("clear",`
 font-size: var(--n-clear-size);
 height: 1em;
 width: 1em;
 cursor: pointer;
 color: var(--n-clear-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 `,[Y("&:hover",`
 color: var(--n-clear-color-hover)!important;
 `),Y("&:active",`
 color: var(--n-clear-color-pressed)!important;
 `)]),z("placeholder",`
 display: flex;
 `),z("clear, placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Ii({originalTransform:"translateX(-50%) translateY(-50%)",left:"50%",top:"50%"})])])]),Bn=de({name:"BaseClear",props:{clsPrefix:{type:String,required:!0},show:Boolean,onClear:Function},setup(e){return qr("-base-clear",Ih,Be(e,"clsPrefix")),{handleMouseDown(t){t.preventDefault()}}},render(){const{clsPrefix:e}=this;return B("div",{class:`${e}-base-clear`},B(Kn,null,{default:()=>{var t,r;return this.show?B("div",{key:"dismiss",class:`${e}-base-clear__clear`,onClick:this.onClear,onMousedown:this.handleMouseDown,"data-clear":!0},dr(this.$slots.icon,()=>[B(ir,{clsPrefix:e},{default:()=>B(nh,null)})])):B("div",{key:"icon",class:`${e}-base-clear__placeholder`},(r=(t=this.$slots).placeholder)===null||r===void 0?void 0:r.call(t))}}))}}),ia=de({name:"InternalSelectionSuffix",props:{clsPrefix:{type:String,required:!0},showArrow:{type:Boolean,default:void 0},showClear:{type:Boolean,default:void 0},loading:{type:Boolean,default:!1},onClear:Function},setup(e,{slots:t}){return()=>{const{clsPrefix:r}=e;return B(Xi,{clsPrefix:r,class:`${r}-base-suffix`,strokeWidth:24,scale:.85,show:e.loading},{default:()=>e.showArrow?B(Bn,{clsPrefix:r,show:e.showClear,onClear:e.onClear},{placeholder:()=>B(ir,{clsPrefix:r,class:`${r}-base-suffix__arrow`},{default:()=>dr(t.default,()=>[B(ih,null)])})}):null})}}}),zh=Y([j("base-selection",`
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[j("base-loading",`
 color: var(--n-loading-color);
 `),j("base-selection-tags","min-height: var(--n-height);"),z("border, state-border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),z("state-border",`
 z-index: 1;
 border-color: #0000;
 `),j("base-suffix",`
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `,[z("arrow",`
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]),j("base-selection-overlay",`
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `,[z("wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),j("base-selection-placeholder",`
 color: var(--n-placeholder-color);
 `,[z("inner",`
 max-width: 100%;
 overflow: hidden;
 `)]),j("base-selection-tags",`
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),j("base-selection-label",`
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `,[j("base-selection-input",`
 font-size: inherit;
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `,[z("content",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]),z("render-label",`
 color: var(--n-text-color);
 `)]),ct("disabled",[Y("&:hover",[z("state-border",`
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]),ee("focus",[z("state-border",`
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]),ee("active",[z("state-border",`
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `),j("base-selection-label","background-color: var(--n-color-active);"),j("base-selection-tags","background-color: var(--n-color-active);")])]),ee("disabled","cursor: not-allowed;",[z("arrow",`
 color: var(--n-arrow-color-disabled);
 `),j("base-selection-label",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[j("base-selection-input",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `),z("render-label",`
 color: var(--n-text-color-disabled);
 `)]),j("base-selection-tags",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `),j("base-selection-placeholder",`
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]),j("base-selection-input-tag",`
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `,[z("input",`
 font-size: inherit;
 font-family: inherit;
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `),z("mirror",`
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 -webkit-user-select: none;
 opacity: 0;
 `)]),["warning","error"].map(e=>ee(`${e}-status`,[z("state-border",`border: var(--n-border-${e});`),ct("disabled",[Y("&:hover",[z("state-border",`
 box-shadow: var(--n-box-shadow-hover-${e});
 border: var(--n-border-hover-${e});
 `)]),ee("active",[z("state-border",`
 box-shadow: var(--n-box-shadow-active-${e});
 border: var(--n-border-active-${e});
 `),j("base-selection-label",`background-color: var(--n-color-active-${e});`),j("base-selection-tags",`background-color: var(--n-color-active-${e});`)]),ee("focus",[z("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)])])]))]),j("base-selection-popover",`
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 margin-right: -8px;
 `),j("base-selection-tag-wrapper",`
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `,[Y("&:last-child","padding-right: 0;"),j("tag",`
 font-size: 14px;
 max-width: 100%;
 `,[z("content",`
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]),Fh=de({name:"InternalSelection",props:Object.assign(Object.assign({},Ne.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,onResize:Function}),setup(e){const t=q(null),r=q(null),l=q(null),h=q(null),b=q(null),y=q(null),i=q(null),o=q(null),n=q(null),u=q(null),f=q(!1),_=q(!1),v=q(!1),g=Ne("InternalSelection","-internal-selection",zh,Gl,e,Be(e,"clsPrefix")),p=X(()=>e.clearable&&!e.disabled&&(v.value||e.active)),s=X(()=>e.selectedOption?e.renderTag?e.renderTag({option:e.selectedOption,handleClose:()=>{}}):e.renderLabel?e.renderLabel(e.selectedOption,!0):bt(e.selectedOption[e.labelField],e.selectedOption,!0):e.placeholder),c=X(()=>{const se=e.selectedOption;if(!!se)return se[e.labelField]}),a=X(()=>e.multiple?!!(Array.isArray(e.selectedOptions)&&e.selectedOptions.length):e.selectedOption!==null);function d(){var se;const{value:ve}=t;if(ve){const{value:je}=r;je&&(je.style.width=`${ve.offsetWidth}px`,e.maxTagCount!=="responsive"&&((se=n.value)===null||se===void 0||se.sync()))}}function m(){const{value:se}=u;se&&(se.style.display="none")}function w(){const{value:se}=u;se&&(se.style.display="inline-block")}qe(Be(e,"active"),se=>{se||m()}),qe(Be(e,"pattern"),()=>{e.multiple&&gt(d)});function S(se){const{onFocus:ve}=e;ve&&ve(se)}function C(se){const{onBlur:ve}=e;ve&&ve(se)}function k(se){const{onDeleteOption:ve}=e;ve&&ve(se)}function R(se){const{onClear:ve}=e;ve&&ve(se)}function A(se){const{onPatternInput:ve}=e;ve&&ve(se)}function D(se){var ve;(!se.relatedTarget||!(!((ve=l.value)===null||ve===void 0)&&ve.contains(se.relatedTarget)))&&S(se)}function T(se){var ve;!((ve=l.value)===null||ve===void 0)&&ve.contains(se.relatedTarget)||C(se)}function x(se){R(se)}function E(){v.value=!0}function L(){v.value=!1}function O(se){!e.active||!e.filterable||se.target!==r.value&&se.preventDefault()}function M(se){k(se)}function V(se){if(se.key==="Backspace"&&!F.value&&!e.pattern.length){const{selectedOptions:ve}=e;ve!=null&&ve.length&&M(ve[ve.length-1])}}const F=q(!1);let W=null;function G(se){const{value:ve}=t;if(ve){const je=se.target.value;ve.textContent=je,d()}F.value?W=se:A(se)}function te(){F.value=!0}function P(){F.value=!1,A(W),W=null}function ae(se){var ve;_.value=!0,(ve=e.onPatternFocus)===null||ve===void 0||ve.call(e,se)}function re(se){var ve;_.value=!1,(ve=e.onPatternBlur)===null||ve===void 0||ve.call(e,se)}function I(){var se,ve;if(e.filterable)_.value=!1,(se=y.value)===null||se===void 0||se.blur(),(ve=r.value)===null||ve===void 0||ve.blur();else if(e.multiple){const{value:je}=h;je==null||je.blur()}else{const{value:je}=b;je==null||je.blur()}}function U(){var se,ve,je;e.filterable?(_.value=!1,(se=y.value)===null||se===void 0||se.focus()):e.multiple?(ve=h.value)===null||ve===void 0||ve.focus():(je=b.value)===null||je===void 0||je.focus()}function oe(){const{value:se}=r;se&&(w(),se.focus())}function Q(){const{value:se}=r;se&&se.blur()}function fe(se){const{value:ve}=i;ve&&ve.setTextContent(`+${se}`)}function ce(){const{value:se}=o;return se}function Oe(){return r.value}let Ce=null;function Ue(){Ce!==null&&window.clearTimeout(Ce)}function ue(){e.disabled||e.active||(Ue(),Ce=window.setTimeout(()=>{f.value=!0},100))}function me(){Ue()}function Ee(se){se||(Ue(),f.value=!1)}Dt(()=>{zi(()=>{const se=y.value;!se||(se.tabIndex=e.disabled||_.value?-1:0)})}),Jo(l,e.onResize);const{inlineThemeDisabled:De}=e,et=X(()=>{const{size:se}=e,{common:{cubicBezierEaseInOut:ve},self:{borderRadius:je,color:ut,placeholderColor:Zt,textColor:Jt,paddingSingle:Qt,paddingMultiple:Nt,caretColor:Wt,colorDisabled:Ot,textColorDisabled:Mt,placeholderColorDisabled:yt,colorActive:Pt,boxShadowFocus:$t,boxShadowActive:st,boxShadowHover:J,border:ge,borderFocus:we,borderHover:Ie,borderActive:ze,arrowColor:Fe,arrowColorDisabled:$e,loadingColor:Xe,colorActiveWarning:It,boxShadowFocusWarning:or,boxShadowActiveWarning:Ut,boxShadowHoverWarning:er,borderWarning:Xr,borderFocusWarning:Tt,borderHoverWarning:fr,borderActiveWarning:jt,colorActiveError:N,boxShadowFocusError:ne,boxShadowActiveError:ke,boxShadowHoverError:Ve,borderError:tt,borderFocusError:rt,borderHoverError:zt,borderActiveError:Ft,clearColor:Vt,clearColorHover:Se,clearColorPressed:H,clearSize:le,arrowSize:_e,[pe("height",se)]:We,[pe("fontSize",se)]:ht}}=g.value;return{"--n-bezier":ve,"--n-border":ge,"--n-border-active":ze,"--n-border-focus":we,"--n-border-hover":Ie,"--n-border-radius":je,"--n-box-shadow-active":st,"--n-box-shadow-focus":$t,"--n-box-shadow-hover":J,"--n-caret-color":Wt,"--n-color":ut,"--n-color-active":Pt,"--n-color-disabled":Ot,"--n-font-size":ht,"--n-height":We,"--n-padding-single":Qt,"--n-padding-multiple":Nt,"--n-placeholder-color":Zt,"--n-placeholder-color-disabled":yt,"--n-text-color":Jt,"--n-text-color-disabled":Mt,"--n-arrow-color":Fe,"--n-arrow-color-disabled":$e,"--n-loading-color":Xe,"--n-color-active-warning":It,"--n-box-shadow-focus-warning":or,"--n-box-shadow-active-warning":Ut,"--n-box-shadow-hover-warning":er,"--n-border-warning":Xr,"--n-border-focus-warning":Tt,"--n-border-hover-warning":fr,"--n-border-active-warning":jt,"--n-color-active-error":N,"--n-box-shadow-focus-error":ne,"--n-box-shadow-active-error":ke,"--n-box-shadow-hover-error":Ve,"--n-border-error":tt,"--n-border-focus-error":rt,"--n-border-hover-error":zt,"--n-border-active-error":Ft,"--n-clear-size":le,"--n-clear-color":Vt,"--n-clear-color-hover":Se,"--n-clear-color-pressed":H,"--n-arrow-size":_e}}),Me=De?_t("internal-selection",X(()=>e.size[0]),et,e):void 0;return{mergedTheme:g,mergedClearable:p,patternInputFocused:_,filterablePlaceholder:s,label:c,selected:a,showTagsPanel:f,isCompositing:F,counterRef:i,counterWrapperRef:o,patternInputMirrorRef:t,patternInputRef:r,selfRef:l,multipleElRef:h,singleElRef:b,patternInputWrapperRef:y,overflowRef:n,inputTagElRef:u,handleMouseDown:O,handleFocusin:D,handleClear:x,handleMouseEnter:E,handleMouseLeave:L,handleDeleteOption:M,handlePatternKeyDown:V,handlePatternInputInput:G,handlePatternInputBlur:re,handlePatternInputFocus:ae,handleMouseEnterCounter:ue,handleMouseLeaveCounter:me,handleFocusout:T,handleCompositionEnd:P,handleCompositionStart:te,onPopoverUpdateShow:Ee,focus:U,focusInput:oe,blur:I,blurInput:Q,updateCounter:fe,getCounter:ce,getTail:Oe,renderLabel:e.renderLabel,cssVars:De?void 0:et,themeClass:Me==null?void 0:Me.themeClass,onRender:Me==null?void 0:Me.onRender}},render(){const{status:e,multiple:t,size:r,disabled:l,filterable:h,maxTagCount:b,bordered:y,clsPrefix:i,onRender:o,renderTag:n,renderLabel:u}=this;o==null||o();const f=b==="responsive",_=typeof b=="number",v=f||_,g=B(Yl,null,{default:()=>B(ia,{clsPrefix:i,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var s,c;return(c=(s=this.$slots).arrow)===null||c===void 0?void 0:c.call(s)}})});let p;if(t){const{labelField:s}=this,c=T=>B("div",{class:`${i}-base-selection-tag-wrapper`,key:T.value},n?n({option:T,handleClose:()=>this.handleDeleteOption(T)}):B(ci,{size:r,closable:!T.disabled,disabled:l,onClose:()=>this.handleDeleteOption(T),internalCloseFocusable:!1},{default:()=>u?u(T,!0):bt(T[s],T,!0)})),a=(_?this.selectedOptions.slice(0,b):this.selectedOptions).map(c),d=h?B("div",{class:`${i}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},B("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:l,value:this.pattern,autofocus:this.autofocus,class:`${i}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),B("span",{ref:"patternInputMirrorRef",class:`${i}-base-selection-input-tag__mirror`},this.pattern)):null,m=f?()=>B("div",{class:`${i}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},B(ci,{size:r,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:l})):void 0;let w;if(_){const T=this.selectedOptions.length-b;T>0&&(w=B("div",{class:`${i}-base-selection-tag-wrapper`,key:"__counter__"},B(ci,{size:r,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:l},{default:()=>`+${T}`})))}const S=f?h?B(Ts,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:()=>a,counter:m,tail:()=>d}):B(Ts,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:()=>a,counter:m}):_?a.concat(w):a,C=v?()=>B("div",{class:`${i}-base-selection-popover`},f?a:this.selectedOptions.map(c)):void 0,k=v?{show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover}:null,A=(this.selected?!1:this.active?!this.pattern&&!this.isCompositing:!0)?B("div",{class:`${i}-base-selection-placeholder ${i}-base-selection-overlay`},B("div",{class:`${i}-base-selection-placeholder__inner`},this.placeholder)):null,D=h?B("div",{ref:"patternInputWrapperRef",class:`${i}-base-selection-tags`},S,f?null:d,g):B("div",{ref:"multipleElRef",class:`${i}-base-selection-tags`,tabindex:l?void 0:0},S,g);p=B(Ye,null,v?B(Rr,Object.assign({},k,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>D,default:C}):D,A)}else if(h){const s=this.pattern||this.isCompositing,c=this.active?!s:!this.selected,a=this.active?!1:this.selected;p=B("div",{ref:"patternInputWrapperRef",class:`${i}-base-selection-label`},B("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${i}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:l,disabled:l,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),a?B("div",{class:`${i}-base-selection-label__render-label ${i}-base-selection-overlay`,key:"input"},B("div",{class:`${i}-base-selection-overlay__wrapper`},n?n({option:this.selectedOption,handleClose:()=>{}}):u?u(this.selectedOption,!0):bt(this.label,this.selectedOption,!0))):null,c?B("div",{class:`${i}-base-selection-placeholder ${i}-base-selection-overlay`,key:"placeholder"},B("div",{class:`${i}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,g)}else p=B("div",{ref:"singleElRef",class:`${i}-base-selection-label`,tabindex:this.disabled?void 0:0},this.label!==void 0?B("div",{class:`${i}-base-selection-input`,title:Xo(this.label),key:"input"},B("div",{class:`${i}-base-selection-input__content`},n?n({option:this.selectedOption,handleClose:()=>{}}):u?u(this.selectedOption,!0):bt(this.label,this.selectedOption,!0))):B("div",{class:`${i}-base-selection-placeholder ${i}-base-selection-overlay`,key:"placeholder"},B("div",{class:`${i}-base-selection-placeholder__inner`},this.placeholder)),g);return B("div",{ref:"selfRef",class:[`${i}-base-selection`,this.themeClass,e&&`${i}-base-selection--${e}-status`,{[`${i}-base-selection--active`]:this.active,[`${i}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${i}-base-selection--disabled`]:this.disabled,[`${i}-base-selection--multiple`]:this.multiple,[`${i}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},p,y?B("div",{class:`${i}-base-selection__border`}):null,y?B("div",{class:`${i}-base-selection__state-border`}):null)}}),Us=de({name:"SlotMachineNumber",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],required:!0},oldOriginalNumber:{type:Number,default:void 0},newOriginalNumber:{type:Number,default:void 0}},setup(e){const t=q(null),r=q(e.value),l=q(e.value),h=q("up"),b=q(!1),y=X(()=>b.value?`${e.clsPrefix}-base-slot-machine-current-number--${h.value}-scroll`:null),i=X(()=>b.value?`${e.clsPrefix}-base-slot-machine-old-number--${h.value}-scroll`:null);qe(Be(e,"value"),(u,f)=>{r.value=f,l.value=u,gt(o)});function o(){const u=e.newOriginalNumber,f=e.oldOriginalNumber;f===void 0||u===void 0||(u>f?n("up"):f>u&&n("down"))}function n(u){h.value=u,b.value=!1,gt(()=>{var f;(f=t.value)===null||f===void 0||f.offsetWidth,b.value=!0})}return()=>{const{clsPrefix:u}=e;return B("span",{ref:t,class:`${u}-base-slot-machine-number`},r.value!==null?B("span",{class:[`${u}-base-slot-machine-old-number ${u}-base-slot-machine-old-number--top`,i.value]},r.value):null,B("span",{class:[`${u}-base-slot-machine-current-number`,y.value]},B("span",{ref:"numberWrapper",class:[`${u}-base-slot-machine-current-number__inner`,typeof e.value!="number"&&`${u}-base-slot-machine-current-number__inner--not-number`]},l.value)),r.value!==null?B("span",{class:[`${u}-base-slot-machine-old-number ${u}-base-slot-machine-old-number--bottom`,i.value]},r.value):null)}}}),{cubicBezierEaseInOut:pr}=To;function na({duration:e=".2s",delay:t=".1s"}={}){return[Y("&.fade-in-width-expand-transition-leave-from, &.fade-in-width-expand-transition-enter-to",{opacity:1}),Y("&.fade-in-width-expand-transition-leave-to, &.fade-in-width-expand-transition-enter-from",`
 opacity: 0!important;
 margin-left: 0!important;
 margin-right: 0!important;
 `),Y("&.fade-in-width-expand-transition-leave-active",`
 overflow: hidden;
 transition:
 opacity ${e} ${pr},
 max-width ${e} ${pr} ${t},
 margin-left ${e} ${pr} ${t},
 margin-right ${e} ${pr} ${t};
 `),Y("&.fade-in-width-expand-transition-enter-active",`
 overflow: hidden;
 transition:
 opacity ${e} ${pr} ${t},
 max-width ${e} ${pr},
 margin-left ${e} ${pr},
 margin-right ${e} ${pr};
 `)]}const{cubicBezierEaseOut:Dr}=To;function Hh({duration:e=".2s"}={}){return[Y("&.fade-up-width-expand-transition-leave-active",{transition:`
 opacity ${e} ${Dr},
 max-width ${e} ${Dr},
 transform ${e} ${Dr}
 `}),Y("&.fade-up-width-expand-transition-enter-active",{transition:`
 opacity ${e} ${Dr},
 max-width ${e} ${Dr},
 transform ${e} ${Dr}
 `}),Y("&.fade-up-width-expand-transition-enter-to",{opacity:1,transform:"translateX(0) translateY(0)"}),Y("&.fade-up-width-expand-transition-enter-from",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"}),Y("&.fade-up-width-expand-transition-leave-from",{opacity:1,transform:"translateY(0)"}),Y("&.fade-up-width-expand-transition-leave-to",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"})]}const Nh=Y([Y("@keyframes n-base-slot-machine-fade-up-in",`
 from {
 transform: translateY(60%);
 opacity: 0;
 }
 to {
 transform: translateY(0);
 opacity: 1;
 }
 `),Y("@keyframes n-base-slot-machine-fade-down-in",`
 from {
 transform: translateY(-60%);
 opacity: 0;
 }
 to {
 transform: translateY(0);
 opacity: 1;
 }
 `),Y("@keyframes n-base-slot-machine-fade-up-out",`
 from {
 transform: translateY(0%);
 opacity: 1;
 }
 to {
 transform: translateY(-60%);
 opacity: 0;
 }
 `),Y("@keyframes n-base-slot-machine-fade-down-out",`
 from {
 transform: translateY(0%);
 opacity: 1;
 }
 to {
 transform: translateY(60%);
 opacity: 0;
 }
 `),j("base-slot-machine",`
 overflow: hidden;
 white-space: nowrap;
 display: inline-block;
 height: 18px;
 line-height: 18px;
 `,[j("base-slot-machine-number",`
 display: inline-block;
 position: relative;
 height: 18px;
 width: .6em;
 max-width: .6em;
 `,[Hh({duration:".2s"}),na({duration:".2s",delay:"0s"}),j("base-slot-machine-old-number",`
 display: inline-block;
 opacity: 0;
 position: absolute;
 left: 0;
 right: 0;
 `,[ee("top",{transform:"translateY(-100%)"}),ee("bottom",{transform:"translateY(100%)"}),ee("down-scroll",{animation:"n-base-slot-machine-fade-down-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),ee("up-scroll",{animation:"n-base-slot-machine-fade-up-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1})]),j("base-slot-machine-current-number",`
 display: inline-block;
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 1;
 transform: translateY(0);
 width: .6em;
 `,[ee("down-scroll",{animation:"n-base-slot-machine-fade-down-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),ee("up-scroll",{animation:"n-base-slot-machine-fade-up-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),z("inner",`
 display: inline-block;
 position: absolute;
 right: 0;
 top: 0;
 width: .6em;
 `,[ee("not-number",`
 right: unset;
 left: 0;
 `)])])])])]),Wh=de({name:"BaseSlotMachine",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],default:0},max:{type:Number,default:void 0},appeared:{type:Boolean,required:!0}},setup(e){qr("-base-slot-machine",Nh,Be(e,"clsPrefix"));const t=q(),r=q(),l=X(()=>{if(typeof e.value=="string")return[];if(e.value<1)return[0];const h=[];let b=e.value;for(e.max!==void 0&&(b=Math.min(e.max,b));b>=1;)h.push(b%10),b/=10,b=Math.floor(b);return h.reverse(),h});return qe(Be(e,"value"),(h,b)=>{typeof h=="string"?(r.value=void 0,t.value=void 0):typeof b=="string"?(r.value=h,t.value=void 0):(r.value=h,t.value=b)}),()=>{const{value:h,clsPrefix:b}=e;return typeof h=="number"?B("span",{class:`${b}-base-slot-machine`},B(Lo,{name:"fade-up-width-expand-transition",tag:"span"},{default:()=>l.value.map((y,i)=>B(Us,{clsPrefix:b,key:l.value.length-i-1,oldOriginalNumber:t.value,newOriginalNumber:r.value,value:y}))}),B(qn,{key:"+",width:!0},{default:()=>e.max!==void 0&&e.max<h?B(Us,{clsPrefix:b,value:"+"}):null})):B("span",{class:`${b}-base-slot-machine`},h)}}});function Ui(e){return e.type==="group"}function sa(e){return e.type==="ignored"}function fn(e,t){try{return!!(1+t.toString().toLowerCase().indexOf(e.trim().toLowerCase()))}catch{return!1}}function Uh(e,t){return{getIsGroup:Ui,getIgnored:sa,getKey(l){return Ui(l)?l.name||l.key||"key-required":l[e]},getChildren(l){return l[t]}}}function jh(e,t,r,l){if(!t)return e;function h(b){if(!Array.isArray(b))return[];const y=[];for(const i of b)if(Ui(i)){const o=h(i[l]);o.length&&y.push(Object.assign({},i,{[l]:o}))}else{if(sa(i))continue;t(r,i)&&y.push(i)}return y}return h(e)}function Vh(e,t,r){const l=new Map;return e.forEach(h=>{Ui(h)?h[r].forEach(b=>{l.set(b[t],b)}):l.set(h[t],h)}),l}const Kh=Vr&&"chrome"in window;Vr&&navigator.userAgent.includes("Firefox");const oa=Vr&&navigator.userAgent.includes("Safari")&&!Kh,aa=Yt("n-input");function qh(e){let t=0;for(const r of e)t++;return t}function wi(e){return e===""||e==null}function Gh(e){const t=q(null);function r(){const{value:b}=e;if(!(b!=null&&b.focus)){h();return}const{selectionStart:y,selectionEnd:i,value:o}=b;if(y==null||i==null){h();return}t.value={start:y,end:i,beforeText:o.slice(0,y),afterText:o.slice(i)}}function l(){var b;const{value:y}=t,{value:i}=e;if(!y||!i)return;const{value:o}=i,{start:n,beforeText:u,afterText:f}=y;let _=o.length;if(o.endsWith(f))_=o.length-f.length;else if(o.startsWith(u))_=u.length;else{const v=u[n-1],g=o.indexOf(v,n-1);g!==-1&&(_=g+1)}(b=i.setSelectionRange)===null||b===void 0||b.call(i,_,_)}function h(){t.value=null}return qe(e,h),{recordCursor:r,restoreCursor:l}}const js=de({name:"InputWordCount",setup(e,{slots:t}){const{mergedValueRef:r,maxlengthRef:l,mergedClsPrefixRef:h}=nt(aa),b=X(()=>{const{value:y}=r;return y===null||Array.isArray(y)?0:qh(y)});return()=>{const{value:y}=l,{value:i}=r;return B("span",{class:`${h.value}-input-word-count`},Xl(t.default,{value:i===null||Array.isArray(i)?"":i},()=>[y===void 0?b.value:`${b.value} / ${y}`]))}}}),Yh=j("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);
`,[z("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),z("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 -webkit-text-fill-color .3s var(--n-bezier),
 caret-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 `),z("input-el, textarea-el",`
 -webkit-appearance: none;
 scrollbar-width: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--n-text-decoration-color);
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 background-color: transparent;
 `,[Y("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),Y("&::placeholder",`
 color: #0000;
 -webkit-text-fill-color: transparent !important;
 `),Y("&:-webkit-autofill ~",[z("placeholder","display: none;")])]),ee("round",[ct("textarea","border-radius: calc(var(--n-height) / 2);")]),z("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--n-placeholder-color);
 `,[Y("span",`
 width: 100%;
 display: inline-block;
 `)]),ee("textarea",[z("placeholder","overflow: visible;")]),ct("autosize","width: 100%;"),ee("autosize",[z("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),j("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 `),z("input-mirror",`
 padding: 0;
 height: var(--n-height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: nowrap;
 pointer-events: none;
 `),z("input-el",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[Y("+",[z("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),ct("textarea",[z("placeholder","white-space: nowrap;")]),z("eye",`
 transition: color .3s var(--n-bezier);
 `),ee("textarea","width: 100%;",[j("input-word-count",`
 position: absolute;
 right: var(--n-padding-right);
 bottom: var(--n-padding-vertical);
 `),ee("resizable",[j("input-wrapper",`
 resize: vertical;
 min-height: var(--n-height);
 `)]),z("textarea-el, textarea-mirror, placeholder",`
 height: 100%;
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--n-padding-vertical);
 padding-bottom: var(--n-padding-vertical);
 word-break: break-word;
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--n-line-height-textarea);
 margin: 0;
 resize: none;
 white-space: pre-wrap;
 `),z("textarea-mirror",`
 width: 100%;
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),ee("pair",[z("input-el, placeholder","text-align: center;"),z("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 white-space: nowrap;
 `,[j("icon",`
 color: var(--n-icon-color);
 `),j("base-icon",`
 color: var(--n-icon-color);
 `)])]),ee("disabled",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[z("border","border: var(--n-border-disabled);"),z("input-el, textarea-el",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 text-decoration-color: var(--n-text-color-disabled);
 `),z("placeholder","color: var(--n-placeholder-color-disabled);"),z("separator","color: var(--n-text-color-disabled);",[j("icon",`
 color: var(--n-icon-color-disabled);
 `),j("base-icon",`
 color: var(--n-icon-color-disabled);
 `)]),j("input-word-count",`
 color: var(--n-count-text-color-disabled);
 `),z("suffix, prefix","color: var(--n-text-color-disabled);",[j("icon",`
 color: var(--n-icon-color-disabled);
 `),j("internal-icon",`
 color: var(--n-icon-color-disabled);
 `)])]),ct("disabled",[z("eye",`
 display: flex;
 align-items: center;
 justify-content: center;
 color: var(--n-icon-color);
 cursor: pointer;
 `,[Y("&:hover",`
 color: var(--n-icon-color-hover);
 `),Y("&:active",`
 color: var(--n-icon-color-pressed);
 `)]),Y("&:hover",[z("state-border","border: var(--n-border-hover);")]),ee("focus","background-color: var(--n-color-focus);",[z("state-border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),z("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--n-border);
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),z("state-border",`
 border-color: #0000;
 z-index: 1;
 `),z("prefix","margin-right: 4px;"),z("suffix",`
 margin-left: 4px;
 `),z("suffix, prefix",`
 transition: color .3s var(--n-bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--n-height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-suffix-text-color);
 `,[j("base-loading",`
 font-size: var(--n-icon-size);
 margin: 0 2px;
 color: var(--n-loading-color);
 `),j("base-clear",`
 font-size: var(--n-icon-size);
 `,[z("placeholder",[j("base-icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)])]),Y(">",[j("icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),j("base-icon",`
 font-size: var(--n-icon-size);
 `)]),j("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--n-count-text-color);
 transition: color .3s var(--n-bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `),["warning","error"].map(e=>ee(`${e}-status`,[ct("disabled",[j("base-loading",`
 color: var(--n-loading-color-${e})
 `),z("input-el, textarea-el",`
 caret-color: var(--n-caret-color-${e});
 `),z("state-border",`
 border: var(--n-border-${e});
 `),Y("&:hover",[z("state-border",`
 border: var(--n-border-hover-${e});
 `)]),Y("&:focus",`
 background-color: var(--n-color-focus-${e});
 `,[z("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)]),ee("focus",`
 background-color: var(--n-color-focus-${e});
 `,[z("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)])])]))]),Xh=j("input",[ee("disabled",[z("input-el, textarea-el",`
 -webkit-text-fill-color: var(--n-text-color-disabled);
 `)])]),Zh=Object.assign(Object.assign({},Ne.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},allowInput:Function,renderCount:Function,onMousedown:Function,onKeydown:Function,onKeyup:Function,onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:Boolean,showPasswordToggle:Boolean}),en=de({name:"Input",props:Zh,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:r,inlineThemeDisabled:l,mergedRtlRef:h}=ot(e),b=Ne("Input","-input",Yh,Bo,e,t);oa&&qr("-input-safari",Xh,t);const y=q(null),i=q(null),o=q(null),n=q(null),u=q(null),f=q(null),_=q(null),v=Gh(_),g=q(null),{localeRef:p}=jn("Input"),s=q(e.defaultValue),c=Be(e,"value"),a=br(c,s),d=Qi(e),{mergedSizeRef:m,mergedDisabledRef:w,mergedStatusRef:S}=d,C=q(!1),k=q(!1),R=q(!1),A=q(!1);let D=null;const T=X(()=>{const{placeholder:N,pair:ne}=e;return ne?Array.isArray(N)?N:N===void 0?["",""]:[N,N]:N===void 0?[p.value.placeholder]:[N]}),x=X(()=>{const{value:N}=R,{value:ne}=a,{value:ke}=T;return!N&&(wi(ne)||Array.isArray(ne)&&wi(ne[0]))&&ke[0]}),E=X(()=>{const{value:N}=R,{value:ne}=a,{value:ke}=T;return!N&&ke[1]&&(wi(ne)||Array.isArray(ne)&&wi(ne[1]))}),L=wt(()=>e.internalForceFocus||C.value),O=wt(()=>{if(w.value||e.readonly||!e.clearable||!L.value&&!k.value)return!1;const{value:N}=a,{value:ne}=L;return e.pair?!!(Array.isArray(N)&&(N[0]||N[1]))&&(k.value||ne):!!N&&(k.value||ne)}),M=X(()=>{const{showPasswordOn:N}=e;if(N)return N;if(e.showPasswordToggle)return"click"}),V=q(!1),F=X(()=>{const{textDecoration:N}=e;return N?Array.isArray(N)?N.map(ne=>({textDecoration:ne})):[{textDecoration:N}]:["",""]}),W=q(void 0),G=()=>{var N,ne;if(e.type==="textarea"){const{autosize:ke}=e;if(ke&&(W.value=(ne=(N=g.value)===null||N===void 0?void 0:N.$el)===null||ne===void 0?void 0:ne.offsetWidth),!i.value||typeof ke=="boolean")return;const{paddingTop:Ve,paddingBottom:tt,lineHeight:rt}=window.getComputedStyle(i.value),zt=Number(Ve.slice(0,-2)),Ft=Number(tt.slice(0,-2)),Vt=Number(rt.slice(0,-2)),{value:Se}=o;if(!Se)return;if(ke.minRows){const H=Math.max(ke.minRows,1),le=`${zt+Ft+Vt*H}px`;Se.style.minHeight=le}if(ke.maxRows){const H=`${zt+Ft+Vt*ke.maxRows}px`;Se.style.maxHeight=H}}},te=X(()=>{const{maxlength:N}=e;return N===void 0?void 0:Number(N)});Dt(()=>{const{value:N}=a;Array.isArray(N)||$e(N)});const P=Ao().proxy;function ae(N){const{onUpdateValue:ne,"onUpdate:value":ke,onInput:Ve}=e,{nTriggerFormInput:tt}=d;ne&&Le(ne,N),ke&&Le(ke,N),Ve&&Le(Ve,N),s.value=N,tt()}function re(N){const{onChange:ne}=e,{nTriggerFormChange:ke}=d;ne&&Le(ne,N),s.value=N,ke()}function I(N){const{onBlur:ne}=e,{nTriggerFormBlur:ke}=d;ne&&Le(ne,N),ke()}function U(N){const{onFocus:ne}=e,{nTriggerFormFocus:ke}=d;ne&&Le(ne,N),ke()}function oe(N){const{onClear:ne}=e;ne&&Le(ne,N)}function Q(N){const{onInputBlur:ne}=e;ne&&Le(ne,N)}function fe(N){const{onInputFocus:ne}=e;ne&&Le(ne,N)}function ce(){const{onDeactivate:N}=e;N&&Le(N)}function Oe(){const{onActivate:N}=e;N&&Le(N)}function Ce(N){const{onClick:ne}=e;ne&&Le(ne,N)}function Ue(N){const{onWrapperFocus:ne}=e;ne&&Le(ne,N)}function ue(N){const{onWrapperBlur:ne}=e;ne&&Le(ne,N)}function me(){R.value=!0}function Ee(N){R.value=!1,N.target===f.value?De(N,1):De(N,0)}function De(N,ne=0,ke="input"){const Ve=N.target.value;if($e(Ve),N instanceof InputEvent&&!N.isComposing&&(R.value=!1),e.type==="textarea"){const{value:rt}=g;rt&&rt.syncUnifiedContainer()}if(D=Ve,R.value)return;v.recordCursor();const tt=et(Ve);if(tt)if(!e.pair)ke==="input"?ae(Ve):re(Ve);else{let{value:rt}=a;Array.isArray(rt)?rt=[rt[0],rt[1]]:rt=["",""],rt[ne]=Ve,ke==="input"?ae(rt):re(rt)}P.$forceUpdate(),tt||gt(v.restoreCursor)}function et(N){const{allowInput:ne}=e;return typeof ne=="function"?ne(N):!0}function Me(N){Q(N),N.relatedTarget===y.value&&ce(),N.relatedTarget!==null&&(N.relatedTarget===u.value||N.relatedTarget===f.value||N.relatedTarget===i.value)||(A.value=!1),ut(N,"blur"),_.value=null}function se(N,ne){fe(N),C.value=!0,A.value=!0,Oe(),ut(N,"focus"),ne===0?_.value=u.value:ne===1?_.value=f.value:ne===2&&(_.value=i.value)}function ve(N){e.passivelyActivated&&(ue(N),ut(N,"blur"))}function je(N){e.passivelyActivated&&(C.value=!0,Ue(N),ut(N,"focus"))}function ut(N,ne){N.relatedTarget!==null&&(N.relatedTarget===u.value||N.relatedTarget===f.value||N.relatedTarget===i.value||N.relatedTarget===y.value)||(ne==="focus"?(U(N),C.value=!0):ne==="blur"&&(I(N),C.value=!1))}function Zt(N,ne){De(N,ne,"change")}function Jt(N){Ce(N)}function Qt(N){oe(N),e.pair?(ae(["",""]),re(["",""])):(ae(""),re(""))}function Nt(N){const{onMousedown:ne}=e;ne&&ne(N);const{tagName:ke}=N.target;if(ke!=="INPUT"&&ke!=="TEXTAREA"){if(e.resizable){const{value:Ve}=y;if(Ve){const{left:tt,top:rt,width:zt,height:Ft}=Ve.getBoundingClientRect(),Vt=14;if(tt+zt-Vt<N.clientX&&N.clientX<tt+zt&&rt+Ft-Vt<N.clientY&&N.clientY<rt+Ft)return}}N.preventDefault(),C.value||J()}}function Wt(){var N;k.value=!0,e.type==="textarea"&&((N=g.value)===null||N===void 0||N.handleMouseEnterWrapper())}function Ot(){var N;k.value=!1,e.type==="textarea"&&((N=g.value)===null||N===void 0||N.handleMouseLeaveWrapper())}function Mt(){w.value||M.value==="click"&&(V.value=!V.value)}function yt(N){if(w.value)return;N.preventDefault();const ne=Ve=>{Ve.preventDefault(),cr("mouseup",document,ne)};if(lr("mouseup",document,ne),M.value!=="mousedown")return;V.value=!0;const ke=()=>{V.value=!1,cr("mouseup",document,ke)};lr("mouseup",document,ke)}function Pt(N){var ne;switch((ne=e.onKeydown)===null||ne===void 0||ne.call(e,N),N.key){case"Escape":st();break;case"Enter":$t(N);break}}function $t(N){var ne,ke;if(e.passivelyActivated){const{value:Ve}=A;if(Ve){e.internalDeactivateOnEnter&&st();return}N.preventDefault(),e.type==="textarea"?(ne=i.value)===null||ne===void 0||ne.focus():(ke=u.value)===null||ke===void 0||ke.focus()}}function st(){e.passivelyActivated&&(A.value=!1,gt(()=>{var N;(N=y.value)===null||N===void 0||N.focus()}))}function J(){var N,ne,ke;w.value||(e.passivelyActivated?(N=y.value)===null||N===void 0||N.focus():((ne=i.value)===null||ne===void 0||ne.focus(),(ke=u.value)===null||ke===void 0||ke.focus()))}function ge(){var N;!((N=y.value)===null||N===void 0)&&N.contains(document.activeElement)&&document.activeElement.blur()}function we(){var N,ne;(N=i.value)===null||N===void 0||N.select(),(ne=u.value)===null||ne===void 0||ne.select()}function Ie(){w.value||(i.value?i.value.focus():u.value&&u.value.focus())}function ze(){const{value:N}=y;(N==null?void 0:N.contains(document.activeElement))&&N!==document.activeElement&&st()}function Fe(N){if(e.type==="textarea"){const{value:ne}=i;ne==null||ne.scrollTo(N)}else{const{value:ne}=u;ne==null||ne.scrollTo(N)}}function $e(N){const{type:ne,pair:ke,autosize:Ve}=e;if(!ke&&Ve)if(ne==="textarea"){const{value:tt}=o;tt&&(tt.textContent=(N!=null?N:"")+`\r
`)}else{const{value:tt}=n;tt&&(N?tt.textContent=N:tt.innerHTML="&nbsp;")}}function Xe(){G()}const It=q({top:"0"});function or(N){var ne;const{scrollTop:ke}=N.target;It.value.top=`${-ke}px`,(ne=g.value)===null||ne===void 0||ne.syncUnifiedContainer()}let Ut=null;zi(()=>{const{autosize:N,type:ne}=e;N&&ne==="textarea"?Ut=qe(a,ke=>{!Array.isArray(ke)&&ke!==D&&$e(ke)}):Ut==null||Ut()});let er=null;zi(()=>{e.type==="textarea"?er=qe(a,N=>{var ne;!Array.isArray(N)&&N!==D&&((ne=g.value)===null||ne===void 0||ne.syncUnifiedContainer())}):er==null||er()}),at(aa,{mergedValueRef:a,maxlengthRef:te,mergedClsPrefixRef:t});const Xr={wrapperElRef:y,inputElRef:u,textareaElRef:i,isCompositing:R,focus:J,blur:ge,select:we,deactivate:ze,activate:Ie,scrollTo:Fe},Tt=hr("Input",h,t),fr=X(()=>{const{value:N}=m,{common:{cubicBezierEaseInOut:ne},self:{color:ke,borderRadius:Ve,textColor:tt,caretColor:rt,caretColorError:zt,caretColorWarning:Ft,textDecorationColor:Vt,border:Se,borderDisabled:H,borderHover:le,borderFocus:_e,placeholderColor:We,placeholderColorDisabled:ht,lineHeightTextarea:ft,colorDisabled:lt,colorFocus:Lr,textColorDisabled:pt,boxShadowFocus:Zr,iconSize:gi,colorFocusWarning:gs,boxShadowFocusWarning:ul,borderWarning:hl,borderFocusWarning:fl,borderHoverWarning:pl,colorFocusError:vl,boxShadowFocusError:gl,borderError:_l,borderFocusError:ml,borderHoverError:bl,clearSize:yl,clearColor:wl,clearColorHover:Sl,clearColorPressed:xl,iconColor:Cl,iconColorDisabled:kl,suffixTextColor:Rl,countTextColor:El,countTextColorDisabled:Tl,iconColorHover:Ll,iconColorPressed:Al,loadingColor:Bl,loadingColorError:Dl,loadingColorWarning:Ol,[pe("padding",N)]:Ml,[pe("fontSize",N)]:Pl,[pe("height",N)]:$l}}=b.value,{left:Il,right:zl}=li(Ml);return{"--n-bezier":ne,"--n-count-text-color":El,"--n-count-text-color-disabled":Tl,"--n-color":ke,"--n-font-size":Pl,"--n-border-radius":Ve,"--n-height":$l,"--n-padding-left":Il,"--n-padding-right":zl,"--n-text-color":tt,"--n-caret-color":rt,"--n-text-decoration-color":Vt,"--n-border":Se,"--n-border-disabled":H,"--n-border-hover":le,"--n-border-focus":_e,"--n-placeholder-color":We,"--n-placeholder-color-disabled":ht,"--n-icon-size":gi,"--n-line-height-textarea":ft,"--n-color-disabled":lt,"--n-color-focus":Lr,"--n-text-color-disabled":pt,"--n-box-shadow-focus":Zr,"--n-loading-color":Bl,"--n-caret-color-warning":Ft,"--n-color-focus-warning":gs,"--n-box-shadow-focus-warning":ul,"--n-border-warning":hl,"--n-border-focus-warning":fl,"--n-border-hover-warning":pl,"--n-loading-color-warning":Ol,"--n-caret-color-error":zt,"--n-color-focus-error":vl,"--n-box-shadow-focus-error":gl,"--n-border-error":_l,"--n-border-focus-error":ml,"--n-border-hover-error":bl,"--n-loading-color-error":Dl,"--n-clear-color":wl,"--n-clear-size":yl,"--n-clear-color-hover":Sl,"--n-clear-color-pressed":xl,"--n-icon-color":Cl,"--n-icon-color-hover":Ll,"--n-icon-color-pressed":Al,"--n-icon-color-disabled":kl,"--n-suffix-text-color":Rl}}),jt=l?_t("input",X(()=>{const{value:N}=m;return N[0]}),fr,e):void 0;return Object.assign(Object.assign({},Xr),{wrapperElRef:y,inputElRef:u,inputMirrorElRef:n,inputEl2Ref:f,textareaElRef:i,textareaMirrorElRef:o,textareaScrollbarInstRef:g,rtlEnabled:Tt,uncontrolledValue:s,mergedValue:a,passwordVisible:V,mergedPlaceholder:T,showPlaceholder1:x,showPlaceholder2:E,mergedFocus:L,isComposing:R,activated:A,showClearButton:O,mergedSize:m,mergedDisabled:w,textDecorationStyle:F,mergedClsPrefix:t,mergedBordered:r,mergedShowPasswordOn:M,placeholderStyle:It,mergedStatus:S,textAreaScrollContainerWidth:W,handleTextAreaScroll:or,handleCompositionStart:me,handleCompositionEnd:Ee,handleInput:De,handleInputBlur:Me,handleInputFocus:se,handleWrapperBlur:ve,handleWrapperFocus:je,handleMouseEnter:Wt,handleMouseLeave:Ot,handleMouseDown:Nt,handleChange:Zt,handleClick:Jt,handleClear:Qt,handlePasswordToggleClick:Mt,handlePasswordToggleMousedown:yt,handleWrapperKeydown:Pt,handleTextAreaMirrorResize:Xe,getTextareaScrollContainer:()=>i.value,mergedTheme:b,cssVars:l?void 0:fr,themeClass:jt==null?void 0:jt.themeClass,onRender:jt==null?void 0:jt.onRender})},render(){var e,t;const{mergedClsPrefix:r,mergedStatus:l,themeClass:h,type:b,onRender:y}=this,i=this.$slots;return y==null||y(),B("div",{ref:"wrapperElRef",class:[`${r}-input`,h,l&&`${r}-input--${l}-status`,{[`${r}-input--rtl`]:this.rtlEnabled,[`${r}-input--disabled`]:this.mergedDisabled,[`${r}-input--textarea`]:b==="textarea",[`${r}-input--resizable`]:this.resizable&&!this.autosize,[`${r}-input--autosize`]:this.autosize,[`${r}-input--round`]:this.round&&b!=="textarea",[`${r}-input--pair`]:this.pair,[`${r}-input--focus`]:this.mergedFocus,[`${r}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.onKeyup,onKeydown:this.handleWrapperKeydown},B("div",{class:`${r}-input-wrapper`},Ze(i.prefix,o=>o&&B("div",{class:`${r}-input__prefix`},o)),b==="textarea"?B(Zi,{ref:"textareaScrollbarInstRef",class:`${r}-input__textarea`,container:this.getTextareaScrollContainer,triggerDisplayManually:!0,useUnifiedContainer:!0,internalHoistYRail:!0},{default:()=>{var o,n;const{textAreaScrollContainerWidth:u}=this,f={width:this.autosize&&u&&`${u}px`};return B(Ye,null,B("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:[`${r}-input__textarea-el`,(o=this.inputProps)===null||o===void 0?void 0:o.class],autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:[this.textDecorationStyle[0],(n=this.inputProps)===null||n===void 0?void 0:n.style,f],onBlur:this.handleInputBlur,onFocus:_=>this.handleInputFocus(_,2),onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?B("div",{class:`${r}-input__placeholder`,style:[this.placeholderStyle,f],key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?B(Fr,{onResize:this.handleTextAreaMirrorResize},{default:()=>B("div",{ref:"textareaMirrorElRef",class:`${r}-input__textarea-mirror`,key:"mirror"})}):null)}}):B("div",{class:`${r}-input__input`},B("input",Object.assign({type:b==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":b},this.inputProps,{ref:"inputElRef",class:[`${r}-input__input-el`,(e=this.inputProps)===null||e===void 0?void 0:e.class],style:[this.textDecorationStyle[0],(t=this.inputProps)===null||t===void 0?void 0:t.style],tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:o=>this.handleInputFocus(o,0),onInput:o=>this.handleInput(o,0),onChange:o=>this.handleChange(o,0)})),this.showPlaceholder1?B("div",{class:`${r}-input__placeholder`},B("span",null,this.mergedPlaceholder[0])):null,this.autosize?B("div",{class:`${r}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"},"\xA0"):null),!this.pair&&Ze(i.suffix,o=>o||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0?B("div",{class:`${r}-input__suffix`},[Ze(i["clear-icon-placeholder"],n=>(this.clearable||n)&&B(Bn,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{placeholder:()=>n,icon:()=>{var u,f;return(f=(u=this.$slots)["clear-icon"])===null||f===void 0?void 0:f.call(u)}})),this.internalLoadingBeforeSuffix?null:o,this.loading!==void 0?B(ia,{clsPrefix:r,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?o:null,this.showCount&&this.type!=="textarea"?B(js,null,{default:n=>{var u;return(u=i.count)===null||u===void 0?void 0:u.call(i,n)}}):null,this.mergedShowPasswordOn&&this.type==="password"?B("div",{class:`${r}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},this.passwordVisible?dr(i["password-visible-icon"],()=>[B(ir,{clsPrefix:r},{default:()=>B(eh,null)})]):dr(i["password-invisible-icon"],()=>[B(ir,{clsPrefix:r},{default:()=>B(th,null)})])):null]):null)),this.pair?B("span",{class:`${r}-input__separator`},dr(i.separator,()=>[this.separator])):null,this.pair?B("div",{class:`${r}-input-wrapper`},B("div",{class:`${r}-input__input`},B("input",{ref:"inputEl2Ref",type:this.type,class:`${r}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:o=>this.handleInputFocus(o,1),onInput:o=>this.handleInput(o,1),onChange:o=>this.handleChange(o,1)}),this.showPlaceholder2?B("div",{class:`${r}-input__placeholder`},B("span",null,this.mergedPlaceholder[1])):null),Ze(i.suffix,o=>(this.clearable||o)&&B("div",{class:`${r}-input__suffix`},[this.clearable&&B(Bn,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{icon:()=>{var n;return(n=i["clear-icon"])===null||n===void 0?void 0:n.call(i)},placeholder:()=>{var n;return(n=i["clear-icon-placeholder"])===null||n===void 0?void 0:n.call(i)}}),o]))):null,this.mergedBordered?B("div",{class:`${r}-input__border`}):null,this.mergedBordered?B("div",{class:`${r}-input__state-border`}):null,this.showCount&&b==="textarea"?B(js,null,{default:o=>{var n;const{renderCount:u}=this;return u?u(o):(n=i.count)===null||n===void 0?void 0:n.call(i,o)}}):null)}}),Jh=j("input-group",`
 display: inline-flex;
 width: 100%;
 flex-wrap: nowrap;
 vertical-align: bottom;
`,[Y(">",[j("input",[Y("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),Y("&:not(:first-child)",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 margin-left: -1px!important;
 `)]),j("button",[Y("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `,[z("state-border, border",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `)]),Y("&:not(:first-child)",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `,[z("state-border, border",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `)])]),Y("*",[Y("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `,[Y(">",[j("input",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),j("base-selection",[j("base-selection-label",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),j("base-selection-tags",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),z("box-shadow, border, state-border",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `)])])]),Y("&:not(:first-child)",`
 margin-left: -1px!important;
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `,[Y(">",[j("input",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),j("base-selection",[j("base-selection-label",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),j("base-selection-tags",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),z("box-shadow, border, state-border",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `)])])])])])]),Qh={},ef=de({name:"InputGroup",props:Qh,setup(e){const{mergedClsPrefixRef:t}=ot(e);return qr("-input-group",Jh,t),{mergedClsPrefix:t}},render(){const{mergedClsPrefix:e}=this;return B("div",{class:`${e}-input-group`},this.$slots)}}),tf=j("input-group-label",`
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 box-sizing: border-box;
 padding: 0 12px;
 display: inline-block;
 border-radius: var(--n-border-radius);
 background-color: var(--n-group-label-color);
 color: var(--n-group-label-text-color);
 font-size: var(--n-font-size);
 line-height: var(--n-height);
 height: var(--n-height);
 flex-shrink: 0;
 white-space: nowrap;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
`,[z("border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-group-label-border);
 transition: border-color .3s var(--n-bezier);
 `)]),rf=Object.assign(Object.assign({},Ne.props),{size:{type:String,default:"medium"},bordered:{type:Boolean,default:void 0}}),nf=de({name:"InputGroupLabel",props:rf,setup(e){const{mergedBorderedRef:t,mergedClsPrefixRef:r,inlineThemeDisabled:l}=ot(e),h=Ne("Input","-input-group-label",tf,Bo,e,r),b=X(()=>{const{size:i}=e,{common:{cubicBezierEaseInOut:o},self:{groupLabelColor:n,borderRadius:u,groupLabelTextColor:f,lineHeight:_,groupLabelBorder:v,[pe("fontSize",i)]:g,[pe("height",i)]:p}}=h.value;return{"--n-bezier":o,"--n-group-label-color":n,"--n-group-label-border":v,"--n-border-radius":u,"--n-group-label-text-color":f,"--n-font-size":g,"--n-line-height":_,"--n-height":p}}),y=l?_t("input-group-label",X(()=>e.size[0]),b,e):void 0;return{mergedClsPrefix:r,mergedBordered:t,cssVars:l?void 0:b,themeClass:y==null?void 0:y.themeClass,onRender:y==null?void 0:y.onRender}},render(){var e,t,r;const{mergedClsPrefix:l}=this;return(e=this.onRender)===null||e===void 0||e.call(this),B("div",{class:[`${l}-input-group-label`,this.themeClass],style:this.cssVars},(r=(t=this.$slots).default)===null||r===void 0?void 0:r.call(t),this.mergedBordered?B("div",{class:`${l}-input-group-label__border`}):null)}}),sf=Y([Y("@keyframes badge-wave-spread",{from:{boxShadow:"0 0 0.5px 0px var(--n-ripple-color)",opacity:.6},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)",opacity:0}}),j("badge",`
 display: inline-flex;
 position: relative;
 vertical-align: middle;
 color: var(--n-color);
 font-family: var(--n-font-family);
 `,[ee("as-is",[j("badge-sup",{position:"static",transform:"translateX(0)"},[Hr({transformOrigin:"left bottom",originalTransform:"translateX(0)"})])]),ee("dot",[j("badge-sup",`
 height: 8px;
 width: 8px;
 padding: 0;
 min-width: 8px;
 left: 100%;
 bottom: calc(100% - 4px);
 `,[Y("::before","border-radius: 4px;")])]),j("badge-sup",`
 background: var(--n-color);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: #FFF;
 position: absolute;
 height: 18px;
 line-height: 18px;
 border-radius: 9px;
 padding: 0 6px;
 text-align: center;
 font-size: var(--n-font-size);
 transform: translateX(-50%);
 left: 100%;
 bottom: calc(100% - 9px);
 font-variant-numeric: tabular-nums;
 z-index: 1;
 display: flex;
 align-items: center;
 `,[Hr({transformOrigin:"left bottom",originalTransform:"translateX(-50%)"}),j("base-wave",{zIndex:1,animationDuration:"2s",animationIterationCount:"infinite",animationDelay:"1s",animationTimingFunction:"var(--n-ripple-bezier)",animationName:"badge-wave-spread"}),Y("&::before",`
 opacity: 0;
 transform: scale(1);
 border-radius: 9px;
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)])])]),of=Object.assign(Object.assign({},Ne.props),{value:[String,Number],max:Number,dot:Boolean,type:{type:String,default:"default"},show:{type:Boolean,default:!0},showZero:Boolean,processing:Boolean,color:String}),Vs=de({name:"Badge",props:of,setup(e,{slots:t}){const{mergedClsPrefixRef:r,inlineThemeDisabled:l,mergedRtlRef:h}=ot(e),b=Ne("Badge","-badge",sf,Zl,e,r),y=q(!1),i=()=>{y.value=!0},o=()=>{y.value=!1},n=X(()=>e.show&&(e.dot||e.value!==void 0&&!(!e.showZero&&e.value<=0)||!di(t.value)));Dt(()=>{n.value&&(y.value=!0)});const u=hr("Badge",h,r),f=X(()=>{const{type:v,color:g}=e,{common:{cubicBezierEaseInOut:p,cubicBezierEaseOut:s},self:{[pe("color",v)]:c,fontFamily:a,fontSize:d}}=b.value;return{"--n-font-size":d,"--n-font-family":a,"--n-color":g||c,"--n-ripple-color":g||c,"--n-bezier":p,"--n-ripple-bezier":s}}),_=l?_t("badge",X(()=>{let v="";const{type:g,color:p}=e;return g&&(v+=g[0]),p&&(v+=Sn(p)),v}),f,e):void 0;return{rtlEnabled:u,mergedClsPrefix:r,appeared:y,showBadge:n,handleAfterEnter:i,handleAfterLeave:o,cssVars:l?void 0:f,themeClass:_==null?void 0:_.themeClass,onRender:_==null?void 0:_.onRender}},render(){var e;const{mergedClsPrefix:t,onRender:r,themeClass:l,$slots:h}=this;r==null||r();const b=(e=h.default)===null||e===void 0?void 0:e.call(h);return B("div",{class:[`${t}-badge`,this.rtlEnabled&&`${t}-badge--rtl`,l,{[`${t}-badge--dot`]:this.dot,[`${t}-badge--as-is`]:!b}],style:this.cssVars},b,B(Kr,{name:"fade-in-scale-up-transition",onAfterEnter:this.handleAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>this.showBadge?B("sup",{class:`${t}-badge-sup`,title:Xo(this.value)},dr(h.value,()=>[this.dot?null:B(Wh,{clsPrefix:t,appeared:this.appeared,max:this.max,value:this.value})]),this.processing?B(ra,{clsPrefix:t}):null):null}))}});function wr(e){return Do(e,[255,255,255,.16])}function Si(e){return Do(e,[0,0,0,.12])}const la=Yt("n-button-group"),af=Y([j("button",`
 margin: 0;
 font-weight: var(--n-font-weight);
 line-height: 1;
 font-family: inherit;
 padding: var(--n-padding);
 height: var(--n-height);
 font-size: var(--n-font-size);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 width: var(--n-width);
 white-space: nowrap;
 outline: none;
 position: relative;
 z-index: auto;
 border: none;
 display: inline-flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 align-items: center;
 justify-content: center;
 user-select: none;
 -webkit-user-select: none;
 text-align: center;
 cursor: pointer;
 text-decoration: none;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[ee("color",[z("border",{borderColor:"var(--n-border-color)"}),ee("disabled",[z("border",{borderColor:"var(--n-border-color-disabled)"})]),ct("disabled",[Y("&:focus",[z("state-border",{borderColor:"var(--n-border-color-focus)"})]),Y("&:hover",[z("state-border",{borderColor:"var(--n-border-color-hover)"})]),Y("&:active",[z("state-border",{borderColor:"var(--n-border-color-pressed)"})]),ee("pressed",[z("state-border",{borderColor:"var(--n-border-color-pressed)"})])])]),ee("disabled",{backgroundColor:"var(--n-color-disabled)",color:"var(--n-text-color-disabled)"},[z("border",{border:"var(--n-border-disabled)"})]),ct("disabled",[Y("&:focus",{backgroundColor:"var(--n-color-focus)",color:"var(--n-text-color-focus)"},[z("state-border",{border:"var(--n-border-focus)"})]),Y("&:hover",{backgroundColor:"var(--n-color-hover)",color:"var(--n-text-color-hover)"},[z("state-border",{border:"var(--n-border-hover)"})]),Y("&:active",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[z("state-border",{border:"var(--n-border-pressed)"})]),ee("pressed",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[z("state-border",{border:"var(--n-border-pressed)"})])]),ee("loading","cursor: wait;"),j("base-wave",`
 pointer-events: none;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 animation-iteration-count: 1;
 animation-duration: var(--n-ripple-duration);
 animation-timing-function: var(--n-bezier-ease-out), var(--n-bezier-ease-out);
 `,[ee("active",{zIndex:1,animationName:"button-wave-spread, button-wave-opacity"})]),Vr&&"MozBoxSizing"in document.createElement("div").style?Y("&::moz-focus-inner",{border:0}):null,z("border, state-border",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 border-radius: inherit;
 transition: border-color .3s var(--n-bezier);
 pointer-events: none;
 `),z("border",{border:"var(--n-border)"}),z("state-border",{border:"var(--n-border)",borderColor:"#0000",zIndex:1}),z("icon",`
 margin: var(--n-icon-margin);
 margin-left: 0;
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 max-width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 position: relative;
 flex-shrink: 0;
 `,[j("icon-slot",`
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `,[Ii({top:"50%",originalTransform:"translateY(-50%)"})]),na()]),z("content",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 min-width: 0;
 `,[Y("~",[z("icon",{margin:"var(--n-icon-margin)",marginRight:0})])]),ee("block",`
 display: flex;
 width: 100%;
 `),ee("dashed",[z("border, state-border",{borderStyle:"dashed !important"})]),ee("disabled",{cursor:"not-allowed",opacity:"var(--n-opacity-disabled)"})]),Y("@keyframes button-wave-spread",{from:{boxShadow:"0 0 0.5px 0 var(--n-ripple-color)"},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)"}}),Y("@keyframes button-wave-opacity",{from:{opacity:"var(--n-wave-opacity)"},to:{opacity:0}})]),lf=Object.assign(Object.assign({},Ne.props),{color:String,textColor:String,text:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,circle:Boolean,size:String,ghost:Boolean,round:Boolean,secondary:Boolean,tertiary:Boolean,quaternary:Boolean,strong:Boolean,focusable:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},tag:{type:String,default:"button"},type:{type:String,default:"default"},dashed:Boolean,iconPlacement:{type:String,default:"left"},attrType:{type:String,default:"button"},bordered:{type:Boolean,default:!0},onClick:[Function,Array],nativeFocusBehavior:{type:Boolean,default:!oa}}),cf=de({name:"Button",props:lf,setup(e){const t=q(null),r=q(null),l=q(!1),h=wt(()=>!e.quaternary&&!e.tertiary&&!e.secondary&&!e.text&&(!e.color||e.ghost||e.dashed)&&e.bordered),b=nt(la,{}),{mergedSizeRef:y}=Qi({},{defaultSize:"medium",mergedSize:m=>{const{size:w}=e;if(w)return w;const{size:S}=b;if(S)return S;const{mergedSize:C}=m||{};return C?C.value:"medium"}}),i=X(()=>e.focusable&&!e.disabled),o=m=>{var w;i.value||m.preventDefault(),!e.nativeFocusBehavior&&(m.preventDefault(),!e.disabled&&i.value&&((w=t.value)===null||w===void 0||w.focus({preventScroll:!0})))},n=m=>{var w;if(!e.disabled&&!e.loading){const{onClick:S}=e;S&&Le(S,m),e.text||(w=r.value)===null||w===void 0||w.play()}},u=m=>{switch(m.key){case"Enter":if(!e.keyboard)return;l.value=!1}},f=m=>{switch(m.key){case"Enter":if(!e.keyboard||e.loading){m.preventDefault();return}l.value=!0}},_=()=>{l.value=!1},{inlineThemeDisabled:v,mergedClsPrefixRef:g,mergedRtlRef:p}=ot(e),s=Ne("Button","-button",af,Jl,e,g),c=hr("Button",p,g),a=X(()=>{const m=s.value,{common:{cubicBezierEaseInOut:w,cubicBezierEaseOut:S},self:C}=m,{rippleDuration:k,opacityDisabled:R,fontWeight:A,fontWeightStrong:D}=C,T=y.value,{dashed:x,type:E,ghost:L,text:O,color:M,round:V,circle:F,textColor:W,secondary:G,tertiary:te,quaternary:P,strong:ae}=e,re={"font-weight":ae?D:A};let I={"--n-color":"initial","--n-color-hover":"initial","--n-color-pressed":"initial","--n-color-focus":"initial","--n-color-disabled":"initial","--n-ripple-color":"initial","--n-text-color":"initial","--n-text-color-hover":"initial","--n-text-color-pressed":"initial","--n-text-color-focus":"initial","--n-text-color-disabled":"initial"};const U=E==="tertiary",oe=E==="default",Q=U?"default":E;if(O){const Me=W||M,se=Me||C[pe("textColorText",Q)];I={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":"#0000","--n-text-color":se,"--n-text-color-hover":Me?wr(Me):C[pe("textColorTextHover",Q)],"--n-text-color-pressed":Me?Si(Me):C[pe("textColorTextPressed",Q)],"--n-text-color-focus":Me?wr(Me):C[pe("textColorTextHover",Q)],"--n-text-color-disabled":Me||C[pe("textColorTextDisabled",Q)]}}else if(L||x){const Me=W||M;I={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":M||C[pe("rippleColor",Q)],"--n-text-color":Me||C[pe("textColorGhost",Q)],"--n-text-color-hover":Me?wr(Me):C[pe("textColorGhostHover",Q)],"--n-text-color-pressed":Me?Si(Me):C[pe("textColorGhostPressed",Q)],"--n-text-color-focus":Me?wr(Me):C[pe("textColorGhostHover",Q)],"--n-text-color-disabled":Me||C[pe("textColorGhostDisabled",Q)]}}else if(G){const Me=oe?C.textColor:U?C.textColorTertiary:C[pe("color",Q)],se=M||Me,ve=E!=="default"&&E!=="tertiary";I={"--n-color":ve?_i(se,{alpha:Number(C.colorOpacitySecondary)}):C.colorSecondary,"--n-color-hover":ve?_i(se,{alpha:Number(C.colorOpacitySecondaryHover)}):C.colorSecondaryHover,"--n-color-pressed":ve?_i(se,{alpha:Number(C.colorOpacitySecondaryPressed)}):C.colorSecondaryPressed,"--n-color-focus":ve?_i(se,{alpha:Number(C.colorOpacitySecondaryHover)}):C.colorSecondaryHover,"--n-color-disabled":C.colorSecondary,"--n-ripple-color":"#0000","--n-text-color":se,"--n-text-color-hover":se,"--n-text-color-pressed":se,"--n-text-color-focus":se,"--n-text-color-disabled":se}}else if(te||P){const Me=oe?C.textColor:U?C.textColorTertiary:C[pe("color",Q)],se=M||Me;te?(I["--n-color"]=C.colorTertiary,I["--n-color-hover"]=C.colorTertiaryHover,I["--n-color-pressed"]=C.colorTertiaryPressed,I["--n-color-focus"]=C.colorSecondaryHover,I["--n-color-disabled"]=C.colorTertiary):(I["--n-color"]=C.colorQuaternary,I["--n-color-hover"]=C.colorQuaternaryHover,I["--n-color-pressed"]=C.colorQuaternaryPressed,I["--n-color-focus"]=C.colorQuaternaryHover,I["--n-color-disabled"]=C.colorQuaternary),I["--n-ripple-color"]="#0000",I["--n-text-color"]=se,I["--n-text-color-hover"]=se,I["--n-text-color-pressed"]=se,I["--n-text-color-focus"]=se,I["--n-text-color-disabled"]=se}else I={"--n-color":M||C[pe("color",Q)],"--n-color-hover":M?wr(M):C[pe("colorHover",Q)],"--n-color-pressed":M?Si(M):C[pe("colorPressed",Q)],"--n-color-focus":M?wr(M):C[pe("colorFocus",Q)],"--n-color-disabled":M||C[pe("colorDisabled",Q)],"--n-ripple-color":M||C[pe("rippleColor",Q)],"--n-text-color":W||(M?C.textColorPrimary:U?C.textColorTertiary:C[pe("textColor",Q)]),"--n-text-color-hover":W||(M?C.textColorHoverPrimary:C[pe("textColorHover",Q)]),"--n-text-color-pressed":W||(M?C.textColorPressedPrimary:C[pe("textColorPressed",Q)]),"--n-text-color-focus":W||(M?C.textColorFocusPrimary:C[pe("textColorFocus",Q)]),"--n-text-color-disabled":W||(M?C.textColorDisabledPrimary:C[pe("textColorDisabled",Q)])};let fe={"--n-border":"initial","--n-border-hover":"initial","--n-border-pressed":"initial","--n-border-focus":"initial","--n-border-disabled":"initial"};O?fe={"--n-border":"none","--n-border-hover":"none","--n-border-pressed":"none","--n-border-focus":"none","--n-border-disabled":"none"}:fe={"--n-border":C[pe("border",Q)],"--n-border-hover":C[pe("borderHover",Q)],"--n-border-pressed":C[pe("borderPressed",Q)],"--n-border-focus":C[pe("borderFocus",Q)],"--n-border-disabled":C[pe("borderDisabled",Q)]};const{[pe("height",T)]:ce,[pe("fontSize",T)]:Oe,[pe("padding",T)]:Ce,[pe("paddingRound",T)]:Ue,[pe("iconSize",T)]:ue,[pe("borderRadius",T)]:me,[pe("iconMargin",T)]:Ee,waveOpacity:De}=C,et={"--n-width":F&&!O?ce:"initial","--n-height":O?"initial":ce,"--n-font-size":Oe,"--n-padding":F||O?"initial":V?Ue:Ce,"--n-icon-size":ue,"--n-icon-margin":Ee,"--n-border-radius":O?"initial":F||V?ce:me};return Object.assign(Object.assign(Object.assign(Object.assign({"--n-bezier":w,"--n-bezier-ease-out":S,"--n-ripple-duration":k,"--n-opacity-disabled":R,"--n-wave-opacity":De},re),I),fe),et)}),d=v?_t("button",X(()=>{let m="";const{dashed:w,type:S,ghost:C,text:k,color:R,round:A,circle:D,textColor:T,secondary:x,tertiary:E,quaternary:L,strong:O}=e;w&&(m+="a"),C&&(m+="b"),k&&(m+="c"),A&&(m+="d"),D&&(m+="e"),x&&(m+="f"),E&&(m+="g"),L&&(m+="h"),O&&(m+="i"),R&&(m+="j"+Sn(R)),T&&(m+="k"+Sn(T));const{value:M}=y;return m+="l"+M[0],m+="m"+S[0],m}),a,e):void 0;return{selfElRef:t,waveElRef:r,mergedClsPrefix:g,mergedFocusable:i,mergedSize:y,showBorder:h,enterPressed:l,rtlEnabled:c,handleMousedown:o,handleKeydown:f,handleBlur:_,handleKeyup:u,handleClick:n,customColorCssVars:X(()=>{const{color:m}=e;if(!m)return null;const w=wr(m);return{"--n-border-color":m,"--n-border-color-hover":w,"--n-border-color-pressed":Si(m),"--n-border-color-focus":w,"--n-border-color-disabled":m}}),cssVars:v?void 0:a,themeClass:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender}},render(){const{mergedClsPrefix:e,tag:t,onRender:r}=this;r==null||r();const l=Ze(this.$slots.default,h=>h&&B("span",{class:`${e}-button__content`},h));return B(t,{ref:"selfElRef",class:[this.themeClass,`${e}-button`,`${e}-button--${this.type}-type`,`${e}-button--${this.mergedSize}-type`,this.rtlEnabled&&`${e}-button--rtl`,this.disabled&&`${e}-button--disabled`,this.block&&`${e}-button--block`,this.enterPressed&&`${e}-button--pressed`,!this.text&&this.dashed&&`${e}-button--dashed`,this.color&&`${e}-button--color`,this.secondary&&`${e}-button--secondary`,this.loading&&`${e}-button--loading`,this.ghost&&`${e}-button--ghost`],tabindex:this.mergedFocusable?0:-1,type:this.attrType,style:this.cssVars,disabled:this.disabled,onClick:this.handleClick,onBlur:this.handleBlur,onMousedown:this.handleMousedown,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},this.iconPlacement==="right"&&l,B(qn,{width:!0},{default:()=>Ze(this.$slots.icon,h=>(this.loading||h)&&B("span",{class:`${e}-button__icon`,style:{margin:di(this.$slots.default)?"0":""}},B(Kn,null,{default:()=>this.loading?B(Xi,{clsPrefix:e,key:"loading",class:`${e}-icon-slot`,strokeWidth:20}):B("div",{key:"icon",class:`${e}-icon-slot`,role:"none"},h)})))}),this.iconPlacement==="left"&&l,this.text?null:B(ra,{ref:"waveElRef",clsPrefix:e}),this.showBorder?B("div",{"aria-hidden":!0,class:`${e}-button__border`,style:this.customColorCssVars}):null,this.showBorder?B("div",{"aria-hidden":!0,class:`${e}-button__state-border`,style:this.customColorCssVars}):null)}}),Qe=cf,it="0!important",ca="-1px!important";function Or(e){return ee(e+"-type",[Y("& +",[j("button",{},[ee(e+"-type",[z("border",{borderLeftWidth:it}),z("state-border",{left:ca})])])])])}function Mr(e){return ee(e+"-type",[Y("& +",[j("button",[ee(e+"-type",[z("border",{borderTopWidth:it}),z("state-border",{top:ca})])])])])}const df=j("button-group",`
 flex-wrap: nowrap;
 display: inline-flex;
 position: relative;
`,[ct("vertical",{flexDirection:"row"},[ct("rtl",[j("button",[Y("&:first-child:not(:last-child)",`
 margin-right: ${it};
 border-top-right-radius: ${it};
 border-bottom-right-radius: ${it};
 `),Y("&:last-child:not(:first-child)",`
 margin-left: ${it};
 border-top-left-radius: ${it};
 border-bottom-left-radius: ${it};
 `),Y("&:not(:first-child):not(:last-child)",`
 margin-left: ${it};
 margin-right: ${it};
 border-radius: ${it};
 `),Or("default"),ee("ghost",[Or("primary"),Or("info"),Or("success"),Or("warning"),Or("error")])])])]),ee("vertical",{flexDirection:"column"},[j("button",[Y("&:first-child:not(:last-child)",`
 margin-bottom: ${it};
 margin-left: ${it};
 margin-right: ${it};
 border-bottom-left-radius: ${it};
 border-bottom-right-radius: ${it};
 `),Y("&:last-child:not(:first-child)",`
 margin-top: ${it};
 margin-left: ${it};
 margin-right: ${it};
 border-top-left-radius: ${it};
 border-top-right-radius: ${it};
 `),Y("&:not(:first-child):not(:last-child)",`
 margin: ${it};
 border-radius: ${it};
 `),Mr("default"),ee("ghost",[Mr("primary"),Mr("info"),Mr("success"),Mr("warning"),Mr("error")])])])]),uf={size:{type:String,default:void 0},vertical:Boolean},da=de({name:"ButtonGroup",props:uf,setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:r}=ot(e);return qr("-button-group",df,t),at(la,e),{rtlEnabled:hr("ButtonGroup",r,t),mergedClsPrefix:t}},render(){const{mergedClsPrefix:e}=this;return B("div",{class:[`${e}-button-group`,this.rtlEnabled&&`${e}-button-group--rtl`,this.vertical&&`${e}-button-group--vertical`],role:"group"},this.$slots)}}),hf=Y([j("card",`
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 display: flex;
 flex-direction: column;
 width: 100%;
 box-sizing: border-box;
 position: relative;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 color: var(--n-text-color);
 word-break: break-word;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[Oo({background:"var(--n-color-modal)"}),ee("hoverable",[Y("&:hover","box-shadow: var(--n-box-shadow);")]),ee("content-segmented",[Y(">",[z("content",{paddingTop:"var(--n-padding-bottom)"})])]),ee("content-soft-segmented",[Y(">",[z("content",`
 margin: 0 var(--n-padding-left);
 padding: var(--n-padding-bottom) 0;
 `)])]),ee("footer-segmented",[Y(">",[z("footer",{paddingTop:"var(--n-padding-bottom)"})])]),ee("footer-soft-segmented",[Y(">",[z("footer",`
 padding: var(--n-padding-bottom) 0;
 margin: 0 var(--n-padding-left);
 `)])]),Y(">",[j("card-header",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 padding:
 var(--n-padding-top)
 var(--n-padding-left)
 var(--n-padding-bottom)
 var(--n-padding-left);
 `,[z("main",`
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 color: var(--n-title-text-color);
 `),z("extra",`
 display: flex;
 align-items: center;
 font-size: var(--n-font-size);
 font-weight: 400;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),z("close",`
 margin: 0 0 0 8px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),z("action",`
 box-sizing: border-box;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 background-clip: padding-box;
 background-color: var(--n-action-color);
 `),z("content","flex: 1;"),z("content, footer",`
 box-sizing: border-box;
 padding: 0 var(--n-padding-left) var(--n-padding-bottom) var(--n-padding-left);
 font-size: var(--n-font-size);
 `,[Y("&:first-child",{paddingTop:"var(--n-padding-bottom)"})]),z("action",`
 background-color: var(--n-action-color);
 padding: var(--n-padding-bottom) var(--n-padding-left);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `)]),j("card-cover",`
 overflow: hidden;
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 `,[Y("img",`
 display: block;
 width: 100%;
 `)]),ee("bordered",`
 border: 1px solid var(--n-border-color);
 `,[Y("&:target","border-color: var(--n-color-target);")]),ee("action-segmented",[Y(">",[z("action",[Y("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),ee("content-segmented, content-soft-segmented",[Y(">",[z("content",{transition:"border-color 0.3s var(--n-bezier)"},[Y("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),ee("footer-segmented, footer-soft-segmented",[Y(">",[z("footer",{transition:"border-color 0.3s var(--n-bezier)"},[Y("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),ee("embedded",`
 background-color: var(--n-color-embedded);
 `)]),Ji(j("card",`
 background: var(--n-color-modal);
 `,[ee("embedded",`
 background-color: var(--n-color-embedded-modal);
 `)])),Gn(j("card",`
 background: var(--n-color-popover);
 `,[ee("embedded",`
 background-color: var(--n-color-embedded-popover);
 `)]))]),rs={title:String,contentStyle:[Object,String],headerStyle:[Object,String],headerExtraStyle:[Object,String],footerStyle:[Object,String],embedded:Boolean,segmented:{type:[Boolean,Object],default:!1},size:{type:String,default:"medium"},bordered:{type:Boolean,default:!0},closable:{type:Boolean,default:!1},hoverable:Boolean,role:String,onClose:[Function,Array]},ff=Xn(rs),pf=Object.assign(Object.assign({},Ne.props),rs),Tr=de({name:"Card",props:pf,setup(e){const t=()=>{const{onClose:n}=e;n&&Le(n)},{inlineThemeDisabled:r,mergedClsPrefixRef:l,mergedRtlRef:h}=ot(e),b=Ne("Card","-card",hf,Ql,e,l),y=hr("Card",h,l),i=X(()=>{const{size:n}=e,{self:{color:u,colorModal:f,colorTarget:_,textColor:v,titleTextColor:g,titleFontWeight:p,borderColor:s,actionColor:c,borderRadius:a,lineHeight:d,closeIconColor:m,closeIconColorHover:w,closeIconColorPressed:S,closeColorHover:C,closeColorPressed:k,closeBorderRadius:R,closeIconSize:A,closeSize:D,boxShadow:T,colorPopover:x,colorEmbedded:E,colorEmbeddedModal:L,colorEmbeddedPopover:O,[pe("padding",n)]:M,[pe("fontSize",n)]:V,[pe("titleFontSize",n)]:F},common:{cubicBezierEaseInOut:W}}=b.value,{top:G,left:te,bottom:P}=li(M);return{"--n-bezier":W,"--n-border-radius":a,"--n-color":u,"--n-color-modal":f,"--n-color-popover":x,"--n-color-embedded":E,"--n-color-embedded-modal":L,"--n-color-embedded-popover":O,"--n-color-target":_,"--n-text-color":v,"--n-line-height":d,"--n-action-color":c,"--n-title-text-color":g,"--n-title-font-weight":p,"--n-close-icon-color":m,"--n-close-icon-color-hover":w,"--n-close-icon-color-pressed":S,"--n-close-color-hover":C,"--n-close-color-pressed":k,"--n-border-color":s,"--n-box-shadow":T,"--n-padding-top":G,"--n-padding-bottom":P,"--n-padding-left":te,"--n-font-size":V,"--n-title-font-size":F,"--n-close-size":D,"--n-close-icon-size":A,"--n-close-border-radius":R}}),o=r?_t("card",X(()=>e.size[0]),i,e):void 0;return{rtlEnabled:y,mergedClsPrefix:l,mergedTheme:b,handleCloseClick:t,cssVars:r?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){const{segmented:e,bordered:t,hoverable:r,mergedClsPrefix:l,rtlEnabled:h,onRender:b,embedded:y,$slots:i}=this;return b==null||b(),B("div",{class:[`${l}-card`,this.themeClass,y&&`${l}-card--embedded`,{[`${l}-card--rtl`]:h,[`${l}-card--content${typeof e!="boolean"&&e.content==="soft"?"-soft":""}-segmented`]:e===!0||e!==!1&&e.content,[`${l}-card--footer${typeof e!="boolean"&&e.footer==="soft"?"-soft":""}-segmented`]:e===!0||e!==!1&&e.footer,[`${l}-card--action-segmented`]:e===!0||e!==!1&&e.action,[`${l}-card--bordered`]:t,[`${l}-card--hoverable`]:r}],style:this.cssVars,role:this.role},Ze(i.cover,o=>o&&B("div",{class:`${l}-card-cover`,role:"none"},o)),Ze(i.header,o=>o||this.title||this.closable?B("div",{class:`${l}-card-header`,style:this.headerStyle},B("div",{class:`${l}-card-header__main`,role:"heading"},o||this.title),Ze(i["header-extra"],n=>n&&B("div",{class:`${l}-card-header__extra`,style:this.headerExtraStyle},n)),this.closable?B(Yn,{clsPrefix:l,class:`${l}-card-header__close`,onClick:this.handleCloseClick,absolute:!0}):null):null),Ze(i.default,o=>o&&B("div",{class:`${l}-card__content`,style:this.contentStyle,role:"none"},o)),Ze(i.footer,o=>o&&[B("div",{class:`${l}-card__footer`,style:this.footerStyle,role:"none"},o)]),Ze(i.action,o=>o&&B("div",{class:`${l}-card__action`,role:"none"},o)))}}),vf=j("collapse","width: 100%;",[j("collapse-item",`
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 margin: 16px 0 0 0;
 `,[ee("disabled",[z("header","cursor: not-allowed;",[z("header-main",`
 color: var(--n-title-text-color-disabled);
 `),j("collapse-item-arrow",`
 color: var(--n-arrow-color-disabled);
 `)])]),j("collapse-item","margin-left: 32px;"),Y("&:first-child","margin-top: 0;"),Y("&:first-child >",[z("header","padding-top: 0;")]),ee("left-arrow-placement",[z("header",[j("collapse-item-arrow","margin-right: 4px;")])]),ee("right-arrow-placement",[z("header",[j("collapse-item-arrow","margin-left: 4px;")])]),z("content-wrapper",[z("content-inner","padding-top: 16px;"),ec({duration:"0.15s"})]),ee("active",[z("header",[ee("active",[j("collapse-item-arrow","transform: rotate(90deg);")])])]),Y("&:not(:first-child)","border-top: 1px solid var(--n-divider-color);"),z("header",`
 font-size: var(--n-title-font-size);
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition: color .3s var(--n-bezier);
 position: relative;
 padding: 16px 0 0 0;
 color: var(--n-title-text-color);
 cursor: pointer;
 `,[z("header-main",`
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 color: var(--n-title-text-color);
 `),z("header-extra",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),j("collapse-item-arrow",`
 display: flex;
 transition:
 transform .15s var(--n-bezier),
 color .3s var(--n-bezier);
 font-size: 18px;
 color: var(--n-arrow-color);
 `)])])]),gf=Object.assign(Object.assign({},Ne.props),{defaultExpandedNames:{type:[Array,String],default:null},expandedNames:[Array,String],arrowPlacement:{type:String,default:"left"},accordion:{type:Boolean,default:!1},displayDirective:{type:String,default:"if"},onItemHeaderClick:[Function,Array],"onUpdate:expandedNames":[Function,Array],onUpdateExpandedNames:[Function,Array],onExpandedNamesChange:{type:[Function,Array],validator:()=>!0,default:void 0}}),ua=Yt("n-collapse"),_f=de({name:"Collapse",props:gf,setup(e,{slots:t}){const{mergedClsPrefixRef:r,inlineThemeDisabled:l,mergedRtlRef:h}=ot(e),b=q(e.defaultExpandedNames),y=X(()=>e.expandedNames),i=br(y,b),o=Ne("Collapse","-collapse",vf,tc,e,r);function n(p){const{"onUpdate:expandedNames":s,onUpdateExpandedNames:c,onExpandedNamesChange:a}=e;c&&Le(c,p),s&&Le(s,p),a&&Le(a,p),b.value=p}function u(p){const{onItemHeaderClick:s}=e;s&&Le(s,p)}function f(p,s,c){const{accordion:a}=e,{value:d}=i;if(a)p?(n([s]),u({name:s,expanded:!0,event:c})):(n([]),u({name:s,expanded:!1,event:c}));else if(!Array.isArray(d))n([s]),u({name:s,expanded:!0,event:c});else{const m=d.slice(),w=m.findIndex(S=>s===S);~w?(m.splice(w,1),n(m),u({name:s,expanded:!1,event:c})):(m.push(s),n(m),u({name:s,expanded:!0,event:c}))}}at(ua,{props:e,mergedClsPrefixRef:r,expandedNamesRef:i,slots:t,toggleItem:f});const _=hr("Collapse",h,r),v=X(()=>{const{common:{cubicBezierEaseInOut:p},self:{titleFontWeight:s,dividerColor:c,titleTextColor:a,titleTextColorDisabled:d,textColor:m,arrowColor:w,fontSize:S,titleFontSize:C,arrowColorDisabled:k}}=o.value;return{"--n-font-size":S,"--n-bezier":p,"--n-text-color":m,"--n-divider-color":c,"--n-title-font-size":C,"--n-title-text-color":a,"--n-title-text-color-disabled":d,"--n-title-font-weight":s,"--n-arrow-color":w,"--n-arrow-color-disabled":k}}),g=l?_t("collapse",void 0,v,e):void 0;return{rtlEnabled:_,mergedTheme:o,mergedClsPrefix:r,cssVars:l?void 0:v,themeClass:g==null?void 0:g.themeClass,onRender:g==null?void 0:g.onRender}},render(){var e;return(e=this.onRender)===null||e===void 0||e.call(this),B("div",{class:[`${this.mergedClsPrefix}-collapse`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse--rtl`,this.themeClass],style:this.cssVars},this.$slots)}}),mf=de({name:"CollapseItemContent",props:{displayDirective:{type:String,required:!0},show:Boolean,clsPrefix:{type:String,required:!0}},setup(e){return{onceTrue:rc(Be(e,"show"))}},render(){return B(qn,null,{default:()=>{const{show:e,displayDirective:t,onceTrue:r,clsPrefix:l}=this,h=t==="show"&&r,b=B("div",{class:`${l}-collapse-item__content-wrapper`},B("div",{class:`${l}-collapse-item__content-inner`},this.$slots));return h?Nr(b,[[kr,e]]):e?b:null}})}}),bf={title:String,name:[String,Number],disabled:Boolean,displayDirective:String},yf=de({name:"CollapseItem",props:bf,setup(e){const{mergedRtlRef:t}=ot(e),r=ic(),l=wt(()=>{var f;return(f=e.name)!==null&&f!==void 0?f:r}),h=nt(ua);h||vi("collapse-item","`n-collapse-item` must be placed inside `n-collapse`.");const{expandedNamesRef:b,props:y,mergedClsPrefixRef:i,slots:o}=h,n=X(()=>{const{value:f}=b;if(Array.isArray(f)){const{value:_}=l;return!~f.findIndex(v=>v===_)}else if(f){const{value:_}=l;return _!==f}return!0});return{rtlEnabled:hr("Collapse",t,i),collapseSlots:o,randomName:r,mergedClsPrefix:i,collapsed:n,mergedDisplayDirective:X(()=>{const{displayDirective:f}=e;return f||y.displayDirective}),arrowPlacement:X(()=>y.arrowPlacement),handleClick(f){h&&!e.disabled&&h.toggleItem(n.value,l.value,f)}}},render(){var e;const{collapseSlots:t,$slots:r,arrowPlacement:l,collapsed:h,mergedDisplayDirective:b,mergedClsPrefix:y,disabled:i}=this,o=r.header?r.header():this.title,n=r["header-extra"]||t["header-extra"],u=r.arrow||t.arrow;return B("div",{class:[`${y}-collapse-item`,`${y}-collapse-item--${l}-arrow-placement`,i&&`${y}-collapse-item--disabled`,!h&&`${y}-collapse-item--active`]},B("div",{class:[`${y}-collapse-item__header`,!h&&`${y}-collapse-item__header--active`]},B("div",{class:`${y}-collapse-item__header-main`,onClick:this.handleClick},l==="right"&&o,B("div",{class:`${y}-collapse-item-arrow`,key:this.rtlEnabled?0:1},u?u({collapsed:h}):B(ir,{clsPrefix:y},{default:(e=t.expandIcon)!==null&&e!==void 0?e:()=>this.rtlEnabled?B(Qu,null):B(es,null)})),l==="left"&&o),n&&B("div",{class:`${y}-collapse-item__header-extra`,onClick:this.handleClick},{default:n})),B(mf,{clsPrefix:y,displayDirective:b,show:!h},r))}}),wf=Y([j("select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 `),j("select-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[Hr({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),Sf=Object.assign(Object.assign({},Ne.props),{to:Cn.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,nodeProps:Function,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,internalShowCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array}),xf=de({name:"Select",props:Sf,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:r,namespaceRef:l,inlineThemeDisabled:h}=ot(e),b=Ne("Select","-select",wf,nc,e,t),y=q(e.defaultValue),i=Be(e,"value"),o=br(i,y),n=q(!1),u=q(""),f=X(()=>{const{valueField:J,childrenField:ge}=e,we=Uh(J,ge);return ta(T.value,we)}),_=X(()=>Vh(A.value,e.valueField,e.childrenField)),v=q(!1),g=br(Be(e,"show"),v),p=q(null),s=q(null),c=q(null),{localeRef:a}=jn("Select"),d=X(()=>{var J;return(J=e.placeholder)!==null&&J!==void 0?J:a.value.placeholder}),m=xn(e,["items","options"]),w=[],S=q([]),C=q([]),k=q(new Map),R=X(()=>{const{fallbackOption:J}=e;if(J===void 0){const{labelField:ge,valueField:we}=e;return Ie=>({[ge]:String(Ie),[we]:Ie})}return J===!1?!1:ge=>Object.assign(J(ge),{value:ge})}),A=X(()=>C.value.concat(S.value).concat(m.value)),D=X(()=>{const{filter:J}=e;if(J)return J;const{labelField:ge,valueField:we}=e;return(Ie,ze)=>{if(!ze)return!1;const Fe=ze[ge];if(typeof Fe=="string")return fn(Ie,Fe);const $e=ze[we];return typeof $e=="string"?fn(Ie,$e):typeof $e=="number"?fn(Ie,String($e)):!1}}),T=X(()=>{if(e.remote)return m.value;{const{value:J}=A,{value:ge}=u;return!ge.length||!e.filterable?J:jh(J,D.value,ge,e.childrenField)}});function x(J){const ge=e.remote,{value:we}=k,{value:Ie}=_,{value:ze}=R,Fe=[];return J.forEach($e=>{if(Ie.has($e))Fe.push(Ie.get($e));else if(ge&&we.has($e))Fe.push(we.get($e));else if(ze){const Xe=ze($e);Xe&&Fe.push(Xe)}}),Fe}const E=X(()=>{if(e.multiple){const{value:J}=o;return Array.isArray(J)?x(J):[]}return null}),L=X(()=>{const{value:J}=o;return!e.multiple&&!Array.isArray(J)?J===null?null:x([J])[0]||null:null}),O=Qi(e),{mergedSizeRef:M,mergedDisabledRef:V,mergedStatusRef:F}=O;function W(J,ge){const{onChange:we,"onUpdate:value":Ie,onUpdateValue:ze}=e,{nTriggerFormChange:Fe,nTriggerFormInput:$e}=O;we&&Le(we,J,ge),ze&&Le(ze,J,ge),Ie&&Le(Ie,J,ge),y.value=J,Fe(),$e()}function G(J){const{onBlur:ge}=e,{nTriggerFormBlur:we}=O;ge&&Le(ge,J),we()}function te(){const{onClear:J}=e;J&&Le(J)}function P(J){const{onFocus:ge}=e,{nTriggerFormFocus:we}=O;ge&&Le(ge,J),we()}function ae(J){const{onSearch:ge}=e;ge&&Le(ge,J)}function re(J){const{onScroll:ge}=e;ge&&Le(ge,J)}function I(){var J;const{remote:ge,multiple:we}=e;if(ge){const{value:Ie}=k;if(we){const{valueField:ze}=e;(J=E.value)===null||J===void 0||J.forEach(Fe=>{Ie.set(Fe[ze],Fe)})}else{const ze=L.value;ze&&Ie.set(ze[e.valueField],ze)}}}function U(J){const{onUpdateShow:ge,"onUpdate:show":we}=e;ge&&Le(ge,J),we&&Le(we,J),v.value=J}function oe(){V.value||(U(!0),v.value=!0,e.filterable&&Mt())}function Q(){U(!1)}function fe(){u.value="",C.value=w}const ce=q(!1);function Oe(){e.filterable&&(ce.value=!0)}function Ce(){e.filterable&&(ce.value=!1,g.value||fe())}function Ue(){V.value||(g.value?e.filterable?Mt():Q():oe())}function ue(J){var ge,we;!((we=(ge=c.value)===null||ge===void 0?void 0:ge.selfRef)===null||we===void 0)&&we.contains(J.relatedTarget)||(n.value=!1,G(J),Q())}function me(J){P(J),n.value=!0}function Ee(J){n.value=!0}function De(J){var ge;!((ge=p.value)===null||ge===void 0)&&ge.$el.contains(J.relatedTarget)||(n.value=!1,G(J),Q())}function et(){var J;(J=p.value)===null||J===void 0||J.focus(),Q()}function Me(J){var ge;g.value&&(!((ge=p.value)===null||ge===void 0)&&ge.$el.contains(zo(J))||Q())}function se(J){if(!Array.isArray(J))return[];if(R.value)return Array.from(J);{const{remote:ge}=e,{value:we}=_;if(ge){const{value:Ie}=k;return J.filter(ze=>we.has(ze)||Ie.has(ze))}else return J.filter(Ie=>we.has(Ie))}}function ve(J){je(J.rawNode)}function je(J){if(V.value)return;const{tag:ge,remote:we,clearFilterAfterSelect:Ie,valueField:ze}=e;if(ge&&!we){const{value:Fe}=C,$e=Fe[0]||null;if($e){const Xe=S.value;Xe.length?Xe.push($e):S.value=[$e],C.value=w}}if(we&&k.value.set(J[ze],J),e.multiple){const Fe=se(o.value),$e=Fe.findIndex(Xe=>Xe===J[ze]);if(~$e){if(Fe.splice($e,1),ge&&!we){const Xe=ut(J[ze]);~Xe&&(S.value.splice(Xe,1),Ie&&(u.value=""))}}else Fe.push(J[ze]),Ie&&(u.value="");W(Fe,x(Fe))}else{if(ge&&!we){const Fe=ut(J[ze]);~Fe?S.value=[S.value[Fe]]:S.value=w}Ot(),Q(),W(J[ze],J)}}function ut(J){return S.value.findIndex(we=>we[e.valueField]===J)}function Zt(J){g.value||oe();const{value:ge}=J.target;u.value=ge;const{tag:we,remote:Ie}=e;if(ae(ge),we&&!Ie){if(!ge){C.value=w;return}const{onCreate:ze}=e,Fe=ze?ze(ge):{[e.labelField]:ge,[e.valueField]:ge},{valueField:$e}=e;m.value.some(Xe=>Xe[$e]===Fe[$e])||S.value.some(Xe=>Xe[$e]===Fe[$e])?C.value=w:C.value=[Fe]}}function Jt(J){J.stopPropagation();const{multiple:ge}=e;!ge&&e.filterable&&Q(),te(),ge?W([],[]):W(null,null)}function Qt(J){!Wr(J,"action")&&!Wr(J,"empty")&&J.preventDefault()}function Nt(J){re(J)}function Wt(J){var ge,we,Ie,ze,Fe;switch(J.key){case" ":if(e.filterable)break;J.preventDefault();case"Enter":if(!(!((ge=p.value)===null||ge===void 0)&&ge.isCompositing)){if(g.value){const $e=(we=c.value)===null||we===void 0?void 0:we.getPendingTmNode();$e?ve($e):e.filterable||(Q(),Ot())}else if(oe(),e.tag&&ce.value){const $e=C.value[0];if($e){const Xe=$e[e.valueField],{value:It}=o;e.multiple&&Array.isArray(It)&&It.some(or=>or===Xe)||je($e)}}}J.preventDefault();break;case"ArrowUp":if(J.preventDefault(),e.loading)return;g.value&&((Ie=c.value)===null||Ie===void 0||Ie.prev());break;case"ArrowDown":if(J.preventDefault(),e.loading)return;g.value?(ze=c.value)===null||ze===void 0||ze.next():oe();break;case"Escape":g.value&&(mu(J),Q()),(Fe=p.value)===null||Fe===void 0||Fe.focus();break}}function Ot(){var J;(J=p.value)===null||J===void 0||J.focus()}function Mt(){var J;(J=p.value)===null||J===void 0||J.focusInput()}function yt(){var J;!g.value||(J=s.value)===null||J===void 0||J.syncPosition()}I(),qe(Be(e,"options"),I);const Pt={focus:()=>{var J;(J=p.value)===null||J===void 0||J.focus()},blur:()=>{var J;(J=p.value)===null||J===void 0||J.blur()}},$t=X(()=>{const{self:{menuBoxShadow:J}}=b.value;return{"--n-menu-box-shadow":J}}),st=h?_t("select",void 0,$t,e):void 0;return Object.assign(Object.assign({},Pt),{mergedStatus:F,mergedClsPrefix:t,mergedBordered:r,namespace:l,treeMate:f,isMounted:Mo(),triggerRef:p,menuRef:c,pattern:u,uncontrolledShow:v,mergedShow:g,adjustedTo:Cn(e),uncontrolledValue:y,mergedValue:o,followerRef:s,localizedPlaceholder:d,selectedOption:L,selectedOptions:E,mergedSize:M,mergedDisabled:V,focused:n,activeWithoutMenuOpen:ce,inlineThemeDisabled:h,onTriggerInputFocus:Oe,onTriggerInputBlur:Ce,handleTriggerOrMenuResize:yt,handleMenuFocus:Ee,handleMenuBlur:De,handleMenuTabOut:et,handleTriggerClick:Ue,handleToggle:ve,handleDeleteOption:je,handlePatternInput:Zt,handleClear:Jt,handleTriggerBlur:ue,handleTriggerFocus:me,handleKeydown:Wt,handleMenuAfterLeave:fe,handleMenuClickOutside:Me,handleMenuScroll:Nt,handleMenuKeydown:Wt,handleMenuMousedown:Qt,mergedTheme:b,cssVars:h?void 0:$t,themeClass:st==null?void 0:st.themeClass,onRender:st==null?void 0:st.onRender})},render(){return B("div",{class:`${this.mergedClsPrefix}-select`},B(Po,null,{default:()=>[B($o,null,{default:()=>B(Fh,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize},{arrow:()=>{var e,t;return[(t=(e=this.$slots).arrow)===null||t===void 0?void 0:t.call(e)]}})}),B(Io,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===Cn.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>B(Kr,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var e,t,r;return this.mergedShow||this.displayDirective==="show"?((e=this.onRender)===null||e===void 0||e.call(this),Nr(B(Ph,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:[`${this.mergedClsPrefix}-select-menu`,this.themeClass,(t=this.menuProps)===null||t===void 0?void 0:t.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,nodeProps:this.nodeProps,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:"medium",renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(r=this.menuProps)===null||r===void 0?void 0:r.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.internalShowCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var l,h;return[(h=(l=this.$slots).empty)===null||h===void 0?void 0:h.call(l)]},action:()=>{var l,h;return[(h=(l=this.$slots).action)===null||h===void 0?void 0:h.call(l)]}}),this.displayDirective==="show"?[[kr,this.mergedShow],[kn,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[kn,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),Cf=j("ellipsis",{overflow:"hidden"},[ct("line-clamp",`
 white-space: nowrap;
 display: inline-block;
 vertical-align: bottom;
 max-width: 100%;
 `),ee("line-clamp",`
 display: -webkit-inline-box;
 -webkit-box-orient: vertical;
 `),ee("cursor-pointer",`
 cursor: pointer;
 `)]);function Ks(e){return`${e}-ellipsis--line-clamp`}function qs(e,t){return`${e}-ellipsis--cursor-${t}`}const kf=Object.assign(Object.assign({},Ne.props),{expandTrigger:String,lineClamp:[Number,String],tooltip:{type:[Boolean,Object],default:!0}}),ha=de({name:"Ellipsis",inheritAttrs:!1,props:kf,setup(e,{slots:t,attrs:r}){const{mergedClsPrefixRef:l}=ot(e),h=Ne("Ellipsis","-ellipsis",Cf,sc,e,l),b=q(null),y=q(null),i=q(null),o=q(!1),n=X(()=>{const{lineClamp:s}=e,{value:c}=o;return s!==void 0?{textOverflow:"","-webkit-line-clamp":c?"":s}:{textOverflow:c?"":"ellipsis","-webkit-line-clamp":""}});function u(){let s=!1;const{value:c}=o;if(c)return!0;const{value:a}=b;if(a){const{lineClamp:d}=e;if(v(a),d!==void 0)s=a.scrollHeight<=a.offsetHeight;else{const{value:m}=y;m&&(s=m.getBoundingClientRect().width<=a.getBoundingClientRect().width)}g(a,s)}return s}const f=X(()=>e.expandTrigger==="click"?()=>{var s;const{value:c}=o;c&&((s=i.value)===null||s===void 0||s.setShow(!1)),o.value=!c}:void 0),_=()=>B("span",Object.assign({},Rt(r,{class:[`${l.value}-ellipsis`,e.lineClamp!==void 0?Ks(l.value):void 0,e.expandTrigger==="click"?qs(l.value,"pointer"):void 0],style:n.value}),{ref:"triggerRef",onClick:f.value,onMouseenter:e.expandTrigger==="click"?u:void 0}),e.lineClamp?t:B("span",{ref:"triggerInnerRef"},t));function v(s){if(!s)return;const c=n.value,a=Ks(l.value);e.lineClamp!==void 0?p(s,a,"add"):p(s,a,"remove");for(const d in c)s.style[d]!==c[d]&&(s.style[d]=c[d])}function g(s,c){const a=qs(l.value,"pointer");e.expandTrigger==="click"&&!c?p(s,a,"add"):p(s,a,"remove")}function p(s,c,a){a==="add"?s.classList.contains(c)||s.classList.add(c):s.classList.contains(c)&&s.classList.remove(c)}return{mergedTheme:h,triggerRef:b,triggerInnerRef:y,tooltipRef:i,handleClick:f,renderTrigger:_,getTooltipDisabled:u}},render(){var e;const{tooltip:t,renderTrigger:r,$slots:l}=this;if(t){const{mergedTheme:h}=this;return B(oc,Object.assign({ref:"tooltipRef",placement:"top"},t,{getDisabled:this.getTooltipDisabled,theme:h.peers.Tooltip,themeOverrides:h.peerOverrides.Tooltip}),{trigger:r,default:(e=l.tooltip)!==null&&e!==void 0?e:l.default})}else return r()}}),fa=de({name:"DropdownDivider",props:{clsPrefix:{type:String,required:!0}},render(){return B("div",{class:`${this.clsPrefix}-dropdown-divider`})}}),is=Yt("n-dropdown-menu"),tn=Yt("n-dropdown"),Gs=Yt("n-dropdown-option");function Dn(e,t){return e.type==="submenu"||e.type===void 0&&e[t]!==void 0}function Rf(e){return e.type==="group"}function pa(e){return e.type==="divider"}function Ef(e){return e.type==="render"}const va=de({name:"DropdownOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null},placement:{type:String,default:"right-start"},props:Object,scrollable:Boolean},setup(e){const t=nt(tn),{hoverKeyRef:r,keyboardKeyRef:l,lastToggledSubmenuKeyRef:h,pendingKeyPathRef:b,activeKeyPathRef:y,animatedRef:i,mergedShowRef:o,renderLabelRef:n,renderIconRef:u,labelFieldRef:f,childrenFieldRef:_,renderOptionRef:v,nodePropsRef:g,menuPropsRef:p}=t,s=nt(Gs,null),c=nt(is),a=nt(Zn),d=X(()=>e.tmNode.rawNode),m=X(()=>{const{value:M}=_;return Dn(e.tmNode.rawNode,M)}),w=X(()=>{const{disabled:M}=e.tmNode;return M}),S=X(()=>{if(!m.value)return!1;const{key:M,disabled:V}=e.tmNode;if(V)return!1;const{value:F}=r,{value:W}=l,{value:G}=h,{value:te}=b;return F!==null?te.includes(M):W!==null?te.includes(M)&&te[te.length-1]!==M:G!==null?te.includes(M):!1}),C=X(()=>l.value===null&&!i.value),k=yu(S,300,C),R=X(()=>!!(s!=null&&s.enteringSubmenuRef.value)),A=q(!1);at(Gs,{enteringSubmenuRef:A});function D(){A.value=!0}function T(){A.value=!1}function x(){const{parentKey:M,tmNode:V}=e;V.disabled||!o.value||(h.value=M,l.value=null,r.value=V.key)}function E(){const{tmNode:M}=e;M.disabled||!o.value||r.value!==M.key&&x()}function L(M){if(e.tmNode.disabled||!o.value)return;const{relatedTarget:V}=M;V&&!Wr({target:V},"dropdownOption")&&!Wr({target:V},"scrollbarRail")&&(r.value=null)}function O(){const{value:M}=m,{tmNode:V}=e;!o.value||!M&&!V.disabled&&(t.doSelect(V.key,V.rawNode),t.doUpdateShow(!1))}return{labelField:f,renderLabel:n,renderIcon:u,siblingHasIcon:c.showIconRef,siblingHasSubmenu:c.hasSubmenuRef,menuProps:p,popoverBody:a,animated:i,mergedShowSubmenu:X(()=>k.value&&!R.value),rawNode:d,hasSubmenu:m,pending:wt(()=>{const{value:M}=b,{key:V}=e.tmNode;return M.includes(V)}),childActive:wt(()=>{const{value:M}=y,{key:V}=e.tmNode,F=M.findIndex(W=>V===W);return F===-1?!1:F<M.length-1}),active:wt(()=>{const{value:M}=y,{key:V}=e.tmNode,F=M.findIndex(W=>V===W);return F===-1?!1:F===M.length-1}),mergedDisabled:w,renderOption:v,nodeProps:g,handleClick:O,handleMouseMove:E,handleMouseEnter:x,handleMouseLeave:L,handleSubmenuBeforeEnter:D,handleSubmenuAfterEnter:T}},render(){var e,t;const{animated:r,rawNode:l,mergedShowSubmenu:h,clsPrefix:b,siblingHasIcon:y,siblingHasSubmenu:i,renderLabel:o,renderIcon:n,renderOption:u,nodeProps:f,props:_,scrollable:v}=this;let g=null;if(h){const a=(e=this.menuProps)===null||e===void 0?void 0:e.call(this,l,l.children);g=B(ga,Object.assign({},a,{clsPrefix:b,scrollable:this.scrollable,tmNodes:this.tmNode.children,parentKey:this.tmNode.key}))}const p={class:[`${b}-dropdown-option-body`,this.pending&&`${b}-dropdown-option-body--pending`,this.active&&`${b}-dropdown-option-body--active`,this.childActive&&`${b}-dropdown-option-body--child-active`,this.mergedDisabled&&`${b}-dropdown-option-body--disabled`],onMousemove:this.handleMouseMove,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onClick:this.handleClick},s=f==null?void 0:f(l),c=B("div",Object.assign({class:[`${b}-dropdown-option`,s==null?void 0:s.class],"data-dropdown-option":!0},s),B("div",Rt(p,_),[B("div",{class:[`${b}-dropdown-option-body__prefix`,y&&`${b}-dropdown-option-body__prefix--show-icon`]},[n?n(l):bt(l.icon)]),B("div",{"data-dropdown-option":!0,class:`${b}-dropdown-option-body__label`},o?o(l):bt((t=l[this.labelField])!==null&&t!==void 0?t:l.title)),B("div",{"data-dropdown-option":!0,class:[`${b}-dropdown-option-body__suffix`,i&&`${b}-dropdown-option-body__suffix--has-submenu`]},this.hasSubmenu?B(Je,null,{default:()=>B(es,null)}):null)]),this.hasSubmenu?B(Po,null,{default:()=>[B($o,null,{default:()=>B("div",{class:`${b}-dropdown-offset-container`},B(Io,{show:this.mergedShowSubmenu,placement:this.placement,to:v&&this.popoverBody||void 0,teleportDisabled:!v},{default:()=>B("div",{class:`${b}-dropdown-menu-wrapper`},r?B(Kr,{onBeforeEnter:this.handleSubmenuBeforeEnter,onAfterEnter:this.handleSubmenuAfterEnter,name:"fade-in-scale-up-transition",appear:!0},{default:()=>g}):g)}))})]}):null);return u?u({node:c,option:l}):c}}),Tf=de({name:"DropdownGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{showIconRef:e,hasSubmenuRef:t}=nt(is),{renderLabelRef:r,labelFieldRef:l,nodePropsRef:h,renderOptionRef:b}=nt(tn);return{labelField:l,showIcon:e,hasSubmenu:t,renderLabel:r,nodeProps:h,renderOption:b}},render(){var e;const{clsPrefix:t,hasSubmenu:r,showIcon:l,nodeProps:h,renderLabel:b,renderOption:y}=this,{rawNode:i}=this.tmNode,o=B("div",Object.assign({class:`${t}-dropdown-option`},h==null?void 0:h(i)),B("div",{class:`${t}-dropdown-option-body ${t}-dropdown-option-body--group`},B("div",{"data-dropdown-option":!0,class:[`${t}-dropdown-option-body__prefix`,l&&`${t}-dropdown-option-body__prefix--show-icon`]},bt(i.icon)),B("div",{class:`${t}-dropdown-option-body__label`,"data-dropdown-option":!0},b?b(i):bt((e=i.title)!==null&&e!==void 0?e:i[this.labelField])),B("div",{class:[`${t}-dropdown-option-body__suffix`,r&&`${t}-dropdown-option-body__suffix--has-submenu`],"data-dropdown-option":!0})));return y?y({node:o,option:i}):o}}),Lf=de({name:"NDropdownGroup",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null}},render(){const{tmNode:e,parentKey:t,clsPrefix:r}=this,{children:l}=e;return B(Ye,null,B(Tf,{clsPrefix:r,tmNode:e,key:e.key}),l==null?void 0:l.map(h=>{const{rawNode:b}=h;return b.show===!1?null:pa(b)?B(fa,{clsPrefix:r,key:h.key}):h.isGroup?(Fo("dropdown","`group` node is not allowed to be put in `group` node."),null):B(va,{clsPrefix:r,tmNode:h,parentKey:t,key:h.key})}))}}),Af=de({name:"DropdownRenderOption",props:{tmNode:{type:Object,required:!0}},render(){const{rawNode:{render:e,props:t}}=this.tmNode;return B("div",t,[e==null?void 0:e()])}}),ga=de({name:"DropdownMenu",props:{scrollable:Boolean,showArrow:Boolean,arrowStyle:[String,Object],clsPrefix:{type:String,required:!0},tmNodes:{type:Array,default:()=>[]},parentKey:{type:[String,Number],default:null}},setup(e){const{renderIconRef:t,childrenFieldRef:r}=nt(tn);at(is,{showIconRef:X(()=>{const h=t.value;return e.tmNodes.some(b=>{var y;if(b.isGroup)return(y=b.children)===null||y===void 0?void 0:y.some(({rawNode:o})=>h?h(o):o.icon);const{rawNode:i}=b;return h?h(i):i.icon})}),hasSubmenuRef:X(()=>{const{value:h}=r;return e.tmNodes.some(b=>{var y;if(b.isGroup)return(y=b.children)===null||y===void 0?void 0:y.some(({rawNode:o})=>Dn(o,h));const{rawNode:i}=b;return Dn(i,h)})})});const l=q(null);return at(No,null),at(Ho,null),at(Zn,l),{bodyRef:l}},render(){const{parentKey:e,clsPrefix:t,scrollable:r}=this,l=this.tmNodes.map(h=>{const{rawNode:b}=h;return b.show===!1?null:Ef(b)?B(Af,{tmNode:h,key:h.key}):pa(b)?B(fa,{clsPrefix:t,key:h.key}):Rf(b)?B(Lf,{clsPrefix:t,tmNode:h,parentKey:e,key:h.key}):B(va,{clsPrefix:t,tmNode:h,parentKey:e,key:h.key,props:b.props,scrollable:r})});return B("div",{class:[`${t}-dropdown-menu`,r&&`${t}-dropdown-menu--scrollable`],ref:"bodyRef"},r?B(lc,{contentClass:`${t}-dropdown-menu__content`},{default:()=>l}):l,this.showArrow?ac({clsPrefix:t,arrowStyle:this.arrowStyle}):null)}}),Bf=j("dropdown-menu",`
 transform-origin: var(--v-transform-origin);
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 position: relative;
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
`,[Hr(),j("dropdown-option",`
 position: relative;
 `,[Y("a",`
 text-decoration: none;
 color: inherit;
 outline: none;
 `,[Y("&::before",`
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),j("dropdown-option-body",`
 display: flex;
 cursor: pointer;
 position: relative;
 height: var(--n-option-height);
 line-height: var(--n-option-height);
 font-size: var(--n-font-size);
 color: var(--n-option-text-color);
 transition: color .3s var(--n-bezier);
 `,[Y("&::before",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 left: 4px;
 right: 4px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `),ct("disabled",[ee("pending",`
 color: var(--n-option-text-color-hover);
 `,[z("prefix, suffix",`
 color: var(--n-option-text-color-hover);
 `),Y("&::before","background-color: var(--n-option-color-hover);")]),ee("active",`
 color: var(--n-option-text-color-active);
 `,[z("prefix, suffix",`
 color: var(--n-option-text-color-active);
 `),Y("&::before","background-color: var(--n-option-color-active);")]),ee("child-active",`
 color: var(--n-option-text-color-child-active);
 `,[z("prefix, suffix",`
 color: var(--n-option-text-color-child-active);
 `)])]),ee("disabled",`
 cursor: not-allowed;
 opacity: var(--n-option-opacity-disabled);
 `),ee("group",`
 font-size: calc(var(--n-font-size) - 1px);
 color: var(--n-group-header-text-color);
 `,[z("prefix",`
 width: calc(var(--n-option-prefix-width) / 2);
 `,[ee("show-icon",`
 width: calc(var(--n-option-icon-prefix-width) / 2);
 `)])]),z("prefix",`
 width: var(--n-option-prefix-width);
 display: flex;
 justify-content: center;
 align-items: center;
 color: var(--n-prefix-color);
 transition: color .3s var(--n-bezier);
 z-index: 1;
 `,[ee("show-icon",`
 width: var(--n-option-icon-prefix-width);
 `),j("icon",`
 font-size: var(--n-option-icon-size);
 `)]),z("label",`
 white-space: nowrap;
 flex: 1;
 z-index: 1;
 `),z("suffix",`
 box-sizing: border-box;
 flex-grow: 0;
 flex-shrink: 0;
 display: flex;
 justify-content: flex-end;
 align-items: center;
 min-width: var(--n-option-suffix-width);
 padding: 0 8px;
 transition: color .3s var(--n-bezier);
 color: var(--n-suffix-color);
 z-index: 1;
 `,[ee("has-submenu",`
 width: var(--n-option-icon-suffix-width);
 `),j("icon",`
 font-size: var(--n-option-icon-size);
 `)]),j("dropdown-menu","pointer-events: all;")]),j("dropdown-offset-container",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: -4px;
 bottom: -4px;
 `)]),j("dropdown-divider",`
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-divider-color);
 height: 1px;
 margin: 4px 0;
 `),j("dropdown-menu-wrapper",`
 transform-origin: var(--v-transform-origin);
 width: fit-content;
 `),Y(">",[j("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),ct("scrollable",`
 padding: var(--n-padding);
 `),ee("scrollable",[z("content",`
 padding: var(--n-padding);
 `)])]),Df={animated:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},size:{type:String,default:"medium"},inverted:Boolean,placement:{type:String,default:"bottom"},onSelect:[Function,Array],options:{type:Array,default:()=>[]},menuProps:Function,showArrow:Boolean,renderLabel:Function,renderIcon:Function,renderOption:Function,nodeProps:Function,labelField:{type:String,default:"label"},keyField:{type:String,default:"key"},childrenField:{type:String,default:"children"},value:[String,Number]},Of=Object.keys(Wo),Mf=Object.assign(Object.assign(Object.assign({},Wo),Df),Ne.props),Pf=de({name:"Dropdown",inheritAttrs:!1,props:Mf,setup(e){const t=q(!1),r=br(Be(e,"show"),t),l=X(()=>{const{keyField:T,childrenField:x}=e;return ta(e.options,{getKey(E){return E[T]},getDisabled(E){return E.disabled===!0},getIgnored(E){return E.type==="divider"||E.type==="render"},getChildren(E){return E[x]}})}),h=X(()=>l.value.treeNodes),b=q(null),y=q(null),i=q(null),o=X(()=>{var T,x,E;return(E=(x=(T=b.value)!==null&&T!==void 0?T:y.value)!==null&&x!==void 0?x:i.value)!==null&&E!==void 0?E:null}),n=X(()=>l.value.getPath(o.value).keyPath),u=X(()=>l.value.getPath(e.value).keyPath),f=wt(()=>e.keyboard&&r.value);Eu({keydown:{ArrowUp:{prevent:!0,handler:w},ArrowRight:{prevent:!0,handler:m},ArrowDown:{prevent:!0,handler:S},ArrowLeft:{prevent:!0,handler:d},Enter:{prevent:!0,handler:C},Escape:a}},f);const{mergedClsPrefixRef:_,inlineThemeDisabled:v}=ot(e),g=Ne("Dropdown","-dropdown",Bf,cc,e,_);at(tn,{labelFieldRef:Be(e,"labelField"),childrenFieldRef:Be(e,"childrenField"),renderLabelRef:Be(e,"renderLabel"),renderIconRef:Be(e,"renderIcon"),hoverKeyRef:b,keyboardKeyRef:y,lastToggledSubmenuKeyRef:i,pendingKeyPathRef:n,activeKeyPathRef:u,animatedRef:Be(e,"animated"),mergedShowRef:r,nodePropsRef:Be(e,"nodeProps"),renderOptionRef:Be(e,"renderOption"),menuPropsRef:Be(e,"menuProps"),doSelect:p,doUpdateShow:s}),qe(r,T=>{!e.animated&&!T&&c()});function p(T,x){const{onSelect:E}=e;E&&Le(E,T,x)}function s(T){const{"onUpdate:show":x,onUpdateShow:E}=e;x&&Le(x,T),E&&Le(E,T),t.value=T}function c(){b.value=null,y.value=null,i.value=null}function a(){s(!1)}function d(){R("left")}function m(){R("right")}function w(){R("up")}function S(){R("down")}function C(){const T=k();(T==null?void 0:T.isLeaf)&&r.value&&(p(T.key,T.rawNode),s(!1))}function k(){var T;const{value:x}=l,{value:E}=o;return!x||E===null?null:(T=x.getNode(E))!==null&&T!==void 0?T:null}function R(T){const{value:x}=o,{value:{getFirstAvailableNode:E}}=l;let L=null;if(x===null){const O=E();O!==null&&(L=O.key)}else{const O=k();if(O){let M;switch(T){case"down":M=O.getNext();break;case"up":M=O.getPrev();break;case"right":M=O.getChild();break;case"left":M=O.getParent();break}M&&(L=M.key)}}L!==null&&(b.value=null,y.value=L)}const A=X(()=>{const{size:T,inverted:x}=e,{common:{cubicBezierEaseInOut:E},self:L}=g.value,{padding:O,dividerColor:M,borderRadius:V,optionOpacityDisabled:F,[pe("optionIconSuffixWidth",T)]:W,[pe("optionSuffixWidth",T)]:G,[pe("optionIconPrefixWidth",T)]:te,[pe("optionPrefixWidth",T)]:P,[pe("fontSize",T)]:ae,[pe("optionHeight",T)]:re,[pe("optionIconSize",T)]:I}=L,U={"--n-bezier":E,"--n-font-size":ae,"--n-padding":O,"--n-border-radius":V,"--n-option-height":re,"--n-option-prefix-width":P,"--n-option-icon-prefix-width":te,"--n-option-suffix-width":G,"--n-option-icon-suffix-width":W,"--n-option-icon-size":I,"--n-divider-color":M,"--n-option-opacity-disabled":F};return x?(U["--n-color"]=L.colorInverted,U["--n-option-color-hover"]=L.optionColorHoverInverted,U["--n-option-color-active"]=L.optionColorActiveInverted,U["--n-option-text-color"]=L.optionTextColorInverted,U["--n-option-text-color-hover"]=L.optionTextColorHoverInverted,U["--n-option-text-color-active"]=L.optionTextColorActiveInverted,U["--n-option-text-color-child-active"]=L.optionTextColorChildActiveInverted,U["--n-prefix-color"]=L.prefixColorInverted,U["--n-suffix-color"]=L.suffixColorInverted,U["--n-group-header-text-color"]=L.groupHeaderTextColorInverted):(U["--n-color"]=L.color,U["--n-option-color-hover"]=L.optionColorHover,U["--n-option-color-active"]=L.optionColorActive,U["--n-option-text-color"]=L.optionTextColor,U["--n-option-text-color-hover"]=L.optionTextColorHover,U["--n-option-text-color-active"]=L.optionTextColorActive,U["--n-option-text-color-child-active"]=L.optionTextColorChildActive,U["--n-prefix-color"]=L.prefixColor,U["--n-suffix-color"]=L.suffixColor,U["--n-group-header-text-color"]=L.groupHeaderTextColor),U}),D=v?_t("dropdown",X(()=>`${e.size[0]}${e.inverted?"i":""}`),A,e):void 0;return{mergedClsPrefix:_,mergedTheme:g,tmNodes:h,mergedShow:r,handleAfterLeave:()=>{!e.animated||c()},doUpdateShow:s,cssVars:v?void 0:A,themeClass:D==null?void 0:D.themeClass,onRender:D==null?void 0:D.onRender}},render(){const e=(l,h,b,y,i)=>{var o;const{mergedClsPrefix:n,menuProps:u}=this;(o=this.onRender)===null||o===void 0||o.call(this);const f=(u==null?void 0:u(void 0,this.tmNodes.map(v=>v.rawNode)))||{},_={ref:gu(h),class:[l,`${n}-dropdown`,this.themeClass],clsPrefix:n,tmNodes:this.tmNodes,style:[b,this.cssVars],showArrow:this.showArrow,arrowStyle:this.arrowStyle,scrollable:this.scrollable,onMouseenter:y,onMouseleave:i};return B(ga,Rt(this.$attrs,_,f))},{mergedTheme:t}=this,r={show:this.mergedShow,theme:t.peers.Popover,themeOverrides:t.peerOverrides.Popover,internalOnAfterLeave:this.handleAfterLeave,internalRenderBody:e,onUpdateShow:this.doUpdateShow,"onUpdate:show":void 0};return B(Rr,Object.assign({},Fi(this.$props,Of),r),{trigger:()=>{var l,h;return(h=(l=this.$slots).default)===null||h===void 0?void 0:h.call(l)}})}});var _a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const ns={icon:Function,type:{type:String,default:"default"},title:[String,Function],closable:{type:Boolean,default:!0},negativeText:String,positiveText:String,positiveButtonProps:Object,negativeButtonProps:Object,content:[String,Function],action:Function,showIcon:{type:Boolean,default:!0},loading:Boolean,bordered:Boolean,iconPlacement:String,onPositiveClick:Function,onNegativeClick:Function,onClose:Function},If=Xn(ns),zf=Y([j("dialog",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: relative;
 background: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 margin: auto;
 border-radius: var(--n-border-radius);
 padding: var(--n-padding);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[z("icon",{color:"var(--n-icon-color)"}),ee("bordered",{border:"var(--n-border)"}),ee("icon-top",[z("close",{margin:"var(--n-close-margin)"}),z("icon",{margin:"var(--n-icon-margin)"}),z("content",{textAlign:"center"}),z("title",{justifyContent:"center"}),z("action",{justifyContent:"center"})]),ee("icon-left",[z("icon",{margin:"var(--n-icon-margin)"}),ee("closable",[z("title",`
 padding-right: calc(var(--n-close-size) + 6px);
 `)])]),z("close",`
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 z-index: 1;
 `),z("content",`
 font-size: var(--n-font-size);
 margin: var(--n-content-margin);
 position: relative;
 word-break: break-word;
 `,[ee("last","margin-bottom: 0;")]),z("action",`
 display: flex;
 justify-content: flex-end;
 `,[Y("> *:not(:last-child)",{marginRight:"var(--n-action-space)"})]),z("icon",{fontSize:"var(--n-icon-size)",transition:"color .3s var(--n-bezier)"}),z("title",`
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),j("dialog-icon-container",{display:"flex",justifyContent:"center"})]),Ji(j("dialog",`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)),j("dialog",[Oo(`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)])]),Ff={default:()=>B(ms,null),info:()=>B(ms,null),success:()=>B(uc,null),warning:()=>B(hc,null),error:()=>B(fc,null)},Hf=de({name:"Dialog",alias:["NimbusConfirmCard","Confirm"],props:Object.assign(Object.assign({},Ne.props),ns),setup(e){const{mergedComponentPropsRef:t,mergedClsPrefixRef:r,inlineThemeDisabled:l}=ot(e),h=X(()=>{var f,_;const{iconPlacement:v}=e;return v||((_=(f=t==null?void 0:t.value)===null||f===void 0?void 0:f.Dialog)===null||_===void 0?void 0:_.iconPlacement)||"left"});function b(f){const{onPositiveClick:_}=e;_&&_(f)}function y(f){const{onNegativeClick:_}=e;_&&_(f)}function i(){const{onClose:f}=e;f&&f()}const o=Ne("Dialog","-dialog",zf,dc,e,r),n=X(()=>{const{type:f}=e,_=h.value,{common:{cubicBezierEaseInOut:v},self:{fontSize:g,lineHeight:p,border:s,titleTextColor:c,textColor:a,color:d,closeBorderRadius:m,closeColorHover:w,closeColorPressed:S,closeIconColor:C,closeIconColorHover:k,closeIconColorPressed:R,closeIconSize:A,borderRadius:D,titleFontWeight:T,titleFontSize:x,padding:E,iconSize:L,actionSpace:O,contentMargin:M,closeSize:V,[_==="top"?"iconMarginIconTop":"iconMargin"]:F,[_==="top"?"closeMarginIconTop":"closeMargin"]:W,[pe("iconColor",f)]:G}}=o.value;return{"--n-font-size":g,"--n-icon-color":G,"--n-bezier":v,"--n-close-margin":W,"--n-icon-margin":F,"--n-icon-size":L,"--n-close-size":V,"--n-close-icon-size":A,"--n-close-border-radius":m,"--n-close-color-hover":w,"--n-close-color-pressed":S,"--n-close-icon-color":C,"--n-close-icon-color-hover":k,"--n-close-icon-color-pressed":R,"--n-color":d,"--n-text-color":a,"--n-border-radius":D,"--n-padding":E,"--n-line-height":p,"--n-border":s,"--n-content-margin":M,"--n-title-font-size":x,"--n-title-font-weight":T,"--n-title-text-color":c,"--n-action-space":O}}),u=l?_t("dialog",X(()=>`${e.type[0]}${h.value[0]}`),n,e):void 0;return{mergedClsPrefix:r,mergedIconPlacement:h,mergedTheme:o,handlePositiveClick:b,handleNegativeClick:y,handleCloseClick:i,cssVars:l?void 0:n,themeClass:u==null?void 0:u.themeClass,onRender:u==null?void 0:u.onRender}},render(){var e;const{bordered:t,mergedIconPlacement:r,cssVars:l,closable:h,showIcon:b,title:y,content:i,action:o,negativeText:n,positiveText:u,positiveButtonProps:f,negativeButtonProps:_,handlePositiveClick:v,handleNegativeClick:g,mergedTheme:p,loading:s,type:c,mergedClsPrefix:a}=this;(e=this.onRender)===null||e===void 0||e.call(this);const d=b?B(ir,{clsPrefix:a,class:`${a}-dialog__icon`},{default:()=>Ze(this.$slots.icon,w=>w||(this.icon?bt(this.icon):Ff[this.type]()))}):null,m=Ze(this.$slots.action,w=>w||u||n||o?B("div",{class:`${a}-dialog__action`},w||(o?[bt(o)]:[this.negativeText&&B(Qe,Object.assign({theme:p.peers.Button,themeOverrides:p.peerOverrides.Button,ghost:!0,size:"small",onClick:g},_),{default:()=>bt(this.negativeText)}),this.positiveText&&B(Qe,Object.assign({theme:p.peers.Button,themeOverrides:p.peerOverrides.Button,size:"small",type:c==="default"?"primary":c,disabled:s,loading:s,onClick:v},f),{default:()=>bt(this.positiveText)})])):null);return B("div",{class:[`${a}-dialog`,this.themeClass,this.closable&&`${a}-dialog--closable`,`${a}-dialog--icon-${r}`,t&&`${a}-dialog--bordered`],style:l,role:"dialog"},h?B(Yn,{clsPrefix:a,class:`${a}-dialog__close`,onClick:this.handleCloseClick}):null,b&&r==="top"?B("div",{class:`${a}-dialog-icon-container`},d):null,B("div",{class:`${a}-dialog__title`},b&&r==="left"?d:null,dr(this.$slots.header,()=>[bt(y)])),B("div",{class:[`${a}-dialog__content`,m?"":`${a}-dialog__content--last`]},dr(this.$slots.default,()=>[bt(i)])),m)}}),Nf=Yt("n-dialog-provider"),ss=Object.assign(Object.assign({},rs),ns),Wf=Xn(ss),Uf=de({name:"ModalBody",inheritAttrs:!1,props:Object.assign(Object.assign({show:{type:Boolean,required:!0},preset:String,displayDirective:{type:String,required:!0},trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},blockScroll:Boolean},ss),{renderMask:Function,onClickoutside:Function,onBeforeLeave:{type:Function,required:!0},onAfterLeave:{type:Function,required:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0},onClose:{type:Function,required:!0},onAfterEnter:Function,onEsc:Function}),setup(e){const t=q(null),r=q(null),l=q(e.show),h=q(null),b=q(null);qe(Be(e,"show"),s=>{s&&(l.value=!0)}),Pu(X(()=>e.blockScroll&&l.value));const y=nt(Uo);function i(){if(y.transformOriginRef.value==="center")return"";const{value:s}=h,{value:c}=b;if(s===null||c===null)return"";if(r.value){const a=r.value.containerScrollTop;return`${s}px ${c+a}px`}return""}function o(s){if(y.transformOriginRef.value==="center")return;const c=y.getMousePosition();if(!c||!r.value)return;const a=r.value.containerScrollTop,{offsetLeft:d,offsetTop:m}=s;if(c){const w=c.y,S=c.x;h.value=-(d-S),b.value=-(m-w-a)}s.style.transformOrigin=i()}function n(s){gt(()=>{o(s)})}function u(s){s.style.transformOrigin=i(),e.onBeforeLeave()}function f(){l.value=!1,h.value=null,b.value=null,e.onAfterLeave()}function _(){const{onClose:s}=e;s&&s()}function v(){e.onNegativeClick()}function g(){e.onPositiveClick()}const p=q(null);return qe(p,s=>{s&&gt(()=>{const c=s.el;c&&t.value!==c&&(t.value=c)})}),at(No,t),at(Ho,null),at(Zn,null),{mergedTheme:y.mergedThemeRef,appear:y.appearRef,isMounted:y.isMountedRef,mergedClsPrefix:y.mergedClsPrefixRef,bodyRef:t,scrollbarRef:r,displayed:l,childNodeRef:p,handlePositiveClick:g,handleNegativeClick:v,handleCloseClick:_,handleAfterLeave:f,handleBeforeLeave:u,handleEnter:n}},render(){const{$slots:e,$attrs:t,handleEnter:r,handleAfterLeave:l,handleBeforeLeave:h,preset:b,mergedClsPrefix:y}=this;let i=null;if(!b){if(i=pc(e),!i){Fo("modal","default slot is empty");return}i=Hi(i),i.props=Rt({class:`${y}-modal`},t,i.props||{})}return this.displayDirective==="show"||this.displayed||this.show?Nr(B("div",{role:"none",class:`${y}-modal-body-wrapper`},B(Zi,{ref:"scrollbarRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:`${y}-modal-scroll-content`},{default:()=>{var o;return[(o=this.renderMask)===null||o===void 0?void 0:o.call(this),B(vc,{disabled:!this.trapFocus,active:this.show,onEsc:this.onEsc,autoFocus:this.autoFocus},{default:()=>{var n;return B(Kr,{name:"fade-in-scale-up-transition",appear:(n=this.appear)!==null&&n!==void 0?n:this.isMounted,onEnter:r,onAfterEnter:this.onAfterEnter,onAfterLeave:l,onBeforeLeave:h},{default:()=>{const u=[[kr,this.show]],{onClickoutside:f}=this;return f&&u.push([kn,this.onClickoutside,void 0,{capture:!0}]),Nr(this.preset==="confirm"||this.preset==="dialog"?B(Hf,Object.assign({},this.$attrs,{class:[`${y}-modal`,this.$attrs.class],ref:"bodyRef",theme:this.mergedTheme.peers.Dialog,themeOverrides:this.mergedTheme.peerOverrides.Dialog},Fi(this.$props,If),{"aria-modal":"true"}),e):this.preset==="card"?B(Tr,Object.assign({},this.$attrs,{ref:"bodyRef",class:[`${y}-modal`,this.$attrs.class],theme:this.mergedTheme.peers.Card,themeOverrides:this.mergedTheme.peerOverrides.Card},Fi(this.$props,ff),{"aria-modal":"true",role:"dialog"}),e):this.childNodeRef=i,u)}})}})]}})),[[kr,this.displayDirective==="if"||this.displayed||this.show]]):null}}),jf=Y([j("modal-container",`
 position: fixed;
 left: 0;
 top: 0;
 height: 0;
 width: 0;
 display: flex;
 `),j("modal-mask",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background-color: rgba(0, 0, 0, .4);
 `,[gc({enterDuration:".25s",leaveDuration:".25s",enterCubicBezier:"var(--n-bezier-ease-out)",leaveCubicBezier:"var(--n-bezier-ease-out)"})]),j("modal-body-wrapper",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: visible;
 `,[j("modal-scroll-content",`
 min-height: 100%;
 display: flex;
 position: relative;
 `)]),j("modal",`
 position: relative;
 align-self: center;
 color: var(--n-text-color);
 margin: auto;
 box-shadow: var(--n-box-shadow);
 `,[Hr({duration:".25s",enterScale:".5"})])]),Vf=Object.assign(Object.assign(Object.assign(Object.assign({},Ne.props),{show:Boolean,unstableShowMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preset:String,to:[String,Object],displayDirective:{type:String,default:"if"},transformOrigin:{type:String,default:"mouse"},zIndex:Number,autoFocus:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0}}),ss),{onEsc:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onBeforeLeave:Function,onAfterLeave:Function,onClose:Function,onPositiveClick:Function,onNegativeClick:Function,onMaskClick:Function,internalDialog:Boolean,internalAppear:{type:Boolean,default:void 0},overlayStyle:[String,Object],onBeforeHide:Function,onAfterHide:Function,onHide:Function}),os=de({name:"Modal",inheritAttrs:!1,props:Vf,setup(e){const t=q(null),{mergedClsPrefixRef:r,namespaceRef:l,inlineThemeDisabled:h}=ot(e),b=Ne("Modal","-modal",jf,mc,e,r),y=xu(64),i=wu(),o=Mo(),n=e.internalDialog?nt(Nf,null):null,u=$u();function f(w){const{onUpdateShow:S,"onUpdate:show":C,onHide:k}=e;S&&Le(S,w),C&&Le(C,w),k&&!w&&k(w)}function _(){const{onClose:w}=e;w?Promise.resolve(w()).then(S=>{S!==!1&&f(!1)}):f(!1)}function v(){const{onPositiveClick:w}=e;w?Promise.resolve(w()).then(S=>{S!==!1&&f(!1)}):f(!1)}function g(){const{onNegativeClick:w}=e;w?Promise.resolve(w()).then(S=>{S!==!1&&f(!1)}):f(!1)}function p(){const{onBeforeLeave:w,onBeforeHide:S}=e;w&&Le(w),S&&S()}function s(){const{onAfterLeave:w,onAfterHide:S}=e;w&&Le(w),S&&S()}function c(w){var S;const{onMaskClick:C}=e;C&&C(w),e.maskClosable&&!((S=t.value)===null||S===void 0)&&S.contains(zo(w))&&f(!1)}function a(w){var S;(S=e.onEsc)===null||S===void 0||S.call(e),e.show&&e.closeOnEsc&&bu(w)&&!u.value&&f(!1)}at(Uo,{getMousePosition:()=>{if(n){const{clickedRef:w,clickPositionRef:S}=n;if(w.value&&S.value)return S.value}return y.value?i.value:null},mergedClsPrefixRef:r,mergedThemeRef:b,isMountedRef:o,appearRef:Be(e,"internalAppear"),transformOriginRef:Be(e,"transformOrigin")});const d=X(()=>{const{common:{cubicBezierEaseOut:w},self:{boxShadow:S,color:C,textColor:k}}=b.value;return{"--n-bezier-ease-out":w,"--n-box-shadow":S,"--n-color":C,"--n-text-color":k}}),m=h?_t("theme-class",void 0,d,e):void 0;return{mergedClsPrefix:r,namespace:l,isMounted:o,containerRef:t,presetProps:X(()=>Fi(e,Wf)),handleEsc:a,handleAfterLeave:s,handleClickoutside:c,handleBeforeLeave:p,doUpdateShow:f,handleNegativeClick:g,handlePositiveClick:v,handleCloseClick:_,cssVars:h?void 0:d,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender}},render(){const{mergedClsPrefix:e}=this;return B(_c,{to:this.to,show:this.show},{default:()=>{var t;(t=this.onRender)===null||t===void 0||t.call(this);const{unstableShowMask:r}=this;return Nr(B("div",{role:"none",ref:"containerRef",class:[`${e}-modal-container`,this.themeClass,this.namespace],style:this.cssVars},B(Uf,Object.assign({style:this.overlayStyle},this.$attrs,{ref:"bodyWrapper",displayDirective:this.displayDirective,show:this.show,preset:this.preset,autoFocus:this.autoFocus,trapFocus:this.trapFocus,blockScroll:this.blockScroll},this.presetProps,{onEsc:this.handleEsc,onClose:this.handleCloseClick,onNegativeClick:this.handleNegativeClick,onPositiveClick:this.handlePositiveClick,onBeforeLeave:this.handleBeforeLeave,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave,onClickoutside:r?void 0:this.handleClickoutside,renderMask:r?()=>{var l;return B(Kr,{name:"fade-in-transition",key:"mask",appear:(l=this.internalAppear)!==null&&l!==void 0?l:this.isMounted},{default:()=>this.show?B("div",{"aria-hidden":!0,ref:"containerRef",class:`${e}-modal-mask`,onClick:this.handleClickoutside}):null})}:void 0}),this.$slots)),[[bc,{zIndex:this.zIndex,enabled:this.show}]])}})}}),Ys=1,ma=Yt("n-grid"),ba=1,Kf={span:{type:[Number,String],default:ba},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},Bt=de({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:Kf,setup(){const{isSsrRef:e,xGapRef:t,itemStyleRef:r,overflowRef:l,layoutShiftDisabledRef:h}=nt(ma),b=Ao();return{overflow:l,itemStyle:r,layoutShiftDisabled:h,mergedXGap:X(()=>At(t.value||0)),deriveStyle:()=>{e.value;const{privateSpan:y=ba,privateShow:i=!0,privateColStart:o=void 0,privateOffset:n=0}=b.vnode.props,{value:u}=t,f=At(u||0);return{display:i?"":"none",gridColumn:`${o!=null?o:`span ${y}`} / span ${y}`,marginLeft:n?`calc((100% - (${y} - 1) * ${f}) / ${y} * ${n} + ${f} * ${n})`:""}}}},render(){var e,t;if(this.layoutShiftDisabled){const{span:r,offset:l,mergedXGap:h}=this;return B("div",{style:{gridColumn:`span ${r} / span ${r}`,marginLeft:l?`calc((100% - (${r} - 1) * ${h}) / ${r} * ${l} + ${h} * ${l})`:""}},this.$slots)}return B("div",{style:[this.itemStyle,this.deriveStyle()]},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e,{overflow:this.overflow}))}}),qf={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},ya=24,pn="__ssr__",Gf={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:ya},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},Ur=de({name:"Grid",inheritAttrs:!1,props:Gf,setup(e){const{mergedClsPrefixRef:t,mergedBreakpointsRef:r}=ot(e),l=/^\d+$/,h=q(void 0),b=Ru((r==null?void 0:r.value)||qf),y=wt(()=>!!(e.itemResponsive||!l.test(e.cols.toString())||!l.test(e.xGap.toString())||!l.test(e.yGap.toString()))),i=X(()=>{if(!!y.value)return e.responsive==="self"?h.value:b.value}),o=wt(()=>{var c;return(c=Number(Jr(e.cols.toString(),i.value)))!==null&&c!==void 0?c:ya}),n=wt(()=>Jr(e.xGap.toString(),i.value)),u=wt(()=>Jr(e.yGap.toString(),i.value)),f=c=>{h.value=c.contentRect.width},_=c=>{Eo(f,c)},v=q(!1),g=X(()=>{if(e.responsive==="self")return _}),p=q(!1),s=q();return Dt(()=>{const{value:c}=s;c&&c.hasAttribute(pn)&&(c.removeAttribute(pn),p.value=!0)}),at(ma,{layoutShiftDisabledRef:Be(e,"layoutShiftDisabled"),isSsrRef:p,itemStyleRef:Be(e,"itemStyle"),xGapRef:n,overflowRef:v}),{isSsr:!Vr,contentEl:s,mergedClsPrefix:t,style:X(()=>e.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${e.cols}, minmax(0, 1fr))`,columnGap:At(e.xGap),rowGap:At(e.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${o.value}, minmax(0, 1fr))`,columnGap:At(n.value),rowGap:At(u.value)}),isResponsive:y,responsiveQuery:i,responsiveCols:o,handleResize:g,overflow:v}},render(){if(this.layoutShiftDisabled)return B("div",Rt({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const e=()=>{var t,r,l,h,b,y,i;this.overflow=!1;const o=Ti(yc(this)),n=[],{collapsed:u,collapsedRows:f,responsiveCols:_,responsiveQuery:v}=this;o.forEach(a=>{var d,m,w,S;if(((d=a==null?void 0:a.type)===null||d===void 0?void 0:d.__GRID_ITEM__)!==!0)return;if(_u(a)){const R=Hi(a);R.props?R.props.privateShow=!1:R.props={privateShow:!1},n.push({child:R,rawChildSpan:0});return}a.dirs=((m=a.dirs)===null||m===void 0?void 0:m.filter(({dir:R})=>R!==kr))||null;const C=Hi(a),k=Number((S=Jr((w=C.props)===null||w===void 0?void 0:w.span,v))!==null&&S!==void 0?S:Ys);k!==0&&n.push({child:C,rawChildSpan:k})});let g=0;const p=(t=n[n.length-1])===null||t===void 0?void 0:t.child;if(p!=null&&p.props){const a=(r=p.props)===null||r===void 0?void 0:r.suffix;a!==void 0&&a!==!1&&(g=(h=(l=p.props)===null||l===void 0?void 0:l.span)!==null&&h!==void 0?h:Ys,p.props.privateSpan=g,p.props.privateColStart=_+1-g,p.props.privateShow=(b=p.props.privateShow)!==null&&b!==void 0?b:!0)}let s=0,c=!1;for(const{child:a,rawChildSpan:d}of n){if(c&&(this.overflow=!0),!c){const m=Number((i=Jr((y=a.props)===null||y===void 0?void 0:y.offset,v))!==null&&i!==void 0?i:0),w=Math.min(d+m,_);if(a.props?(a.props.privateSpan=w,a.props.privateOffset=m):a.props={privateSpan:w,privateOffset:m},u){const S=s%_;w+S>_&&(s+=_-S),w+s+g>f*_?c=!0:s+=w}}c&&(a.props?a.props.privateShow!==!0&&(a.props.privateShow=!1):a.props={privateShow:!1})}return B("div",Rt({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[pn]:this.isSsr||void 0},this.$attrs),n.map(({child:a})=>a))};return this.isResponsive&&this.responsive==="self"?B(Fr,{onResize:this.handleResize},{default:e}):e()}}),Yf=j("layout-sider",`
 flex-shrink: 0;
 box-sizing: border-box;
 position: relative;
 z-index: 1;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 min-width .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 display: flex;
 justify-content: flex-end;
`,[ee("bordered",[z("border",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 width: 1px;
 background-color: var(--n-border-color);
 transition: background-color .3s var(--n-bezier);
 `)]),z("left-placement",[ee("bordered",[z("border",`
 right: 0;
 `)])]),ee("right-placement",`
 justify-content: flex-start;
 `,[ee("bordered",[z("border",`
 left: 0;
 `)]),ee("collapsed",[j("layout-toggle-button",[j("base-icon",`
 transform: rotate(180deg);
 `)]),j("layout-toggle-bar",[Y("&:hover",[z("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),z("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])])]),j("layout-toggle-button",`
 left: 0;
 transform: translateX(-50%) translateY(-50%);
 `,[j("base-icon",`
 transform: rotate(0);
 `)]),j("layout-toggle-bar",`
 left: -28px;
 transform: rotate(180deg);
 `,[Y("&:hover",[z("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),z("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})])])]),ee("collapsed",[j("layout-toggle-bar",[Y("&:hover",[z("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),z("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])]),j("layout-toggle-button",[j("base-icon",`
 transform: rotate(0);
 `)])]),j("layout-toggle-button",`
 transition:
 color .3s var(--n-bezier),
 right .3s var(--n-bezier),
 left .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 cursor: pointer;
 width: 24px;
 height: 24px;
 position: absolute;
 top: 50%;
 right: 0;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 font-size: 18px;
 color: var(--n-toggle-button-icon-color);
 border: var(--n-toggle-button-border);
 background-color: var(--n-toggle-button-color);
 box-shadow: 0 2px 4px 0px rgba(0, 0, 0, .06);
 transform: translateX(50%) translateY(-50%);
 z-index: 1;
 `,[j("base-icon",`
 transition: transform .3s var(--n-bezier);
 transform: rotate(180deg);
 `)]),j("layout-toggle-bar",`
 cursor: pointer;
 height: 72px;
 width: 32px;
 position: absolute;
 top: calc(50% - 36px);
 right: -28px;
 `,[z("top, bottom",`
 position: absolute;
 width: 4px;
 border-radius: 2px;
 height: 38px;
 left: 14px;
 transition: 
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),z("bottom",`
 position: absolute;
 top: 34px;
 `),Y("&:hover",[z("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),z("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})]),z("top, bottom",{backgroundColor:"var(--n-toggle-bar-color)"}),Y("&:hover",[z("top, bottom",{backgroundColor:"var(--n-toggle-bar-color-hover)"})])]),z("border",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 width: 1px;
 transition: background-color .3s var(--n-bezier);
 `),j("layout-sider-scroll-container",`
 flex-grow: 1;
 flex-shrink: 0;
 box-sizing: border-box;
 height: 100%;
 opacity: 0;
 transition: opacity .3s var(--n-bezier);
 max-width: 100%;
 `),ee("show-content",[j("layout-sider-scroll-container",{opacity:1})]),ee("absolute-positioned",`
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 `)]),Xf=de({name:"LayoutToggleButton",props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return B("div",{class:`${e}-layout-toggle-button`,onClick:this.onClick},B(ir,{clsPrefix:e},{default:()=>B(es,null)}))}}),Zf=de({props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return B("div",{onClick:this.onClick,class:`${e}-layout-toggle-bar`},B("div",{class:`${e}-layout-toggle-bar__top`}),B("div",{class:`${e}-layout-toggle-bar__bottom`}))}}),Jf={position:Cc,bordered:Boolean,collapsedWidth:{type:Number,default:48},width:{type:[Number,String],default:272},contentStyle:{type:[String,Object],default:""},collapseMode:{type:String,default:"transform"},collapsed:{type:Boolean,default:void 0},defaultCollapsed:Boolean,showCollapsedContent:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},nativeScrollbar:{type:Boolean,default:!0},inverted:Boolean,scrollbarProps:Object,triggerStyle:[String,Object],collapsedTriggerStyle:[String,Object],"onUpdate:collapsed":[Function,Array],onUpdateCollapsed:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,onExpand:[Function,Array],onCollapse:[Function,Array],onScroll:Function},Qf=de({name:"LayoutSider",props:Object.assign(Object.assign({},Ne.props),Jf),setup(e){const t=nt(wc),r=q(null),l=q(null),h=X(()=>sn(o.value?e.collapsedWidth:e.width)),b=X(()=>e.collapseMode!=="transform"?{}:{minWidth:sn(e.width)}),y=X(()=>t?t.siderPlacement:"left"),i=q(e.defaultCollapsed),o=br(Be(e,"collapsed"),i);function n(w,S){if(e.nativeScrollbar){const{value:C}=r;C&&(S===void 0?C.scrollTo(w):C.scrollTo(w,S))}else{const{value:C}=l;C&&C.scrollTo(w,S)}}function u(){const{"onUpdate:collapsed":w,onUpdateCollapsed:S,onExpand:C,onCollapse:k}=e,{value:R}=o;S&&Le(S,!R),w&&Le(w,!R),i.value=!R,R?C&&Le(C):k&&Le(k)}let f=0,_=0;const v=w=>{var S;const C=w.target;f=C.scrollLeft,_=C.scrollTop,(S=e.onScroll)===null||S===void 0||S.call(e,w)};Sc(()=>{if(e.nativeScrollbar){const w=r.value;w&&(w.scrollTop=_,w.scrollLeft=f)}}),at(xc,{collapsedRef:o,collapseModeRef:Be(e,"collapseMode")});const{mergedClsPrefixRef:g,inlineThemeDisabled:p}=ot(e),s=Ne("Layout","-layout-sider",Yf,kc,e,g);function c(w){var S,C;w.propertyName==="max-width"&&(o.value?(S=e.onAfterLeave)===null||S===void 0||S.call(e):(C=e.onAfterEnter)===null||C===void 0||C.call(e))}const a={scrollTo:n},d=X(()=>{const{common:{cubicBezierEaseInOut:w},self:S}=s.value,{siderToggleButtonColor:C,siderToggleButtonBorder:k,siderToggleBarColor:R,siderToggleBarColorHover:A}=S,D={"--n-bezier":w,"--n-toggle-button-color":C,"--n-toggle-button-border":k,"--n-toggle-bar-color":R,"--n-toggle-bar-color-hover":A};return e.inverted?(D["--n-color"]=S.siderColorInverted,D["--n-text-color"]=S.textColorInverted,D["--n-border-color"]=S.siderBorderColorInverted,D["--n-toggle-button-icon-color"]=S.siderToggleButtonIconColorInverted,D.__invertScrollbar=S.__invertScrollbar):(D["--n-color"]=S.siderColor,D["--n-text-color"]=S.textColor,D["--n-border-color"]=S.siderBorderColor,D["--n-toggle-button-icon-color"]=S.siderToggleButtonIconColor),D}),m=p?_t("layout-sider",X(()=>e.inverted?"a":"b"),d,e):void 0;return Object.assign({scrollableElRef:r,scrollbarInstRef:l,mergedClsPrefix:g,mergedTheme:s,styleMaxWidth:h,mergedCollapsed:o,scrollContainerStyle:b,siderPlacement:y,handleNativeElScroll:v,handleTransitionend:c,handleTriggerClick:u,inlineThemeDisabled:p,cssVars:d,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender},a)},render(){var e;const{mergedClsPrefix:t,mergedCollapsed:r,showTrigger:l}=this;return(e=this.onRender)===null||e===void 0||e.call(this),B("aside",{class:[`${t}-layout-sider`,this.themeClass,`${t}-layout-sider--${this.position}-positioned`,`${t}-layout-sider--${this.siderPlacement}-placement`,this.bordered&&`${t}-layout-sider--bordered`,r&&`${t}-layout-sider--collapsed`,(!r||this.showCollapsedContent)&&`${t}-layout-sider--show-content`],onTransitionend:this.handleTransitionend,style:[this.inlineThemeDisabled?void 0:this.cssVars,{maxWidth:this.styleMaxWidth,width:sn(this.width)}]},this.nativeScrollbar?B("div",{class:`${t}-layout-sider-scroll-container`,onScroll:this.handleNativeElScroll,style:[this.scrollContainerStyle,{overflow:"auto"},this.contentStyle],ref:"scrollableElRef"},this.$slots):B(Zi,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",style:this.scrollContainerStyle,contentStyle:this.contentStyle,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,builtinThemeOverrides:this.inverted&&this.cssVars.__invertScrollbar==="true"?{colorHover:"rgba(255, 255, 255, .4)",color:"rgba(255, 255, 255, .3)"}:void 0}),this.$slots),l?l==="bar"?B(Zf,{clsPrefix:t,style:r?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):B(Xf,{clsPrefix:t,style:r?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):null,this.bordered?B("div",{class:`${t}-layout-sider__border`}):null)}}),ep=Y([j("list",`
 --n-merged-border-color: var(--n-border-color);
 --n-merged-color: var(--n-color);
 --n-merged-color-hover: var(--n-color-hover);
 margin: 0;
 font-size: var(--n-font-size);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 padding: 0;
 list-style-type: none;
 color: var(--n-text-color);
 background-color: var(--n-merged-color);
 `,[ee("show-divider",[j("list-item",[Y("&:not(:last-child)",[z("divider",`
 background-color: var(--n-merged-border-color);
 `)])])]),ee("clickable",[j("list-item",`
 cursor: pointer;
 `)]),ee("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `),ee("hoverable",[j("list-item",`
 border-radius: var(--n-border-radius);
 `,[Y("&:hover",`
 background-color: var(--n-merged-color-hover);
 `,[z("divider",`
 background-color: transparent;
 `)])])]),ee("bordered, hoverable",[j("list-item",`
 padding: 12px 20px;
 `),z("header, footer",`
 padding: 12px 20px;
 `)]),z("header, footer",`
 padding: 12px 0;
 box-sizing: border-box;
 transition: border-color .3s var(--n-bezier);
 `,[Y("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)]),j("list-item",`
 position: relative;
 padding: 12px 0; 
 box-sizing: border-box;
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[z("prefix",`
 margin-right: 20px;
 flex: 0;
 `),z("suffix",`
 margin-left: 20px;
 flex: 0;
 `),z("main",`
 flex: 1;
 `),z("divider",`
 height: 1px;
 position: absolute;
 bottom: 0;
 left: 0;
 right: 0;
 background-color: transparent;
 transition: background-color .3s var(--n-bezier);
 pointer-events: none;
 `)])]),Ji(j("list",`
 --n-merged-color-hover: var(--n-color-hover-modal);
 --n-merged-color: var(--n-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `)),Gn(j("list",`
 --n-merged-color-hover: var(--n-color-hover-popover);
 --n-merged-color: var(--n-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `))]),tp=Object.assign(Object.assign({},Ne.props),{size:{type:String,default:"medium"},bordered:Boolean,clickable:Boolean,hoverable:Boolean,showDivider:{type:Boolean,default:!0}}),wa=Yt("n-list"),rp=de({name:"List",props:tp,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:r,mergedRtlRef:l}=ot(e),h=hr("List",l,t),b=Ne("List","-list",ep,Rc,e,t);at(wa,{showDividerRef:Be(e,"showDivider"),mergedClsPrefixRef:t});const y=X(()=>{const{common:{cubicBezierEaseInOut:o},self:{fontSize:n,textColor:u,color:f,colorModal:_,colorPopover:v,borderColor:g,borderColorModal:p,borderColorPopover:s,borderRadius:c,colorHover:a,colorHoverModal:d,colorHoverPopover:m}}=b.value;return{"--n-font-size":n,"--n-bezier":o,"--n-text-color":u,"--n-color":f,"--n-border-radius":c,"--n-border-color":g,"--n-border-color-modal":p,"--n-border-color-popover":s,"--n-color-modal":_,"--n-color-popover":v,"--n-color-hover":a,"--n-color-hover-modal":d,"--n-color-hover-popover":m}}),i=r?_t("list",void 0,y,e):void 0;return{mergedClsPrefix:t,rtlEnabled:h,cssVars:r?void 0:y,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e;const{$slots:t,mergedClsPrefix:r,onRender:l}=this;return l==null||l(),B("ul",{class:[`${r}-list`,this.rtlEnabled&&`${r}-list--rtl`,this.bordered&&`${r}-list--bordered`,this.showDivider&&`${r}-list--show-divider`,this.hoverable&&`${r}-list--hoverable`,this.clickable&&`${r}-list--clickable`,this.themeClass],style:this.cssVars},t.header?B("div",{class:`${r}-list__header`},t.header()):null,(e=t.default)===null||e===void 0?void 0:e.call(t),t.footer?B("div",{class:`${r}-list__footer`},t.footer()):null)}}),xi=de({name:"ListItem",setup(){const e=nt(wa,null);return e||vi("list-item","`n-list-item` must be placed in `n-list`."),{showDivider:e.showDividerRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{$slots:e,mergedClsPrefix:t}=this;return B("li",{class:`${t}-list-item`},e.prefix?B("div",{class:`${t}-list-item__prefix`},e.prefix()):null,e.default?B("div",{class:`${t}-list-item__main`},e):null,e.suffix?B("div",{class:`${t}-list-item__suffix`},e.suffix()):null,this.showDivider&&B("div",{class:`${t}-list-item__divider`}))}});function ip(){const e=nt(Ec,null);return e===null&&vi("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}function np(){const e=nt(Tc,null);return e===null&&vi("use-notification","No outer `n-notification-provider` found."),e}const sp=j("switch",`
 height: var(--n-height);
 min-width: var(--n-width);
 vertical-align: middle;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 outline: none;
 justify-content: center;
 align-items: center;
`,[z("children-placeholder",`
 height: var(--n-rail-height);
 display: flex;
 flex-direction: column;
 overflow: hidden;
 pointer-events: none;
 visibility: hidden;
 `),z("rail-placeholder",`
 display: flex;
 flex-wrap: none;
 `),z("button-placeholder",`
 width: calc(1.75 * var(--n-rail-height));
 height: var(--n-rail-height);
 `),j("base-loading",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 font-size: calc(var(--n-button-width) - 4px);
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 `,[Ii({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),z("checked, unchecked",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 box-sizing: border-box;
 position: absolute;
 white-space: nowrap;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 line-height: 1;
 `),z("checked",`
 right: 0;
 padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),z("unchecked",`
 left: 0;
 justify-content: flex-end;
 padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),Y("&:focus",[z("rail",`
 box-shadow: var(--n-box-shadow-focus);
 `)]),ee("round",[z("rail","border-radius: calc(var(--n-rail-height) / 2);",[z("button","border-radius: calc(var(--n-button-height) / 2);")])]),ct("disabled",[ct("icon",[ee("rubber-band",[ee("pressed",[z("rail",[z("button","max-width: var(--n-button-width-pressed);")])]),z("rail",[Y("&:active",[z("button","max-width: var(--n-button-width-pressed);")])]),ee("active",[ee("pressed",[z("rail",[z("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),z("rail",[Y("&:active",[z("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),ee("active",[z("rail",[z("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),z("rail",`
 overflow: hidden;
 height: var(--n-rail-height);
 min-width: var(--n-rail-width);
 border-radius: var(--n-rail-border-radius);
 cursor: pointer;
 position: relative;
 transition:
 opacity .3s var(--n-bezier),
 background .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[z("button-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 font-size: calc(var(--n-button-height) - 4px);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 line-height: 1;
 `,[Ii()]),z("button",`
 align-items: center; 
 top: var(--n-offset);
 left: var(--n-offset);
 height: var(--n-button-height);
 width: var(--n-button-width-pressed);
 max-width: var(--n-button-width);
 border-radius: var(--n-button-border-radius);
 background-color: var(--n-button-color);
 box-shadow: var(--n-button-box-shadow);
 box-sizing: border-box;
 cursor: inherit;
 content: "";
 position: absolute;
 transition:
 background-color .3s var(--n-bezier),
 left .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `)]),ee("active",[z("rail","background-color: var(--n-rail-color-active);")]),ee("loading",[z("rail",`
 cursor: wait;
 `)]),ee("disabled",[z("rail",`
 cursor: not-allowed;
 opacity: .5;
 `)])]),op=Object.assign(Object.assign({},Ne.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let ti;const Xs=de({name:"Switch",props:op,setup(e){ti===void 0&&(typeof CSS<"u"?typeof CSS.supports<"u"?ti=CSS.supports("width","max(1px)"):ti=!1:ti=!0);const{mergedClsPrefixRef:t,inlineThemeDisabled:r}=ot(e),l=Ne("Switch","-switch",sp,Lc,e,t),h=Qi(e),{mergedSizeRef:b,mergedDisabledRef:y}=h,i=q(e.defaultValue),o=Be(e,"value"),n=br(o,i),u=X(()=>n.value===e.checkedValue),f=q(!1),_=q(!1),v=X(()=>{const{railStyle:k}=e;if(!!k)return k({focused:_.value,checked:u.value})});function g(k){const{"onUpdate:value":R,onChange:A,onUpdateValue:D}=e,{nTriggerFormInput:T,nTriggerFormChange:x}=h;R&&Le(R,k),D&&Le(D,k),A&&Le(A,k),i.value=k,T(),x()}function p(){const{nTriggerFormFocus:k}=h;k()}function s(){const{nTriggerFormBlur:k}=h;k()}function c(){e.loading||y.value||(n.value!==e.checkedValue?g(e.checkedValue):g(e.uncheckedValue))}function a(){_.value=!0,p()}function d(){_.value=!1,s(),f.value=!1}function m(k){e.loading||y.value||k.key===" "&&(n.value!==e.checkedValue?g(e.checkedValue):g(e.uncheckedValue),f.value=!1)}function w(k){e.loading||y.value||k.key===" "&&(k.preventDefault(),f.value=!0)}const S=X(()=>{const{value:k}=b,{self:{opacityDisabled:R,railColor:A,railColorActive:D,buttonBoxShadow:T,buttonColor:x,boxShadowFocus:E,loadingColor:L,textColor:O,iconColor:M,[pe("buttonHeight",k)]:V,[pe("buttonWidth",k)]:F,[pe("buttonWidthPressed",k)]:W,[pe("railHeight",k)]:G,[pe("railWidth",k)]:te,[pe("railBorderRadius",k)]:P,[pe("buttonBorderRadius",k)]:ae},common:{cubicBezierEaseInOut:re}}=l.value;let I,U,oe;return ti?(I=`calc((${G} - ${V}) / 2)`,U=`max(${G}, ${V})`,oe=`max(${te}, calc(${te} + ${V} - ${G}))`):(I=At((Ht(G)-Ht(V))/2),U=At(Math.max(Ht(G),Ht(V))),oe=Ht(G)>Ht(V)?te:At(Ht(te)+Ht(V)-Ht(G))),{"--n-bezier":re,"--n-button-border-radius":ae,"--n-button-box-shadow":T,"--n-button-color":x,"--n-button-width":F,"--n-button-width-pressed":W,"--n-button-height":V,"--n-height":U,"--n-offset":I,"--n-opacity-disabled":R,"--n-rail-border-radius":P,"--n-rail-color":A,"--n-rail-color-active":D,"--n-rail-height":G,"--n-rail-width":te,"--n-width":oe,"--n-box-shadow-focus":E,"--n-loading-color":L,"--n-text-color":O,"--n-icon-color":M}}),C=r?_t("switch",X(()=>b.value[0]),S,e):void 0;return{handleClick:c,handleBlur:d,handleFocus:a,handleKeyup:m,handleKeydown:w,mergedRailStyle:v,pressed:f,mergedClsPrefix:t,mergedValue:n,checked:u,mergedDisabled:y,cssVars:r?void 0:S,themeClass:C==null?void 0:C.themeClass,onRender:C==null?void 0:C.onRender}},render(){const{mergedClsPrefix:e,mergedDisabled:t,checked:r,mergedRailStyle:l,onRender:h,$slots:b}=this;h==null||h();const{checked:y,unchecked:i,icon:o,"checked-icon":n,"unchecked-icon":u}=b,f=!(di(o)&&di(n)&&di(u));return B("div",{role:"switch","aria-checked":r,class:[`${e}-switch`,this.themeClass,f&&`${e}-switch--icon`,r&&`${e}-switch--active`,t&&`${e}-switch--disabled`,this.round&&`${e}-switch--round`,this.loading&&`${e}-switch--loading`,this.pressed&&`${e}-switch--pressed`,this.rubberBand&&`${e}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},B("div",{class:`${e}-switch__rail`,"aria-hidden":"true",style:l},Ze(y,_=>Ze(i,v=>_||v?B("div",{"aria-hidden":!0,class:`${e}-switch__children-placeholder`},B("div",{class:`${e}-switch__rail-placeholder`},B("div",{class:`${e}-switch__button-placeholder`}),_),B("div",{class:`${e}-switch__rail-placeholder`},B("div",{class:`${e}-switch__button-placeholder`}),v)):null)),B("div",{class:`${e}-switch__button`},Ze(o,_=>Ze(n,v=>Ze(u,g=>B(Kn,null,{default:()=>this.loading?B(Xi,{key:"loading",clsPrefix:e,strokeWidth:20}):this.checked&&(v||_)?B("div",{class:`${e}-switch__button-icon`,key:v?"checked-icon":"icon"},v||_):!this.checked&&(g||_)?B("div",{class:`${e}-switch__button-icon`,key:g?"unchecked-icon":"icon"},g||_):null})))),Ze(y,_=>_&&B("div",{key:"checked",class:`${e}-switch__checked`},_)),Ze(i,_=>_&&B("div",{key:"unchecked",class:`${e}-switch__unchecked`},_)))))}}),ap=Y([j("table",`
 font-size: var(--n-font-size);
 font-variant-numeric: tabular-nums;
 line-height: var(--n-line-height);
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 text-align: left;
 border-collapse: separate;
 border-spacing: 0;
 overflow: hidden;
 background-color: var(--n-td-color);
 border-color: var(--n-merged-border-color);
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 --n-merged-border-color: var(--n-border-color);
 `,[Y("th",`
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 text-align: inherit;
 padding: var(--n-th-padding);
 vertical-align: inherit;
 text-transform: none;
 border: 0px solid var(--n-merged-border-color);
 font-weight: var(--n-th-font-weight);
 color: var(--n-th-text-color);
 background-color: var(--n-th-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 border-right: 1px solid var(--n-merged-border-color);
 `,[Y("&:last-child",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),Y("td",`
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 padding: var(--n-td-padding);
 color: var(--n-td-text-color);
 background-color: var(--n-td-color);
 border: 0px solid var(--n-merged-border-color);
 border-right: 1px solid var(--n-merged-border-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 `,[Y("&:last-child",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),ee("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `,[Y("tr",[Y("&:last-child",[Y("td",`
 border-bottom: 0 solid var(--n-merged-border-color);
 `)])])]),ee("single-line",[Y("th",`
 border-right: 0px solid var(--n-merged-border-color);
 `),Y("td",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),ee("single-column",[Y("tr",[Y("&:not(:last-child)",[Y("td",`
 border-bottom: 0px solid var(--n-merged-border-color);
 `)])])]),ee("striped",[Y("tr:nth-of-type(even)",[Y("td","background-color: var(--n-td-color-striped)")])]),ct("bottom-bordered",[Y("tr",[Y("&:last-child",[Y("td",`
 border-bottom: 0px solid var(--n-merged-border-color);
 `)])])])]),Ji(j("table",`
 background-color: var(--n-td-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `,[Y("th",`
 background-color: var(--n-th-color-modal);
 `),Y("td",`
 background-color: var(--n-td-color-modal);
 `)])),Gn(j("table",`
 background-color: var(--n-td-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `,[Y("th",`
 background-color: var(--n-th-color-popover);
 `),Y("td",`
 background-color: var(--n-td-color-popover);
 `)]))]),lp=Object.assign(Object.assign({},Ne.props),{bordered:{type:Boolean,default:!0},bottomBordered:{type:Boolean,default:!0},singleLine:{type:Boolean,default:!0},striped:Boolean,singleColumn:Boolean,size:{type:String,default:"medium"}}),as=de({name:"Table",props:lp,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:r,mergedRtlRef:l}=ot(e),h=Ne("Table","-table",ap,Ac,e,t),b=hr("Table",l,t),y=X(()=>{const{size:o}=e,{self:{borderColor:n,tdColor:u,tdColorModal:f,tdColorPopover:_,thColor:v,thColorModal:g,thColorPopover:p,thTextColor:s,tdTextColor:c,borderRadius:a,thFontWeight:d,lineHeight:m,borderColorModal:w,borderColorPopover:S,tdColorStriped:C,tdColorStripedModal:k,tdColorStripedPopover:R,[pe("fontSize",o)]:A,[pe("tdPadding",o)]:D,[pe("thPadding",o)]:T},common:{cubicBezierEaseInOut:x}}=h.value;return{"--n-bezier":x,"--n-td-color":u,"--n-td-color-modal":f,"--n-td-color-popover":_,"--n-td-text-color":c,"--n-border-color":n,"--n-border-color-modal":w,"--n-border-color-popover":S,"--n-border-radius":a,"--n-font-size":A,"--n-th-color":v,"--n-th-color-modal":g,"--n-th-color-popover":p,"--n-th-font-weight":d,"--n-th-text-color":s,"--n-line-height":m,"--n-td-padding":D,"--n-th-padding":T,"--n-td-color-striped":C,"--n-td-color-striped-modal":k,"--n-td-color-striped-popover":R}}),i=r?_t("table",X(()=>e.size[0]),y,e):void 0;return{rtlEnabled:b,mergedClsPrefix:t,cssVars:r?void 0:y,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e;const{mergedClsPrefix:t}=this;return(e=this.onRender)===null||e===void 0||e.call(this),B("table",{class:[`${t}-table`,this.themeClass,{[`${t}-table--rtl`]:this.rtlEnabled,[`${t}-table--bottom-bordered`]:this.bottomBordered,[`${t}-table--bordered`]:this.bordered,[`${t}-table--single-line`]:this.singleLine,[`${t}-table--single-column`]:this.singleColumn,[`${t}-table--striped`]:this.striped}],style:this.cssVars},this.$slots)}}),ls=Yt("n-tabs"),Sa={tab:[String,Number,Object,Function],name:{type:[String,Number],required:!0},disabled:Boolean,displayDirective:{type:String,default:"if"},closable:{type:Boolean,default:void 0},tabProps:Object,label:[String,Number,Object,Function]};de({__TAB_PANE__:!0,name:"TabPane",alias:["TabPanel"],props:Sa,setup(e){const t=nt(ls,null);return t||vi("tab-pane","`n-tab-pane` must be placed inside `n-tabs`."),{style:t.paneStyleRef,class:t.paneClassRef,mergedClsPrefix:t.mergedClsPrefixRef}},render(){return B("div",{class:[`${this.mergedClsPrefix}-tab-pane`,this.class],style:this.style},this.$slots)}});const cp=Object.assign({internalLeftPadded:Boolean,internalAddable:Boolean,internalCreatedByPane:Boolean},Bc(Sa,["displayDirective"])),mr=de({__TAB__:!0,inheritAttrs:!1,name:"Tab",props:cp,setup(e){const{mergedClsPrefixRef:t,valueRef:r,typeRef:l,closableRef:h,tabStyleRef:b,tabChangeIdRef:y,onBeforeLeaveRef:i,triggerRef:o,handleAdd:n,activateTab:u,handleClose:f}=nt(ls);return{trigger:o,mergedClosable:X(()=>{if(e.internalAddable)return!1;const{closable:_}=e;return _===void 0?h.value:_}),style:b,clsPrefix:t,value:r,type:l,handleClose(_){_.stopPropagation(),!e.disabled&&f(e.name)},activateTab(){if(e.disabled)return;if(e.internalAddable){n();return}const{name:_}=e,v=++y.id;if(_!==r.value){const{value:g}=i;g?Promise.resolve(g(e.name,r.value)).then(p=>{p&&y.id===v&&u(_)}):u(_)}}}},render(){const{internalAddable:e,clsPrefix:t,name:r,disabled:l,label:h,tab:b,value:y,mergedClosable:i,style:o,trigger:n,$slots:{default:u}}=this,f=h!=null?h:b;return B("div",{class:`${t}-tabs-tab-wrapper`},this.internalLeftPadded?B("div",{class:`${t}-tabs-tab-pad`}):null,B("div",Object.assign({key:r,"data-name":r,"data-disabled":l?!0:void 0},Rt({class:[`${t}-tabs-tab`,y===r&&`${t}-tabs-tab--active`,l&&`${t}-tabs-tab--disabled`,i&&`${t}-tabs-tab--closable`,e&&`${t}-tabs-tab--addable`],onClick:n==="click"?this.activateTab:void 0,onMouseenter:n==="hover"?this.activateTab:void 0,style:e?void 0:o},this.internalCreatedByPane?this.tabProps||{}:this.$attrs)),B("span",{class:`${t}-tabs-tab__label`},e?B(Ye,null,B("div",{class:`${t}-tabs-tab__height-placeholder`},"\xA0"),B(ir,{clsPrefix:t},{default:()=>B(Zu,null)})):u?u():typeof f=="object"?f:bt(f!=null?f:r)),i&&this.type==="card"?B(Yn,{clsPrefix:t,class:`${t}-tabs-tab__close`,onClick:this.handleClose,disabled:l}):null))}}),dp=j("tabs",`
 box-sizing: border-box;
 width: 100%;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
`,[ee("segment-type",[j("tabs-rail",[Y("&.transition-disabled","color: red;",[j("tabs-tab",`
 transition: none;
 `)])])]),j("tabs-rail",`
 padding: 3px;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 background-color: var(--n-color-segment);
 transition: background-color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[j("tabs-tab-wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[j("tabs-tab",`
 overflow: hidden;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[ee("active",`
 font-weight: var(--n-font-weight-strong);
 color: var(--n-tab-text-color-active);
 background-color: var(--n-tab-color-segment);
 box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .08);
 `),Y("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])])]),ee("flex",[j("tabs-nav",{width:"100%"},[j("tabs-wrapper",{width:"100%"},[j("tabs-tab",{marginRight:0})])])]),j("tabs-nav",`
 box-sizing: border-box;
 line-height: 1.5;
 display: flex;
 transition: border-color .3s var(--n-bezier);
 `,[z("prefix, suffix",`
 display: flex;
 align-items: center;
 `),z("prefix","padding-right: 16px;"),z("suffix","padding-left: 16px;")]),j("tabs-nav-scroll-wrapper",`
 flex: 1;
 position: relative;
 overflow: hidden;
 `,[ee("shadow-before",[Y("&::before",`
 box-shadow: inset 10px 0 8px -8px rgba(0, 0, 0, .12);
 `)]),ee("shadow-after",[Y("&::after",`
 box-shadow: inset -10px 0 8px -8px rgba(0, 0, 0, .12);
 `)]),Y("&::before, &::after",`
 transition: box-shadow .3s var(--n-bezier);
 pointer-events: none;
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 width: 20px;
 z-index: 1;
 `),Y("&::before",`
 left: 0;
 `),Y("&::after",`
 right: 0;
 `)]),j("tabs-nav-scroll-content",`
 display: flex;
 position: relative;
 min-width: 100%;
 width: fit-content;
 `),j("tabs-wrapper",`
 display: inline-flex;
 flex-wrap: nowrap;
 position: relative;
 `),j("tabs-tab-wrapper",`
 display: flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 flex-grow: 0;
 `),j("tabs-tab",`
 cursor: pointer;
 white-space: nowrap;
 flex-wrap: nowrap;
 display: inline-flex;
 align-items: center;
 color: var(--n-tab-text-color);
 font-size: var(--n-tab-font-size);
 background-clip: padding-box;
 padding: var(--n-tab-padding);
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[ee("disabled",{cursor:"not-allowed"}),z("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),z("label",`
 display: flex;
 align-items: center;
 `)]),j("tabs-bar",`
 position: absolute;
 bottom: 0;
 height: 2px;
 border-radius: 1px;
 background-color: var(--n-bar-color);
 transition:
 left .2s var(--n-bezier),
 max-width .2s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[Y("&.transition-disabled",`
 transition: none;
 `),ee("disabled",`
 background-color: var(--n-tab-text-color-disabled)
 `)]),j("tabs-pane-wrapper",`
 position: relative;
 overflow: hidden;
 transition: max-height .2s var(--n-bezier);
 `),j("tab-pane",`
 color: var(--n-pane-text-color);
 width: 100%;
 padding: var(--n-pane-padding);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .2s var(--n-bezier);
 left: 0;
 right: 0;
 top: 0;
 `,[Y("&.next-transition-leave-active, &.prev-transition-leave-active, &.next-transition-enter-active, &.prev-transition-enter-active",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .2s var(--n-bezier),
 opacity .2s var(--n-bezier);
 `),Y("&.next-transition-leave-active, &.prev-transition-leave-active",`
 position: absolute;
 `),Y("&.next-transition-enter-from, &.prev-transition-leave-to",`
 transform: translateX(32px);
 opacity: 0;
 `),Y("&.next-transition-leave-to, &.prev-transition-enter-from",`
 transform: translateX(-32px);
 opacity: 0;
 `),Y("&.next-transition-leave-from, &.next-transition-enter-to, &.prev-transition-leave-from, &.prev-transition-enter-to",`
 transform: translateX(0);
 opacity: 1;
 `)]),j("tabs-tab-pad",`
 width: var(--n-tab-gap);
 flex-grow: 0;
 flex-shrink: 0;
 `),ee("line-type, bar-type",[j("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 box-sizing: border-box;
 vertical-align: bottom;
 `,[Y("&:hover",{color:"var(--n-tab-text-color-hover)"}),ee("active",`
 color: var(--n-tab-text-color-active);
 font-weight: var(--n-tab-font-weight-active);
 `),ee("disabled",{color:"var(--n-tab-text-color-disabled)"})])]),j("tabs-nav",[ee("line-type",[z("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),j("tabs-nav-scroll-content",`
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),j("tabs-bar",`
 border-radius: 0;
 bottom: -1px;
 `)]),ee("card-type",[z("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),j("tabs-pad",`
 flex-grow: 1;
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),j("tabs-tab-pad",`
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),j("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 border: 1px solid var(--n-tab-border-color);
 border-top-left-radius: var(--n-tab-border-radius);
 border-top-right-radius: var(--n-tab-border-radius);
 background-color: var(--n-tab-color);
 box-sizing: border-box;
 position: relative;
 vertical-align: bottom;
 display: flex;
 justify-content: space-between;
 font-size: var(--n-tab-font-size);
 color: var(--n-tab-text-color);
 `,[ee("addable",`
 padding-left: 8px;
 padding-right: 8px;
 font-size: 16px;
 `,[z("height-placeholder",`
 width: 0;
 font-size: var(--n-tab-font-size);
 `),ct("disabled",[Y("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])]),ee("closable","padding-right: 6px;"),ee("active",`
 border-bottom: 1px solid #0000;
 background-color: #0000;
 font-weight: var(--n-tab-font-weight-active);
 color: var(--n-tab-text-color-active);
 `),ee("disabled","color: var(--n-tab-text-color-disabled);")]),j("tabs-scroll-padding","border-bottom: 1px solid var(--n-tab-border-color);")])])]),up=Object.assign(Object.assign({},Ne.props),{value:[String,Number],defaultValue:[String,Number],trigger:{type:String,default:"click"},type:{type:String,default:"bar"},closable:Boolean,justifyContent:String,size:{type:String,default:"medium"},tabStyle:[String,Object],barWidth:Number,paneClass:String,paneStyle:[String,Object],addable:[Boolean,Object],tabsPadding:{type:Number,default:0},animated:Boolean,onBeforeLeave:Function,onAdd:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClose:[Function,Array],labelSize:String,activeName:[String,Number],onActiveNameChange:[Function,Array]}),xa=de({name:"Tabs",props:up,setup(e,{slots:t}){var r,l,h,b;const{mergedClsPrefixRef:y,inlineThemeDisabled:i}=ot(e),o=Ne("Tabs","-tabs",dp,Oc,e,y),n=q(null),u=q(null),f=q(null),_=q(null),v=q(null),g=q(!0),p=q(!0),s=xn(e,["labelSize","size"]),c=xn(e,["activeName","value"]),a=q((l=(r=c.value)!==null&&r!==void 0?r:e.defaultValue)!==null&&l!==void 0?l:t.default?(b=(h=Ti(t.default())[0])===null||h===void 0?void 0:h.props)===null||b===void 0?void 0:b.name:null),d=br(c,a),m={id:0},w=X(()=>{if(!(!e.justifyContent||e.type==="card"))return{display:"flex",justifyContent:e.justifyContent}});qe(d,()=>{m.id=0,k(),R()});function S(){var ue;const{value:me}=d;return me===null?null:(ue=n.value)===null||ue===void 0?void 0:ue.querySelector(`[data-name="${me}"]`)}function C(ue){if(e.type==="card")return;const{value:me}=u;if(!!me&&ue){const Ee=`${y.value}-tabs-bar--disabled`,{barWidth:De}=e;if(ue.dataset.disabled==="true"?me.classList.add(Ee):me.classList.remove(Ee),typeof De=="number"&&ue.offsetWidth>=De){const et=Math.floor((ue.offsetWidth-De)/2)+ue.offsetLeft;me.style.left=`${et}px`,me.style.maxWidth=`${De}px`}else me.style.left=`${ue.offsetLeft}px`,me.style.maxWidth=`${ue.offsetWidth}px`;me.style.width="8192px",me.offsetWidth}}function k(){if(e.type==="card")return;const ue=S();ue&&C(ue)}function R(ue){var me;const Ee=(me=v.value)===null||me===void 0?void 0:me.$el;if(!Ee)return;const De=S();if(!De)return;const{scrollLeft:et,offsetWidth:Me}=Ee,{offsetLeft:se,offsetWidth:ve}=De;et>se?Ee.scrollTo({top:0,left:se,behavior:"smooth"}):se+ve>et+Me&&Ee.scrollTo({top:0,left:se+ve-Me,behavior:"smooth"})}const A=q(null);let D=0,T=null;function x(ue){const me=A.value;if(me){D=ue.getBoundingClientRect().height;const Ee=`${D}px`,De=()=>{me.style.height=Ee,me.style.maxHeight=Ee};T?(De(),T(),T=null):T=De}}function E(ue){const me=A.value;if(me){const Ee=ue.getBoundingClientRect().height,De=()=>{document.body.offsetHeight,me.style.maxHeight=`${Ee}px`,me.style.height=`${Math.max(D,Ee)}px`};T?(T(),T=null,De()):T=De}}function L(){const ue=A.value;ue&&(ue.style.maxHeight="",ue.style.height="")}const O={value:[]},M=q("next");function V(ue){const me=d.value;let Ee="next";for(const De of O.value){if(De===me)break;if(De===ue){Ee="prev";break}}M.value=Ee,F(ue)}function F(ue){const{onActiveNameChange:me,onUpdateValue:Ee,"onUpdate:value":De}=e;me&&Le(me,ue),Ee&&Le(Ee,ue),De&&Le(De,ue),a.value=ue}function W(ue){const{onClose:me}=e;me&&Le(me,ue)}function G(){const{value:ue}=u;if(!ue)return;const me="transition-disabled";ue.classList.add(me),k(),ue.classList.remove(me)}let te=0;function P(ue){var me;if(ue.contentRect.width===0&&ue.contentRect.height===0||te===ue.contentRect.width)return;te=ue.contentRect.width;const{type:Ee}=e;(Ee==="line"||Ee==="bar")&&G(),Ee!=="segment"&&Q((me=v.value)===null||me===void 0?void 0:me.$el)}const ae=cn(P,64);qe([()=>e.justifyContent,()=>e.size],()=>{gt(()=>{const{type:ue}=e;(ue==="line"||ue==="bar")&&G()})});const re=q(!1);function I(ue){var me;const{target:Ee,contentRect:{width:De}}=ue,et=Ee.parentElement.offsetWidth;if(!re.value)et<De&&(re.value=!0);else{const{value:Me}=_;if(!Me)return;et-De>Me.$el.offsetWidth&&(re.value=!1)}Q((me=v.value)===null||me===void 0?void 0:me.$el)}const U=cn(I,64);function oe(){const{onAdd:ue}=e;ue&&ue(),gt(()=>{const me=S(),{value:Ee}=v;!me||!Ee||Ee.scrollTo({left:me.offsetLeft,top:0,behavior:"smooth"})})}function Q(ue){if(!ue)return;const{scrollLeft:me,scrollWidth:Ee,offsetWidth:De}=ue;g.value=me<=0,p.value=me+De>=Ee}const fe=cn(ue=>{Q(ue.target)},64);at(ls,{triggerRef:Be(e,"trigger"),tabStyleRef:Be(e,"tabStyle"),paneClassRef:Be(e,"paneClass"),paneStyleRef:Be(e,"paneStyle"),mergedClsPrefixRef:y,typeRef:Be(e,"type"),closableRef:Be(e,"closable"),valueRef:d,tabChangeIdRef:m,onBeforeLeaveRef:Be(e,"onBeforeLeave"),activateTab:V,handleClose:W,handleAdd:oe}),Dc(()=>{k(),R()}),zi(()=>{const{value:ue}=f;if(!ue)return;const{value:me}=y,Ee=`${me}-tabs-nav-scroll-wrapper--shadow-before`,De=`${me}-tabs-nav-scroll-wrapper--shadow-after`;g.value?ue.classList.remove(Ee):ue.classList.add(Ee),p.value?ue.classList.remove(De):ue.classList.add(De)});const ce=q(null);qe(d,()=>{if(e.type==="segment"){const ue=ce.value;ue&&gt(()=>{ue.classList.add("transition-disabled"),ue.offsetWidth,ue.classList.remove("transition-disabled")})}});const Oe={syncBarPosition:()=>{k()}},Ce=X(()=>{const{value:ue}=s,{type:me}=e,Ee={card:"Card",bar:"Bar",line:"Line",segment:"Segment"}[me],De=`${ue}${Ee}`,{self:{barColor:et,closeIconColor:Me,closeIconColorHover:se,closeIconColorPressed:ve,tabColor:je,tabBorderColor:ut,paneTextColor:Zt,tabFontWeight:Jt,tabBorderRadius:Qt,tabFontWeightActive:Nt,colorSegment:Wt,fontWeightStrong:Ot,tabColorSegment:Mt,closeSize:yt,closeIconSize:Pt,closeColorHover:$t,closeColorPressed:st,closeBorderRadius:J,[pe("panePadding",ue)]:ge,[pe("tabPadding",De)]:we,[pe("tabGap",De)]:Ie,[pe("tabTextColor",me)]:ze,[pe("tabTextColorActive",me)]:Fe,[pe("tabTextColorHover",me)]:$e,[pe("tabTextColorDisabled",me)]:Xe,[pe("tabFontSize",ue)]:It},common:{cubicBezierEaseInOut:or}}=o.value;return{"--n-bezier":or,"--n-color-segment":Wt,"--n-bar-color":et,"--n-tab-font-size":It,"--n-tab-text-color":ze,"--n-tab-text-color-active":Fe,"--n-tab-text-color-disabled":Xe,"--n-tab-text-color-hover":$e,"--n-pane-text-color":Zt,"--n-tab-border-color":ut,"--n-tab-border-radius":Qt,"--n-close-size":yt,"--n-close-icon-size":Pt,"--n-close-color-hover":$t,"--n-close-color-pressed":st,"--n-close-border-radius":J,"--n-close-icon-color":Me,"--n-close-icon-color-hover":se,"--n-close-icon-color-pressed":ve,"--n-tab-color":je,"--n-tab-font-weight":Jt,"--n-tab-font-weight-active":Nt,"--n-tab-padding":we,"--n-tab-gap":Ie,"--n-pane-padding":ge,"--n-font-weight-strong":Ot,"--n-tab-color-segment":Mt}}),Ue=i?_t("tabs",X(()=>`${s.value[0]}${e.type[0]}`),Ce,e):void 0;return Object.assign({mergedClsPrefix:y,mergedValue:d,renderedNames:new Set,tabsRailElRef:ce,tabsPaneWrapperRef:A,tabsElRef:n,barElRef:u,addTabInstRef:_,xScrollInstRef:v,scrollWrapperElRef:f,addTabFixed:re,tabWrapperStyle:w,handleNavResize:ae,mergedSize:s,handleScroll:fe,handleTabsResize:U,cssVars:i?void 0:Ce,themeClass:Ue==null?void 0:Ue.themeClass,animationDirection:M,renderNameListRef:O,onAnimationBeforeLeave:x,onAnimationEnter:E,onAnimationAfterEnter:L,onRender:Ue==null?void 0:Ue.onRender},Oe)},render(){const{mergedClsPrefix:e,type:t,addTabFixed:r,addable:l,mergedSize:h,renderNameListRef:b,onRender:y,$slots:{default:i,prefix:o,suffix:n}}=this;y==null||y();const u=i?Ti(i()).filter(s=>s.type.__TAB_PANE__===!0):[],f=i?Ti(i()).filter(s=>s.type.__TAB__===!0):[],_=!f.length,v=t==="card",g=t==="segment",p=!v&&!g&&this.justifyContent;return b.value=[],B("div",{class:[`${e}-tabs`,this.themeClass,`${e}-tabs--${t}-type`,`${e}-tabs--${h}-size`,p&&`${e}-tabs--flex`],style:this.cssVars},B("div",{class:[`${e}-tabs-nav--${t}-type`,`${e}-tabs-nav`]},Ze(o,s=>s&&B("div",{class:`${e}-tabs-nav__prefix`},s)),g?B("div",{class:`${e}-tabs-rail`,ref:"tabsRailElRef"},_?u.map((s,c)=>(b.value.push(s.props.name),B(mr,Object.assign({},s.props,{internalCreatedByPane:!0,internalLeftPadded:c!==0}),s.children?{default:s.children.tab}:void 0))):f.map((s,c)=>(b.value.push(s.props.name),c===0?s:Qs(s)))):B(Fr,{onResize:this.handleNavResize},{default:()=>B("div",{class:`${e}-tabs-nav-scroll-wrapper`,ref:"scrollWrapperElRef"},B(Ou,{ref:"xScrollInstRef",onScroll:this.handleScroll},{default:()=>{const s=B("div",{style:this.tabWrapperStyle,class:`${e}-tabs-wrapper`},p?null:B("div",{class:`${e}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}),_?u.map((a,d)=>(b.value.push(a.props.name),vn(B(mr,Object.assign({},a.props,{internalCreatedByPane:!0,internalLeftPadded:d!==0&&(!p||p==="center"||p==="start"||p==="end")}),a.children?{default:a.children.tab}:void 0)))):f.map((a,d)=>(b.value.push(a.props.name),vn(d!==0&&!p?Qs(a):a))),!r&&l&&v?Js(l,(_?u.length:f.length)!==0):null,p?null:B("div",{class:`${e}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}));let c=s;return v&&l&&(c=B(Fr,{onResize:this.handleTabsResize},{default:()=>s})),B("div",{ref:"tabsElRef",class:`${e}-tabs-nav-scroll-content`},c,v?B("div",{class:`${e}-tabs-pad`}):null,v?null:B("div",{ref:"barElRef",class:`${e}-tabs-bar`}))}}))}),r&&l&&v?Js(l,!0):null,Ze(n,s=>s&&B("div",{class:`${e}-tabs-nav__suffix`},s))),_&&(this.animated?B("div",{ref:"tabsPaneWrapperRef",class:`${e}-tabs-pane-wrapper`},Zs(u,this.mergedValue,this.renderedNames,this.onAnimationBeforeLeave,this.onAnimationEnter,this.onAnimationAfterEnter,this.animationDirection)):Zs(u,this.mergedValue,this.renderedNames)))}});function Zs(e,t,r,l,h,b,y){const i=[];return e.forEach(o=>{const{name:n,displayDirective:u,"display-directive":f}=o.props,_=g=>u===g||f===g,v=t===n;if(o.key!==void 0&&(o.key=n),v||_("show")||_("show:lazy")&&r.has(n)){r.has(n)||r.add(n);const g=!_("if");i.push(g?Nr(o,[[kr,v]]):o)}}),y?B(Lo,{name:`${y}-transition`,onBeforeLeave:l,onEnter:h,onAfterEnter:b},{default:()=>i}):i}function Js(e,t){return B(mr,{ref:"addTabInstRef",key:"__addable",name:"__addable",internalCreatedByPane:!0,internalAddable:!0,internalLeftPadded:t,disabled:typeof e=="object"&&e.disabled})}function Qs(e){const t=Hi(e);return t.props?t.props.internalLeftPadded=!0:t.props={internalLeftPadded:!0},t}function vn(e){return Array.isArray(e.dynamicProps)?e.dynamicProps.includes("internalLeftPadded")||e.dynamicProps.push("internalLeftPadded"):e.dynamicProps=["internalLeftPadded"],e}const Li=de({__name:"l_button",props:{disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const r=e,l=jo(),h=y=>!!l[y];function b(){r.disabled||t("click")}return(y,i)=>h("tooltip")?(ie(),Te($(Rr),{key:0,trigger:"hover"},{trigger:K(()=>[Z($(Qe),{size:"small",type:r.disabled?"tertiary":"default",secondary:"",round:"",style:fi({cursor:r.disabled?"not-allowed":void 0}),onClick:b},{default:K(()=>[tr(y.$slots,"default")]),_:3},8,["type","style"])]),default:K(()=>[r.disabled?tr(y.$slots,"tooltip-disabled",{key:0}):tr(y.$slots,"tooltip",{key:1})]),_:3})):(ie(),Te($(Qe),{key:1,size:"small",secondary:"",round:"",onClick:b},{default:K(()=>[tr(y.$slots,"default")]),_:3}))}}),ar=de({__name:"l_switch",props:{value:{type:Boolean}},emits:["update:value"],setup(e,{emit:t}){const r=e;function l(){t("update:value",!r.value)}const h=jo(),b=y=>!!h[y];return(y,i)=>b("tooltip")?(ie(),Te($(Rr),{key:0,trigger:"hover"},{trigger:K(()=>[Z($(Qe),{size:"small",color:"#4466cc",strong:!!r.value,tertiary:!r.value,round:"",onClick:l},{default:K(()=>[tr(y.$slots,"default")]),_:3},8,["strong","tertiary"])]),default:K(()=>[tr(y.$slots,"tooltip")]),_:3})):(ie(),Te($(Qe),{key:1,size:"small",color:"#4466cc",strong:!!r.value,tertiary:!r.value,round:"",onClick:l},{default:K(()=>[tr(y.$slots,"default")]),_:3},8,["strong","tertiary"]))}}),hp={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},fp=he("g",{fill:"none"},[he("path",{d:"M10.5 3l6.043.002l.085.015l.063.02l.076.04l.055.04l.06.06l.03.038l.041.074l.03.083l.015.082L17 3.5v6a.5.5 0 0 1-.992.09L16 9.5V4.706L4.706 16H9.5a.5.5 0 0 1 .492.41l.008.09a.5.5 0 0 1-.41.492L9.5 17H3.48l-.069-.008l-.102-.03l-.076-.04l-.055-.04l-.06-.06l-.03-.037l-.041-.074l-.03-.083l-.006-.023A.499.499 0 0 1 3 16.5l.005.074l-.003-.031L3 10.5a.5.5 0 0 1 .992-.09L4 10.5v4.792L15.292 4H10.5a.5.5 0 0 1-.492-.41L10 3.5a.5.5 0 0 1 .5-.5z",fill:"currentColor"})],-1),pp=[fp],vp=de({name:"ArrowMaximize20Regular",render:function(t,r){return ie(),be("svg",hp,pp)}}),gp={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},_p=he("g",{fill:"none"},[he("path",{d:"M3.5 11h5a.5.5 0 0 1 .492.41L9 11.5v5a.5.5 0 0 1-.992.09L8 16.5v-3.794l-5.146 5.148a.5.5 0 0 1-.765-.638l.057-.07L7.292 12H3.5a.5.5 0 0 1-.492-.41L3 11.5a.5.5 0 0 1 .41-.492L3.5 11h5h-5zm14.354-8.854a.5.5 0 0 1 .057.638l-.057.07L12.706 8H16.5a.5.5 0 0 1 .492.41L17 8.5a.5.5 0 0 1-.41.492L16.5 9h-5.02l-.069-.008l-.102-.03l-.076-.04l-.055-.04l-.032-.028l-.037-.042l-.042-.062l-.03-.06l-.02-.062l-.006-.023A.496.496 0 0 1 11 8.5l.005.074l-.003-.031L11 3.5a.5.5 0 0 1 .992-.09L12 3.5v3.792l5.146-5.146a.5.5 0 0 1 .708 0z",fill:"currentColor"})],-1),mp=[_p],bp=de({name:"ArrowMinimize20Regular",render:function(t,r){return ie(),be("svg",gp,mp)}}),yp={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},wp=he("g",{fill:"none"},[he("path",{d:"M17.78 2.22a.75.75 0 0 1 0 1.06l-1.445 1.446a4.037 4.037 0 0 1-.481 5.127l-.3.3l-.003.003l-.309.309a1.05 1.05 0 0 1-1.484 0L9.535 6.242a1.05 1.05 0 0 1 0-1.485l.611-.61a4.04 4.04 0 0 1 5.128-.481L16.72 2.22a.75.75 0 0 1 1.06 0zm-9 6.25a.75.75 0 0 1 0 1.06L7.51 10.802l1.69 1.69l1.27-1.272a.75.75 0 1 1 1.061 1.06l-1.276 1.277a1.49 1.49 0 0 1-.1 1.997l-.3.3a4.037 4.037 0 0 1-5.128.48L3.28 17.78a.75.75 0 0 1-1.06-1.06l1.445-1.446a4.037 4.037 0 0 1 .481-5.127l.3-.3a1.49 1.49 0 0 1 1.997-.1L7.72 8.47a.75.75 0 0 1 1.06 0z",fill:"currentColor"})],-1),Sp=[wp],xp=de({name:"PlugDisconnected20Filled",render:function(t,r){return ie(),be("svg",yp,Sp)}}),rn=de({__name:"l_panel",props:{visible:null,title:null,minV:{default:2},maxV:{default:4}},emits:["update:visible"],setup(e,{emit:t}){const r=e;function l(y){return y>0?y<r.minV?r.minV:y>r.maxV?r.maxV:y:y>-r.minV?-r.minV:y<-r.maxV?-r.maxV:y}const h=X({get:()=>l(r.visible),set:y=>t("update:visible",l(y))});function b(){h.value=l(-h.value)}return(y,i)=>(ie(),Te($(Tr),{title:r.title,closable:"",style:{"min-height":"500px"},onClose:b},{"header-extra":K(()=>[tr(y.$slots,"header-extra"),$(h)>e.minV?(ie(),Te($(Qe),{key:0,text:"",class:"n-base-close",focusable:!1,style:{"margin-right":"5px","margin-left":"12px","--n-text-color-hover":"black"},onClick:i[0]||(i[0]=o=>h.value-=1)},{default:K(()=>[Z($(Je),null,{default:K(()=>[Z($(bp))]),_:1})]),_:1})):Ke("",!0),$(h)<e.maxV?(ie(),Te($(Qe),{key:1,text:"",class:"n-base-close",focusable:!1,style:{"margin-right":"5px","margin-left":"12px","--n-text-color-hover":"black"},onClick:i[1]||(i[1]=o=>h.value+=1)},{default:K(()=>[Z($(Je),null,{default:K(()=>[Z($(vp))]),_:1})]),_:1})):Ke("",!0)]),default:K(()=>[tr(y.$slots,"default")]),_:3},8,["title"]))}});function Ca(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Gr=Ca();function Cp(e){Gr=e}const kp=/[&<>"']/,Rp=/[&<>"']/g,Ep=/[<>"']|&(?!#?\w+;)/,Tp=/[<>"']|&(?!#?\w+;)/g,Lp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eo=e=>Lp[e];function vt(e,t){if(t){if(kp.test(e))return e.replace(Rp,eo)}else if(Ep.test(e))return e.replace(Tp,eo);return e}const Ap=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function ka(e){return e.replace(Ap,(t,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}const Bp=/(^|[^\[])\^/g;function Ge(e,t){e=typeof e=="string"?e:e.source,t=t||"";const r={replace:(l,h)=>(h=h.source||h,h=h.replace(Bp,"$1"),e=e.replace(l,h),r),getRegex:()=>new RegExp(e,t)};return r}const Dp=/[^\w:]/g,Op=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function to(e,t,r){if(e){let l;try{l=decodeURIComponent(ka(r)).replace(Dp,"").toLowerCase()}catch{return null}if(l.indexOf("javascript:")===0||l.indexOf("vbscript:")===0||l.indexOf("data:")===0)return null}t&&!Op.test(r)&&(r=Ip(t,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch{return null}return r}const Ci={},Mp=/^[^:]+:\/*[^/]*$/,Pp=/^([^:]+:)[\s\S]*$/,$p=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Ip(e,t){Ci[" "+e]||(Mp.test(e)?Ci[" "+e]=e+"/":Ci[" "+e]=Ai(e,"/",!0)),e=Ci[" "+e];const r=e.indexOf(":")===-1;return t.substring(0,2)==="//"?r?t:e.replace(Pp,"$1")+t:t.charAt(0)==="/"?r?t:e.replace($p,"$1")+t:e+t}const ji={exec:function(){}};function Xt(e){let t=1,r,l;for(;t<arguments.length;t++){r=arguments[t];for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e}function ro(e,t){const r=e.replace(/\|/g,(b,y,i)=>{let o=!1,n=y;for(;--n>=0&&i[n]==="\\";)o=!o;return o?"|":" |"}),l=r.split(/ \|/);let h=0;if(l[0].trim()||l.shift(),l.length>0&&!l[l.length-1].trim()&&l.pop(),l.length>t)l.splice(t);else for(;l.length<t;)l.push("");for(;h<l.length;h++)l[h]=l[h].trim().replace(/\\\|/g,"|");return l}function Ai(e,t,r){const l=e.length;if(l===0)return"";let h=0;for(;h<l;){const b=e.charAt(l-h-1);if(b===t&&!r)h++;else if(b!==t&&r)h++;else break}return e.slice(0,l-h)}function zp(e,t){if(e.indexOf(t[1])===-1)return-1;const r=e.length;let l=0,h=0;for(;h<r;h++)if(e[h]==="\\")h++;else if(e[h]===t[0])l++;else if(e[h]===t[1]&&(l--,l<0))return h;return-1}function Ra(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function io(e,t){if(t<1)return"";let r="";for(;t>1;)t&1&&(r+=e),t>>=1,e+=e;return r+e}function no(e,t,r,l){const h=t.href,b=t.title?vt(t.title):null,y=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){l.state.inLink=!0;const i={type:"link",raw:r,href:h,title:b,text:y,tokens:l.inlineTokens(y)};return l.state.inLink=!1,i}return{type:"image",raw:r,href:h,title:b,text:vt(y)}}function Fp(e,t){const r=e.match(/^(\s+)(?:```)/);if(r===null)return t;const l=r[1];return t.split(`
`).map(h=>{const b=h.match(/^\s+/);if(b===null)return h;const[y]=b;return y.length>=l.length?h.slice(l.length):h}).join(`
`)}class cs{constructor(t){this.options=t||Gr}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const l=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?l:Ai(l,`
`)}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const l=r[0],h=Fp(l,r[3]||"");return{type:"code",raw:l,lang:r[2]?r[2].trim():r[2],text:h}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let l=r[2].trim();if(/#$/.test(l)){const h=Ai(l,"#");(this.options.pedantic||!h||/ $/.test(h))&&(l=h.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:l,tokens:this.lexer.inline(l)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){const l=r[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:r[0],tokens:this.lexer.blockTokens(l,[]),text:l}}}list(t){let r=this.rules.block.list.exec(t);if(r){let l,h,b,y,i,o,n,u,f,_,v,g,p=r[1].trim();const s=p.length>1,c={type:"list",raw:"",ordered:s,start:s?+p.slice(0,-1):"",loose:!1,items:[]};p=s?`\\d{1,9}\\${p.slice(-1)}`:`\\${p}`,this.options.pedantic&&(p=s?p:"[*+-]");const a=new RegExp(`^( {0,3}${p})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;t&&(g=!1,!(!(r=a.exec(t))||this.rules.block.hr.test(t)));){if(l=r[0],t=t.substring(l.length),u=r[2].split(`
`,1)[0],f=t.split(`
`,1)[0],this.options.pedantic?(y=2,v=u.trimLeft()):(y=r[2].search(/[^ ]/),y=y>4?1:y,v=u.slice(y),y+=r[1].length),o=!1,!u&&/^ *$/.test(f)&&(l+=f+`
`,t=t.substring(f.length+1),g=!0),!g){const m=new RegExp(`^ {0,${Math.min(3,y-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),w=new RegExp(`^ {0,${Math.min(3,y-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),S=new RegExp(`^ {0,${Math.min(3,y-1)}}(?:\`\`\`|~~~)`),C=new RegExp(`^ {0,${Math.min(3,y-1)}}#`);for(;t&&(_=t.split(`
`,1)[0],u=_,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(S.test(u)||C.test(u)||m.test(u)||w.test(t)));){if(u.search(/[^ ]/)>=y||!u.trim())v+=`
`+u.slice(y);else if(!o)v+=`
`+u;else break;!o&&!u.trim()&&(o=!0),l+=_+`
`,t=t.substring(_.length+1)}}c.loose||(n?c.loose=!0:/\n *\n *$/.test(l)&&(n=!0)),this.options.gfm&&(h=/^\[[ xX]\] /.exec(v),h&&(b=h[0]!=="[ ] ",v=v.replace(/^\[[ xX]\] +/,""))),c.items.push({type:"list_item",raw:l,task:!!h,checked:b,loose:!1,text:v}),c.raw+=l}c.items[c.items.length-1].raw=l.trimRight(),c.items[c.items.length-1].text=v.trimRight(),c.raw=c.raw.trimRight();const d=c.items.length;for(i=0;i<d;i++){this.lexer.state.top=!1,c.items[i].tokens=this.lexer.blockTokens(c.items[i].text,[]);const m=c.items[i].tokens.filter(S=>S.type==="space"),w=m.every(S=>{const C=S.raw.split("");let k=0;for(const R of C)if(R===`
`&&(k+=1),k>1)return!0;return!1});!c.loose&&m.length&&w&&(c.loose=!0,c.items[i].loose=!0)}return c}}html(t){const r=this.rules.block.html.exec(t);if(r){const l={type:"html",raw:r[0],pre:!this.options.sanitizer&&(r[1]==="pre"||r[1]==="script"||r[1]==="style"),text:r[0]};if(this.options.sanitize){const h=this.options.sanitizer?this.options.sanitizer(r[0]):vt(r[0]);l.type="paragraph",l.text=h,l.tokens=this.lexer.inline(h)}return l}}def(t){const r=this.rules.block.def.exec(t);if(r){r[3]&&(r[3]=r[3].substring(1,r[3].length-1));const l=r[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:l,raw:r[0],href:r[2],title:r[3]}}}table(t){const r=this.rules.block.table.exec(t);if(r){const l={type:"table",header:ro(r[1]).map(h=>({text:h})),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(l.header.length===l.align.length){l.raw=r[0];let h=l.align.length,b,y,i,o;for(b=0;b<h;b++)/^ *-+: *$/.test(l.align[b])?l.align[b]="right":/^ *:-+: *$/.test(l.align[b])?l.align[b]="center":/^ *:-+ *$/.test(l.align[b])?l.align[b]="left":l.align[b]=null;for(h=l.rows.length,b=0;b<h;b++)l.rows[b]=ro(l.rows[b],l.header.length).map(n=>({text:n}));for(h=l.header.length,y=0;y<h;y++)l.header[y].tokens=this.lexer.inline(l.header[y].text);for(h=l.rows.length,y=0;y<h;y++)for(o=l.rows[y],i=0;i<o.length;i++)o[i].tokens=this.lexer.inline(o[i].text);return l}}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const l=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:l,tokens:this.lexer.inline(l)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:vt(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):vt(r[0]):r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const l=r[2].trim();if(!this.options.pedantic&&/^</.test(l)){if(!/>$/.test(l))return;const y=Ai(l.slice(0,-1),"\\");if((l.length-y.length)%2===0)return}else{const y=zp(r[2],"()");if(y>-1){const o=(r[0].indexOf("!")===0?5:4)+r[1].length+y;r[2]=r[2].substring(0,y),r[0]=r[0].substring(0,o).trim(),r[3]=""}}let h=r[2],b="";if(this.options.pedantic){const y=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(h);y&&(h=y[1],b=y[3])}else b=r[3]?r[3].slice(1,-1):"";return h=h.trim(),/^</.test(h)&&(this.options.pedantic&&!/>$/.test(l)?h=h.slice(1):h=h.slice(1,-1)),no(r,{href:h&&h.replace(this.rules.inline._escapes,"$1"),title:b&&b.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(t,r){let l;if((l=this.rules.inline.reflink.exec(t))||(l=this.rules.inline.nolink.exec(t))){let h=(l[2]||l[1]).replace(/\s+/g," ");if(h=r[h.toLowerCase()],!h||!h.href){const b=l[0].charAt(0);return{type:"text",raw:b,text:b}}return no(l,h,l[0],this.lexer)}}emStrong(t,r,l=""){let h=this.rules.inline.emStrong.lDelim.exec(t);if(!h||h[3]&&l.match(/[\p{L}\p{N}]/u))return;const b=h[1]||h[2]||"";if(!b||b&&(l===""||this.rules.inline.punctuation.exec(l))){const y=h[0].length-1;let i,o,n=y,u=0;const f=h[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(f.lastIndex=0,r=r.slice(-1*t.length+y);(h=f.exec(r))!=null;){if(i=h[1]||h[2]||h[3]||h[4]||h[5]||h[6],!i)continue;if(o=i.length,h[3]||h[4]){n+=o;continue}else if((h[5]||h[6])&&y%3&&!((y+o)%3)){u+=o;continue}if(n-=o,n>0)continue;if(o=Math.min(o,o+n+u),Math.min(y,o)%2){const v=t.slice(1,y+h.index+o);return{type:"em",raw:t.slice(0,y+h.index+o+1),text:v,tokens:this.lexer.inlineTokens(v)}}const _=t.slice(2,y+h.index+o-1);return{type:"strong",raw:t.slice(0,y+h.index+o+1),text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let l=r[2].replace(/\n/g," ");const h=/[^ ]/.test(l),b=/^ /.test(l)&&/ $/.test(l);return h&&b&&(l=l.substring(1,l.length-1)),l=vt(l,!0),{type:"codespan",raw:r[0],text:l}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t,r){const l=this.rules.inline.autolink.exec(t);if(l){let h,b;return l[2]==="@"?(h=vt(this.options.mangle?r(l[1]):l[1]),b="mailto:"+h):(h=vt(l[1]),b=h),{type:"link",raw:l[0],text:h,href:b,tokens:[{type:"text",raw:h,text:h}]}}}url(t,r){let l;if(l=this.rules.inline.url.exec(t)){let h,b;if(l[2]==="@")h=vt(this.options.mangle?r(l[0]):l[0]),b="mailto:"+h;else{let y;do y=l[0],l[0]=this.rules.inline._backpedal.exec(l[0])[0];while(y!==l[0]);h=vt(l[0]),l[1]==="www."?b="http://"+h:b=h}return{type:"link",raw:l[0],text:h,href:b,tokens:[{type:"text",raw:h,text:h}]}}}inlineText(t,r){const l=this.rules.inline.text.exec(t);if(l){let h;return this.lexer.state.inRawBlock?h=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):vt(l[0]):l[0]:h=vt(this.options.smartypants?r(l[0]):l[0]),{type:"text",raw:l[0],text:h}}}}const Re={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ji,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Re._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Re._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Re.def=Ge(Re.def).replace("label",Re._label).replace("title",Re._title).getRegex();Re.bullet=/(?:[*+-]|\d{1,9}[.)])/;Re.listItemStart=Ge(/^( *)(bull) */).replace("bull",Re.bullet).getRegex();Re.list=Ge(Re.list).replace(/bull/g,Re.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Re.def.source+")").getRegex();Re._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Re._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Re.html=Ge(Re.html,"i").replace("comment",Re._comment).replace("tag",Re._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Re.paragraph=Ge(Re._paragraph).replace("hr",Re.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Re._tag).getRegex();Re.blockquote=Ge(Re.blockquote).replace("paragraph",Re.paragraph).getRegex();Re.normal=Xt({},Re);Re.gfm=Xt({},Re.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});Re.gfm.table=Ge(Re.gfm.table).replace("hr",Re.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Re._tag).getRegex();Re.gfm.paragraph=Ge(Re._paragraph).replace("hr",Re.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Re.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Re._tag).getRegex();Re.pedantic=Xt({},Re.normal,{html:Ge(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Re._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ji,paragraph:Ge(Re.normal._paragraph).replace("hr",Re.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Re.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const ye={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ji,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ji,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};ye._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";ye.punctuation=Ge(ye.punctuation).replace(/punctuation/g,ye._punctuation).getRegex();ye.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;ye.escapedEmSt=/\\\*|\\_/g;ye._comment=Ge(Re._comment).replace("(?:-->|$)","-->").getRegex();ye.emStrong.lDelim=Ge(ye.emStrong.lDelim).replace(/punct/g,ye._punctuation).getRegex();ye.emStrong.rDelimAst=Ge(ye.emStrong.rDelimAst,"g").replace(/punct/g,ye._punctuation).getRegex();ye.emStrong.rDelimUnd=Ge(ye.emStrong.rDelimUnd,"g").replace(/punct/g,ye._punctuation).getRegex();ye._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;ye._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;ye._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;ye.autolink=Ge(ye.autolink).replace("scheme",ye._scheme).replace("email",ye._email).getRegex();ye._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;ye.tag=Ge(ye.tag).replace("comment",ye._comment).replace("attribute",ye._attribute).getRegex();ye._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;ye._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;ye._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;ye.link=Ge(ye.link).replace("label",ye._label).replace("href",ye._href).replace("title",ye._title).getRegex();ye.reflink=Ge(ye.reflink).replace("label",ye._label).replace("ref",Re._label).getRegex();ye.nolink=Ge(ye.nolink).replace("ref",Re._label).getRegex();ye.reflinkSearch=Ge(ye.reflinkSearch,"g").replace("reflink",ye.reflink).replace("nolink",ye.nolink).getRegex();ye.normal=Xt({},ye);ye.pedantic=Xt({},ye.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ge(/^!?\[(label)\]\((.*?)\)/).replace("label",ye._label).getRegex(),reflink:Ge(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ye._label).getRegex()});ye.gfm=Xt({},ye.normal,{escape:Ge(ye.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});ye.gfm.url=Ge(ye.gfm.url,"i").replace("email",ye.gfm._extended_email).getRegex();ye.breaks=Xt({},ye.gfm,{br:Ge(ye.br).replace("{2,}","*").getRegex(),text:Ge(ye.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Hp(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function so(e){let t="",r,l;const h=e.length;for(r=0;r<h;r++)l=e.charCodeAt(r),Math.random()>.5&&(l="x"+l.toString(16)),t+="&#"+l+";";return t}class ur{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Gr,this.options.tokenizer=this.options.tokenizer||new cs,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:Re.normal,inline:ye.normal};this.options.pedantic?(r.block=Re.pedantic,r.inline=ye.pedantic):this.options.gfm&&(r.block=Re.gfm,this.options.breaks?r.inline=ye.breaks:r.inline=ye.gfm),this.tokenizer.rules=r}static get rules(){return{block:Re,inline:ye}}static lex(t,r){return new ur(r).lex(t)}static lexInline(t,r){return new ur(r).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let r;for(;r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(i,o,n)=>o+"    ".repeat(n.length));let l,h,b,y;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(i=>(l=i.call({lexer:this},t,r))?(t=t.substring(l.raw.length),r.push(l),!0):!1))){if(l=this.tokenizer.space(t)){t=t.substring(l.raw.length),l.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(l);continue}if(l=this.tokenizer.code(t)){t=t.substring(l.raw.length),h=r[r.length-1],h&&(h.type==="paragraph"||h.type==="text")?(h.raw+=`
`+l.raw,h.text+=`
`+l.text,this.inlineQueue[this.inlineQueue.length-1].src=h.text):r.push(l);continue}if(l=this.tokenizer.fences(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.heading(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.hr(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.blockquote(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.list(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.html(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.def(t)){t=t.substring(l.raw.length),h=r[r.length-1],h&&(h.type==="paragraph"||h.type==="text")?(h.raw+=`
`+l.raw,h.text+=`
`+l.raw,this.inlineQueue[this.inlineQueue.length-1].src=h.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.lheading(t)){t=t.substring(l.raw.length),r.push(l);continue}if(b=t,this.options.extensions&&this.options.extensions.startBlock){let i=1/0;const o=t.slice(1);let n;this.options.extensions.startBlock.forEach(function(u){n=u.call({lexer:this},o),typeof n=="number"&&n>=0&&(i=Math.min(i,n))}),i<1/0&&i>=0&&(b=t.substring(0,i+1))}if(this.state.top&&(l=this.tokenizer.paragraph(b))){h=r[r.length-1],y&&h.type==="paragraph"?(h.raw+=`
`+l.raw,h.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=h.text):r.push(l),y=b.length!==t.length,t=t.substring(l.raw.length);continue}if(l=this.tokenizer.text(t)){t=t.substring(l.raw.length),h=r[r.length-1],h&&h.type==="text"?(h.raw+=`
`+l.raw,h.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=h.text):r.push(l);continue}if(t){const i="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(i);break}else throw new Error(i)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let l,h,b,y=t,i,o,n;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(y))!=null;)u.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(y=y.slice(0,i.index)+"["+io("a",i[0].length-2)+"]"+y.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.blockSkip.exec(y))!=null;)y=y.slice(0,i.index)+"["+io("a",i[0].length-2)+"]"+y.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(i=this.tokenizer.rules.inline.escapedEmSt.exec(y))!=null;)y=y.slice(0,i.index)+"++"+y.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(o||(n=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(l=u.call({lexer:this},t,r))?(t=t.substring(l.raw.length),r.push(l),!0):!1))){if(l=this.tokenizer.escape(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.tag(t)){t=t.substring(l.raw.length),h=r[r.length-1],h&&l.type==="text"&&h.type==="text"?(h.raw+=l.raw,h.text+=l.text):r.push(l);continue}if(l=this.tokenizer.link(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(l.raw.length),h=r[r.length-1],h&&l.type==="text"&&h.type==="text"?(h.raw+=l.raw,h.text+=l.text):r.push(l);continue}if(l=this.tokenizer.emStrong(t,y,n)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.codespan(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.br(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.del(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.autolink(t,so)){t=t.substring(l.raw.length),r.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(t,so))){t=t.substring(l.raw.length),r.push(l);continue}if(b=t,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const f=t.slice(1);let _;this.options.extensions.startInline.forEach(function(v){_=v.call({lexer:this},f),typeof _=="number"&&_>=0&&(u=Math.min(u,_))}),u<1/0&&u>=0&&(b=t.substring(0,u+1))}if(l=this.tokenizer.inlineText(b,Hp)){t=t.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(n=l.raw.slice(-1)),o=!0,h=r[r.length-1],h&&h.type==="text"?(h.raw+=l.raw,h.text+=l.text):r.push(l);continue}if(t){const u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return r}}class ds{constructor(t){this.options=t||Gr}code(t,r,l){const h=(r||"").match(/\S*/)[0];if(this.options.highlight){const b=this.options.highlight(t,h);b!=null&&b!==t&&(l=!0,t=b)}return t=t.replace(/\n$/,"")+`
`,h?'<pre><code class="'+this.options.langPrefix+vt(h,!0)+'">'+(l?t:vt(t,!0))+`</code></pre>
`:"<pre><code>"+(l?t:vt(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t){return t}heading(t,r,l,h){if(this.options.headerIds){const b=this.options.headerPrefix+h.slug(l);return`<h${r} id="${b}">${t}</h${r}>
`}return`<h${r}>${t}</h${r}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,r,l){const h=r?"ol":"ul",b=r&&l!==1?' start="'+l+'"':"";return"<"+h+b+`>
`+t+"</"+h+`>
`}listitem(t){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>
`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,r){const l=r.header?"th":"td";return(r.align?`<${l} align="${r.align}">`:`<${l}>`)+t+`</${l}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,r,l){if(t=to(this.options.sanitize,this.options.baseUrl,t),t===null)return l;let h='<a href="'+vt(t)+'"';return r&&(h+=' title="'+r+'"'),h+=">"+l+"</a>",h}image(t,r,l){if(t=to(this.options.sanitize,this.options.baseUrl,t),t===null)return l;let h=`<img src="${t}" alt="${l}"`;return r&&(h+=` title="${r}"`),h+=this.options.xhtml?"/>":">",h}text(t){return t}}class Ea{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,l){return""+l}image(t,r,l){return""+l}br(){return""}}class Ta{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,r){let l=t,h=0;if(this.seen.hasOwnProperty(l)){h=this.seen[t];do h++,l=t+"-"+h;while(this.seen.hasOwnProperty(l))}return r||(this.seen[t]=h,this.seen[l]=0),l}slug(t,r={}){const l=this.serialize(t);return this.getNextSafeSlug(l,r.dryrun)}}class rr{constructor(t){this.options=t||Gr,this.options.renderer=this.options.renderer||new ds,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ea,this.slugger=new Ta}static parse(t,r){return new rr(r).parse(t)}static parseInline(t,r){return new rr(r).parseInline(t)}parse(t,r=!0){let l="",h,b,y,i,o,n,u,f,_,v,g,p,s,c,a,d,m,w,S;const C=t.length;for(h=0;h<C;h++){if(v=t[h],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[v.type]&&(S=this.options.extensions.renderers[v.type].call({parser:this},v),S!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(v.type))){l+=S||"";continue}switch(v.type){case"space":continue;case"hr":{l+=this.renderer.hr();continue}case"heading":{l+=this.renderer.heading(this.parseInline(v.tokens),v.depth,ka(this.parseInline(v.tokens,this.textRenderer)),this.slugger);continue}case"code":{l+=this.renderer.code(v.text,v.lang,v.escaped);continue}case"table":{for(f="",u="",i=v.header.length,b=0;b<i;b++)u+=this.renderer.tablecell(this.parseInline(v.header[b].tokens),{header:!0,align:v.align[b]});for(f+=this.renderer.tablerow(u),_="",i=v.rows.length,b=0;b<i;b++){for(n=v.rows[b],u="",o=n.length,y=0;y<o;y++)u+=this.renderer.tablecell(this.parseInline(n[y].tokens),{header:!1,align:v.align[y]});_+=this.renderer.tablerow(u)}l+=this.renderer.table(f,_);continue}case"blockquote":{_=this.parse(v.tokens),l+=this.renderer.blockquote(_);continue}case"list":{for(g=v.ordered,p=v.start,s=v.loose,i=v.items.length,_="",b=0;b<i;b++)a=v.items[b],d=a.checked,m=a.task,c="",a.task&&(w=this.renderer.checkbox(d),s?a.tokens.length>0&&a.tokens[0].type==="paragraph"?(a.tokens[0].text=w+" "+a.tokens[0].text,a.tokens[0].tokens&&a.tokens[0].tokens.length>0&&a.tokens[0].tokens[0].type==="text"&&(a.tokens[0].tokens[0].text=w+" "+a.tokens[0].tokens[0].text)):a.tokens.unshift({type:"text",text:w}):c+=w),c+=this.parse(a.tokens,s),_+=this.renderer.listitem(c,m,d);l+=this.renderer.list(_,g,p);continue}case"html":{l+=this.renderer.html(v.text);continue}case"paragraph":{l+=this.renderer.paragraph(this.parseInline(v.tokens));continue}case"text":{for(_=v.tokens?this.parseInline(v.tokens):v.text;h+1<C&&t[h+1].type==="text";)v=t[++h],_+=`
`+(v.tokens?this.parseInline(v.tokens):v.text);l+=r?this.renderer.paragraph(_):_;continue}default:{const k='Token with "'+v.type+'" type was not found.';if(this.options.silent){console.error(k);return}else throw new Error(k)}}}return l}parseInline(t,r){r=r||this.renderer;let l="",h,b,y;const i=t.length;for(h=0;h<i;h++){if(b=t[h],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[b.type]&&(y=this.options.extensions.renderers[b.type].call({parser:this},b),y!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(b.type))){l+=y||"";continue}switch(b.type){case"escape":{l+=r.text(b.text);break}case"html":{l+=r.html(b.text);break}case"link":{l+=r.link(b.href,b.title,this.parseInline(b.tokens,r));break}case"image":{l+=r.image(b.href,b.title,b.text);break}case"strong":{l+=r.strong(this.parseInline(b.tokens,r));break}case"em":{l+=r.em(this.parseInline(b.tokens,r));break}case"codespan":{l+=r.codespan(b.text);break}case"br":{l+=r.br();break}case"del":{l+=r.del(this.parseInline(b.tokens,r));break}case"text":{l+=r.text(b.text);break}default:{const o='Token with "'+b.type+'" type was not found.';if(this.options.silent){console.error(o);return}else throw new Error(o)}}}return l}}function Ae(e,t,r){if(typeof e>"u"||e===null)throw new Error("marked(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(typeof t=="function"&&(r=t,t=null),t=Xt({},Ae.defaults,t||{}),Ra(t),r){const h=t.highlight;let b;try{b=ur.lex(e,t)}catch(o){return r(o)}const y=function(o){let n;if(!o)try{t.walkTokens&&Ae.walkTokens(b,t.walkTokens),n=rr.parse(b,t)}catch(u){o=u}return t.highlight=h,o?r(o):r(null,n)};if(!h||h.length<3||(delete t.highlight,!b.length))return y();let i=0;Ae.walkTokens(b,function(o){o.type==="code"&&(i++,setTimeout(()=>{h(o.text,o.lang,function(n,u){if(n)return y(n);u!=null&&u!==o.text&&(o.text=u,o.escaped=!0),i--,i===0&&y()})},0))}),i===0&&y();return}function l(h){if(h.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+vt(h.message+"",!0)+"</pre>";throw h}try{const h=ur.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(Ae.walkTokens(h,t.walkTokens)).then(()=>rr.parse(h,t)).catch(l);Ae.walkTokens(h,t.walkTokens)}return rr.parse(h,t)}catch(h){l(h)}}Ae.options=Ae.setOptions=function(e){return Xt(Ae.defaults,e),Cp(Ae.defaults),Ae};Ae.getDefaults=Ca;Ae.defaults=Gr;Ae.use=function(...e){const t=Xt({},...e),r=Ae.defaults.extensions||{renderers:{},childTokens:{}};let l;e.forEach(h=>{if(h.extensions&&(l=!0,h.extensions.forEach(b=>{if(!b.name)throw new Error("extension name required");if(b.renderer){const y=r.renderers?r.renderers[b.name]:null;y?r.renderers[b.name]=function(...i){let o=b.renderer.apply(this,i);return o===!1&&(o=y.apply(this,i)),o}:r.renderers[b.name]=b.renderer}if(b.tokenizer){if(!b.level||b.level!=="block"&&b.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");r[b.level]?r[b.level].unshift(b.tokenizer):r[b.level]=[b.tokenizer],b.start&&(b.level==="block"?r.startBlock?r.startBlock.push(b.start):r.startBlock=[b.start]:b.level==="inline"&&(r.startInline?r.startInline.push(b.start):r.startInline=[b.start]))}b.childTokens&&(r.childTokens[b.name]=b.childTokens)})),h.renderer){const b=Ae.defaults.renderer||new ds;for(const y in h.renderer){const i=b[y];b[y]=(...o)=>{let n=h.renderer[y].apply(b,o);return n===!1&&(n=i.apply(b,o)),n}}t.renderer=b}if(h.tokenizer){const b=Ae.defaults.tokenizer||new cs;for(const y in h.tokenizer){const i=b[y];b[y]=(...o)=>{let n=h.tokenizer[y].apply(b,o);return n===!1&&(n=i.apply(b,o)),n}}t.tokenizer=b}if(h.walkTokens){const b=Ae.defaults.walkTokens;t.walkTokens=function(y){let i=[];return i.push(h.walkTokens.call(this,y)),b&&(i=i.concat(b.call(this,y))),i}}l&&(t.extensions=r),Ae.setOptions(t)})};Ae.walkTokens=function(e,t){let r=[];for(const l of e)switch(r=r.concat(t.call(Ae,l)),l.type){case"table":{for(const h of l.header)r=r.concat(Ae.walkTokens(h.tokens,t));for(const h of l.rows)for(const b of h)r=r.concat(Ae.walkTokens(b.tokens,t));break}case"list":{r=r.concat(Ae.walkTokens(l.items,t));break}default:Ae.defaults.extensions&&Ae.defaults.extensions.childTokens&&Ae.defaults.extensions.childTokens[l.type]?Ae.defaults.extensions.childTokens[l.type].forEach(function(h){r=r.concat(Ae.walkTokens(l[h],t))}):l.tokens&&(r=r.concat(Ae.walkTokens(l.tokens,t)))}return r};Ae.parseInline=function(e,t){if(typeof e>"u"||e===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=Xt({},Ae.defaults,t||{}),Ra(t);try{const r=ur.lexInline(e,t);return t.walkTokens&&Ae.walkTokens(r,t.walkTokens),rr.parseInline(r,t)}catch(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+vt(r.message+"",!0)+"</pre>";throw r}};Ae.Parser=rr;Ae.parser=rr.parse;Ae.Renderer=ds;Ae.TextRenderer=Ea;Ae.Lexer=ur;Ae.lexer=ur.lex;Ae.Tokenizer=cs;Ae.Slugger=Ta;Ae.parse=Ae;Ae.options;Ae.setOptions;Ae.use;Ae.walkTokens;Ae.parseInline;rr.parse;ur.lex;/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */function gr(e){return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gr(e)}function On(e,t){return On=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},On(e,t)}function Np(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bi(e,t,r){return Np()?Bi=Reflect.construct:Bi=function(h,b,y){var i=[null];i.push.apply(i,b);var o=Function.bind.apply(h,i),n=new o;return y&&On(n,y.prototype),n},Bi.apply(null,arguments)}function Kt(e){return Wp(e)||Up(e)||jp(e)||Vp()}function Wp(e){if(Array.isArray(e))return Mn(e)}function Up(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jp(e,t){if(!!e){if(typeof e=="string")return Mn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mn(e,t)}}function Mn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,l=new Array(t);r<t;r++)l[r]=e[r];return l}function Vp(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Kp=Object.hasOwnProperty,oo=Object.setPrototypeOf,qp=Object.isFrozen,Gp=Object.getPrototypeOf,Yp=Object.getOwnPropertyDescriptor,Ct=Object.freeze,nr=Object.seal,Xp=Object.create,La=typeof Reflect<"u"&&Reflect,Vi=La.apply,Pn=La.construct;Vi||(Vi=function(t,r,l){return t.apply(r,l)});Ct||(Ct=function(t){return t});nr||(nr=function(t){return t});Pn||(Pn=function(t,r){return Bi(t,Kt(r))});var Zp=qt(Array.prototype.forEach),ao=qt(Array.prototype.pop),ri=qt(Array.prototype.push),Di=qt(String.prototype.toLowerCase),Jp=qt(String.prototype.match),vr=qt(String.prototype.replace),Qp=qt(String.prototype.indexOf),ev=qt(String.prototype.trim),St=qt(RegExp.prototype.test),gn=tv(TypeError);function qt(e){return function(t){for(var r=arguments.length,l=new Array(r>1?r-1:0),h=1;h<r;h++)l[h-1]=arguments[h];return Vi(e,t,l)}}function tv(e){return function(){for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return Pn(e,r)}}function He(e,t,r){r=r||Di,oo&&oo(e,null);for(var l=t.length;l--;){var h=t[l];if(typeof h=="string"){var b=r(h);b!==h&&(qp(t)||(t[l]=b),h=b)}e[h]=!0}return e}function Sr(e){var t=Xp(null),r;for(r in e)Vi(Kp,e,[r])&&(t[r]=e[r]);return t}function ki(e,t){for(;e!==null;){var r=Yp(e,t);if(r){if(r.get)return qt(r.get);if(typeof r.value=="function")return qt(r.value)}e=Gp(e)}function l(h){return console.warn("fallback value for",h),null}return l}var lo=Ct(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_n=Ct(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),mn=Ct(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rv=Ct(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),bn=Ct(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),iv=Ct(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),co=Ct(["#text"]),uo=Ct(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),yn=Ct(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ho=Ct(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ri=Ct(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),nv=nr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),sv=nr(/<%[\w\W]*|[\w\W]*%>/gm),ov=nr(/^data-[\-\w.\u00B7-\uFFFF]/),av=nr(/^aria-[\-\w]+$/),lv=nr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),cv=nr(/^(?:\w+script|data):/i),dv=nr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),uv=nr(/^html$/i),hv=function(){return typeof window>"u"?null:window},fv=function(t,r){if(gr(t)!=="object"||typeof t.createPolicy!="function")return null;var l=null,h="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(h)&&(l=r.currentScript.getAttribute(h));var b="dompurify"+(l?"#"+l:"");try{return t.createPolicy(b,{createHTML:function(i){return i},createScriptURL:function(i){return i}})}catch{return console.warn("TrustedTypes policy "+b+" could not be created."),null}};function Aa(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hv(),t=function(H){return Aa(H)};if(t.version="2.4.0",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;var r=e.document,l=e.document,h=e.DocumentFragment,b=e.HTMLTemplateElement,y=e.Node,i=e.Element,o=e.NodeFilter,n=e.NamedNodeMap,u=n===void 0?e.NamedNodeMap||e.MozNamedAttrMap:n,f=e.HTMLFormElement,_=e.DOMParser,v=e.trustedTypes,g=i.prototype,p=ki(g,"cloneNode"),s=ki(g,"nextSibling"),c=ki(g,"childNodes"),a=ki(g,"parentNode");if(typeof b=="function"){var d=l.createElement("template");d.content&&d.content.ownerDocument&&(l=d.content.ownerDocument)}var m=fv(v,r),w=m?m.createHTML(""):"",S=l,C=S.implementation,k=S.createNodeIterator,R=S.createDocumentFragment,A=S.getElementsByTagName,D=r.importNode,T={};try{T=Sr(l).documentMode?l.documentMode:{}}catch{}var x={};t.isSupported=typeof a=="function"&&C&&typeof C.createHTMLDocument<"u"&&T!==9;var E=nv,L=sv,O=ov,M=av,V=cv,F=dv,W=lv,G=null,te=He({},[].concat(Kt(lo),Kt(_n),Kt(mn),Kt(bn),Kt(co))),P=null,ae=He({},[].concat(Kt(uo),Kt(yn),Kt(ho),Kt(Ri))),re=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),I=null,U=null,oe=!0,Q=!0,fe=!1,ce=!1,Oe=!1,Ce=!1,Ue=!1,ue=!1,me=!1,Ee=!1,De=!0,et=!1,Me="user-content-",se=!0,ve=!1,je={},ut=null,Zt=He({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Jt=null,Qt=He({},["audio","video","img","source","image","track"]),Nt=null,Wt=He({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ot="http://www.w3.org/1998/Math/MathML",Mt="http://www.w3.org/2000/svg",yt="http://www.w3.org/1999/xhtml",Pt=yt,$t=!1,st,J=["application/xhtml+xml","text/html"],ge="text/html",we,Ie=null,ze=l.createElement("form"),Fe=function(H){return H instanceof RegExp||H instanceof Function},$e=function(H){Ie&&Ie===H||((!H||gr(H)!=="object")&&(H={}),H=Sr(H),st=J.indexOf(H.PARSER_MEDIA_TYPE)===-1?st=ge:st=H.PARSER_MEDIA_TYPE,we=st==="application/xhtml+xml"?function(le){return le}:Di,G="ALLOWED_TAGS"in H?He({},H.ALLOWED_TAGS,we):te,P="ALLOWED_ATTR"in H?He({},H.ALLOWED_ATTR,we):ae,Nt="ADD_URI_SAFE_ATTR"in H?He(Sr(Wt),H.ADD_URI_SAFE_ATTR,we):Wt,Jt="ADD_DATA_URI_TAGS"in H?He(Sr(Qt),H.ADD_DATA_URI_TAGS,we):Qt,ut="FORBID_CONTENTS"in H?He({},H.FORBID_CONTENTS,we):Zt,I="FORBID_TAGS"in H?He({},H.FORBID_TAGS,we):{},U="FORBID_ATTR"in H?He({},H.FORBID_ATTR,we):{},je="USE_PROFILES"in H?H.USE_PROFILES:!1,oe=H.ALLOW_ARIA_ATTR!==!1,Q=H.ALLOW_DATA_ATTR!==!1,fe=H.ALLOW_UNKNOWN_PROTOCOLS||!1,ce=H.SAFE_FOR_TEMPLATES||!1,Oe=H.WHOLE_DOCUMENT||!1,ue=H.RETURN_DOM||!1,me=H.RETURN_DOM_FRAGMENT||!1,Ee=H.RETURN_TRUSTED_TYPE||!1,Ue=H.FORCE_BODY||!1,De=H.SANITIZE_DOM!==!1,et=H.SANITIZE_NAMED_PROPS||!1,se=H.KEEP_CONTENT!==!1,ve=H.IN_PLACE||!1,W=H.ALLOWED_URI_REGEXP||W,Pt=H.NAMESPACE||yt,H.CUSTOM_ELEMENT_HANDLING&&Fe(H.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(re.tagNameCheck=H.CUSTOM_ELEMENT_HANDLING.tagNameCheck),H.CUSTOM_ELEMENT_HANDLING&&Fe(H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(re.attributeNameCheck=H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),H.CUSTOM_ELEMENT_HANDLING&&typeof H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(re.allowCustomizedBuiltInElements=H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ce&&(Q=!1),me&&(ue=!0),je&&(G=He({},Kt(co)),P=[],je.html===!0&&(He(G,lo),He(P,uo)),je.svg===!0&&(He(G,_n),He(P,yn),He(P,Ri)),je.svgFilters===!0&&(He(G,mn),He(P,yn),He(P,Ri)),je.mathMl===!0&&(He(G,bn),He(P,ho),He(P,Ri))),H.ADD_TAGS&&(G===te&&(G=Sr(G)),He(G,H.ADD_TAGS,we)),H.ADD_ATTR&&(P===ae&&(P=Sr(P)),He(P,H.ADD_ATTR,we)),H.ADD_URI_SAFE_ATTR&&He(Nt,H.ADD_URI_SAFE_ATTR,we),H.FORBID_CONTENTS&&(ut===Zt&&(ut=Sr(ut)),He(ut,H.FORBID_CONTENTS,we)),se&&(G["#text"]=!0),Oe&&He(G,["html","head","body"]),G.table&&(He(G,["tbody"]),delete I.tbody),Ct&&Ct(H),Ie=H)},Xe=He({},["mi","mo","mn","ms","mtext"]),It=He({},["foreignobject","desc","title","annotation-xml"]),or=He({},["title","style","font","a","script"]),Ut=He({},_n);He(Ut,mn),He(Ut,rv);var er=He({},bn);He(er,iv);var Xr=function(H){var le=a(H);(!le||!le.tagName)&&(le={namespaceURI:yt,tagName:"template"});var _e=Di(H.tagName),We=Di(le.tagName);return H.namespaceURI===Mt?le.namespaceURI===yt?_e==="svg":le.namespaceURI===Ot?_e==="svg"&&(We==="annotation-xml"||Xe[We]):Boolean(Ut[_e]):H.namespaceURI===Ot?le.namespaceURI===yt?_e==="math":le.namespaceURI===Mt?_e==="math"&&It[We]:Boolean(er[_e]):H.namespaceURI===yt?le.namespaceURI===Mt&&!It[We]||le.namespaceURI===Ot&&!Xe[We]?!1:!er[_e]&&(or[_e]||!Ut[_e]):!1},Tt=function(H){ri(t.removed,{element:H});try{H.parentNode.removeChild(H)}catch{try{H.outerHTML=w}catch{H.remove()}}},fr=function(H,le){try{ri(t.removed,{attribute:le.getAttributeNode(H),from:le})}catch{ri(t.removed,{attribute:null,from:le})}if(le.removeAttribute(H),H==="is"&&!P[H])if(ue||me)try{Tt(le)}catch{}else try{le.setAttribute(H,"")}catch{}},jt=function(H){var le,_e;if(Ue)H="<remove></remove>"+H;else{var We=Jp(H,/^[\r\n\t ]+/);_e=We&&We[0]}st==="application/xhtml+xml"&&(H='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+H+"</body></html>");var ht=m?m.createHTML(H):H;if(Pt===yt)try{le=new _().parseFromString(ht,st)}catch{}if(!le||!le.documentElement){le=C.createDocument(Pt,"template",null);try{le.documentElement.innerHTML=$t?"":ht}catch{}}var ft=le.body||le.documentElement;return H&&_e&&ft.insertBefore(l.createTextNode(_e),ft.childNodes[0]||null),Pt===yt?A.call(le,Oe?"html":"body")[0]:Oe?le.documentElement:ft},N=function(H){return k.call(H.ownerDocument||H,H,o.SHOW_ELEMENT|o.SHOW_COMMENT|o.SHOW_TEXT,null,!1)},ne=function(H){return H instanceof f&&(typeof H.nodeName!="string"||typeof H.textContent!="string"||typeof H.removeChild!="function"||!(H.attributes instanceof u)||typeof H.removeAttribute!="function"||typeof H.setAttribute!="function"||typeof H.namespaceURI!="string"||typeof H.insertBefore!="function")},ke=function(H){return gr(y)==="object"?H instanceof y:H&&gr(H)==="object"&&typeof H.nodeType=="number"&&typeof H.nodeName=="string"},Ve=function(H,le,_e){!x[H]||Zp(x[H],function(We){We.call(t,le,_e,Ie)})},tt=function(H){var le;if(Ve("beforeSanitizeElements",H,null),ne(H)||St(/[\u0080-\uFFFF]/,H.nodeName))return Tt(H),!0;var _e=we(H.nodeName);if(Ve("uponSanitizeElement",H,{tagName:_e,allowedTags:G}),H.hasChildNodes()&&!ke(H.firstElementChild)&&(!ke(H.content)||!ke(H.content.firstElementChild))&&St(/<[/\w]/g,H.innerHTML)&&St(/<[/\w]/g,H.textContent)||_e==="select"&&St(/<template/i,H.innerHTML))return Tt(H),!0;if(!G[_e]||I[_e]){if(!I[_e]&&zt(_e)&&(re.tagNameCheck instanceof RegExp&&St(re.tagNameCheck,_e)||re.tagNameCheck instanceof Function&&re.tagNameCheck(_e)))return!1;if(se&&!ut[_e]){var We=a(H)||H.parentNode,ht=c(H)||H.childNodes;if(ht&&We)for(var ft=ht.length,lt=ft-1;lt>=0;--lt)We.insertBefore(p(ht[lt],!0),s(H))}return Tt(H),!0}return H instanceof i&&!Xr(H)||(_e==="noscript"||_e==="noembed")&&St(/<\/no(script|embed)/i,H.innerHTML)?(Tt(H),!0):(ce&&H.nodeType===3&&(le=H.textContent,le=vr(le,E," "),le=vr(le,L," "),H.textContent!==le&&(ri(t.removed,{element:H.cloneNode()}),H.textContent=le)),Ve("afterSanitizeElements",H,null),!1)},rt=function(H,le,_e){if(De&&(le==="id"||le==="name")&&(_e in l||_e in ze))return!1;if(!(Q&&!U[le]&&St(O,le))){if(!(oe&&St(M,le))){if(!P[le]||U[le]){if(!(zt(H)&&(re.tagNameCheck instanceof RegExp&&St(re.tagNameCheck,H)||re.tagNameCheck instanceof Function&&re.tagNameCheck(H))&&(re.attributeNameCheck instanceof RegExp&&St(re.attributeNameCheck,le)||re.attributeNameCheck instanceof Function&&re.attributeNameCheck(le))||le==="is"&&re.allowCustomizedBuiltInElements&&(re.tagNameCheck instanceof RegExp&&St(re.tagNameCheck,_e)||re.tagNameCheck instanceof Function&&re.tagNameCheck(_e))))return!1}else if(!Nt[le]){if(!St(W,vr(_e,F,""))){if(!((le==="src"||le==="xlink:href"||le==="href")&&H!=="script"&&Qp(_e,"data:")===0&&Jt[H])){if(!(fe&&!St(V,vr(_e,F,"")))){if(_e)return!1}}}}}}return!0},zt=function(H){return H.indexOf("-")>0},Ft=function(H){var le,_e,We,ht;Ve("beforeSanitizeAttributes",H,null);var ft=H.attributes;if(!!ft){var lt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:P};for(ht=ft.length;ht--;){le=ft[ht];var Lr=le,pt=Lr.name,Zr=Lr.namespaceURI;if(_e=pt==="value"?le.value:ev(le.value),We=we(pt),lt.attrName=We,lt.attrValue=_e,lt.keepAttr=!0,lt.forceKeepAttr=void 0,Ve("uponSanitizeAttribute",H,lt),_e=lt.attrValue,!lt.forceKeepAttr&&(fr(pt,H),!!lt.keepAttr)){if(St(/\/>/i,_e)){fr(pt,H);continue}ce&&(_e=vr(_e,E," "),_e=vr(_e,L," "));var gi=we(H.nodeName);if(!!rt(gi,We,_e)){if(et&&(We==="id"||We==="name")&&(fr(pt,H),_e=Me+_e),m&&gr(v)==="object"&&typeof v.getAttributeType=="function"&&!Zr)switch(v.getAttributeType(gi,We)){case"TrustedHTML":_e=m.createHTML(_e);break;case"TrustedScriptURL":_e=m.createScriptURL(_e);break}try{Zr?H.setAttributeNS(Zr,pt,_e):H.setAttribute(pt,_e),ao(t.removed)}catch{}}}}Ve("afterSanitizeAttributes",H,null)}},Vt=function Se(H){var le,_e=N(H);for(Ve("beforeSanitizeShadowDOM",H,null);le=_e.nextNode();)Ve("uponSanitizeShadowNode",le,null),!tt(le)&&(le.content instanceof h&&Se(le.content),Ft(le));Ve("afterSanitizeShadowDOM",H,null)};return t.sanitize=function(Se){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le,_e,We,ht,ft;if($t=!Se,$t&&(Se="<!-->"),typeof Se!="string"&&!ke(Se)){if(typeof Se.toString!="function")throw gn("toString is not a function");if(Se=Se.toString(),typeof Se!="string")throw gn("dirty is not a string, aborting")}if(!t.isSupported){if(gr(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof Se=="string")return e.toStaticHTML(Se);if(ke(Se))return e.toStaticHTML(Se.outerHTML)}return Se}if(Ce||$e(H),t.removed=[],typeof Se=="string"&&(ve=!1),ve){if(Se.nodeName){var lt=we(Se.nodeName);if(!G[lt]||I[lt])throw gn("root node is forbidden and cannot be sanitized in-place")}}else if(Se instanceof y)le=jt("<!---->"),_e=le.ownerDocument.importNode(Se,!0),_e.nodeType===1&&_e.nodeName==="BODY"||_e.nodeName==="HTML"?le=_e:le.appendChild(_e);else{if(!ue&&!ce&&!Oe&&Se.indexOf("<")===-1)return m&&Ee?m.createHTML(Se):Se;if(le=jt(Se),!le)return ue?null:Ee?w:""}le&&Ue&&Tt(le.firstChild);for(var Lr=N(ve?Se:le);We=Lr.nextNode();)We.nodeType===3&&We===ht||tt(We)||(We.content instanceof h&&Vt(We.content),Ft(We),ht=We);if(ht=null,ve)return Se;if(ue){if(me)for(ft=R.call(le.ownerDocument);le.firstChild;)ft.appendChild(le.firstChild);else ft=le;return P.shadowroot&&(ft=D.call(r,ft,!0)),ft}var pt=Oe?le.outerHTML:le.innerHTML;return Oe&&G["!doctype"]&&le.ownerDocument&&le.ownerDocument.doctype&&le.ownerDocument.doctype.name&&St(uv,le.ownerDocument.doctype.name)&&(pt="<!DOCTYPE "+le.ownerDocument.doctype.name+`>
`+pt),ce&&(pt=vr(pt,E," "),pt=vr(pt,L," ")),m&&Ee?m.createHTML(pt):pt},t.setConfig=function(Se){$e(Se),Ce=!0},t.clearConfig=function(){Ie=null,Ce=!1},t.isValidAttribute=function(Se,H,le){Ie||$e({});var _e=we(Se),We=we(H);return rt(_e,We,le)},t.addHook=function(Se,H){typeof H=="function"&&(x[Se]=x[Se]||[],ri(x[Se],H))},t.removeHook=function(Se){if(x[Se])return ao(x[Se])},t.removeHooks=function(Se){x[Se]&&(x[Se]=[])},t.removeAllHooks=function(){x={}},t}var Ba=Aa();const pv=["innerHTML"],Ki=de({__name:"div_markdown",props:{value:null,showMsg:{type:Boolean,default:!1}},emits:["action"],setup(e,{emit:t}){const r=e,l=X(()=>{const b="---";let y="";try{y=Ae(r.value||b,{smartLists:!0})}catch(i){const o=r.value;return console.error({msg:"marked issue",value:o,error:i}),String(i)}try{return Ba.sanitize(y,{ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|es|path|run|config|gnmic|containerlab|clab):|[^a-z]|[a-z+.-]+(?:[^a-z+.\-:]|$))/i})}catch(i){const o=r.value;return console.error({msg:"DOMPurify issue with ansiup",value:o,error:i}),String(i)}});function h(b){var f;if(b.target==null)return;const y=b.target;if(y.tagName!=="A")return;const i=(f=y.getAttribute("href"))!=null?f:"",[o,n]=i.split(":",2),u={action:o,command:n.replaceAll("/"," ").trim()||y.textContent||""};switch(o){case"run":u.action="config";break;case"containerlab":u.action="clab";break}b.preventDefault(),r.showMsg?Vo(`Clicked on (proto:${o})

${u.action}
${u.command}`):t("action",u)}return(b,y)=>(ie(),be("div",{xstyle:{"white-space":"pre-wrap"},class:"markdown-body jv-code",onClick:h,innerHTML:$(l)},null,8,pv))}});const vv=xe(" vars "),gv=xe(" vars "),_v=xe(" md "),mv=xe(" md "),bv=xe(" Input variables "),yv=he("span",null,"Template",-1),wv=xe(" ? "),Sv=xe("Add an example template"),xv=xe(" Result "),Cv={class:"jv-container jv-light boxed"},kv=["innerHTML"],Rv={key:0},Ev=xe(" The result contains the following variables: "),Tv=de({__name:"vars_template_dialog",props:{vars:null,template:null,visible:{type:Boolean},fixedTemplate:{type:Boolean,default:!1},isLink:{type:Boolean,default:!1}},emits:["update:template","update:visible","close"],setup(e,{emit:t}){const r=e,l=sr(),h=q(""),b=q({}),y=q(!0),i=q(!1),o=q(""),n=X({get:()=>o.value in l.templateFiles?l.templateFiles[o.value].value:o.value in l.optTemplates?l.optTemplates[o.value]:"",set:v=>{if(o.value in l.templateFiles){l.templateFiles[o.value].value=v;return}o.value in l.optTemplates||(o.value=(r.isLink?"link.":"node.")+o.value),l.optTemplates[o.value]=v}});Rn(n,()=>{h.value="...",b.value={};const v={code:xr.template,template:{template:n.value,name:o.value,vars:r.vars}};Ni(v)},{debounce:1e3}),Ko.on(v=>{h.value=v.result||"",b.value=v.resulty||{}});const u=X({get:()=>r.visible,set:v=>{v||(t("update:visible",!1),t("close"))}});Dt(()=>{o.value=r.template});const f=X(()=>{const v=[],g={};function p(c){if(c in g)return g[c].children;const a={type:"group",label:c,key:c,children:[]};return g[c]=a,v.push(a),a.children}if(Object.keys(l.optTemplates).forEach(c=>{p("Graph labels").push({label:c,value:c,disabled:(r.isLink?c.indexOf("link"):c.indexOf("node"))<0})}),r.isLink)return p("Template files").push({label:"only shown for nodes",disabled:!0}),v;const s=r.vars.clab_role;return Object.values(l.templateFiles).forEach(c=>{p(`/${c.p}/`).push({label:c.name,value:c.name,disabled:s?c.name.indexOf("__"+String(s))<0:!1})}),v});function _(){const v=Mc(r.isLink);n.value.includes(v)?Vo("example already added to the bottom"):n.value+=v}return(v,g)=>{const p=En("json-viewer");return $(u)?(ie(),Te($(os),{key:0,show:$(u),"onUpdate:show":g[5]||(g[5]=s=>Lt(u)?u.value=s:null)},{default:K(()=>[Z($(Tr),{title:r.isLink?"Render link template":"Render node template",style:{width:"95%"},closable:"",onClose:g[4]||(g[4]=s=>u.value=!1)},{"header-extra":K(()=>[Z($(Xs),{value:y.value,"onUpdate:value":g[0]||(g[0]=s=>y.value=s),small:""},{checked:K(()=>[vv]),unchecked:K(()=>[gv]),_:1},8,["value"]),Z($(Xs),{value:i.value,"onUpdate:value":g[1]||(g[1]=s=>i.value=s),small:""},{checked:K(()=>[_v]),unchecked:K(()=>[mv]),_:1},8,["value"])]),default:K(()=>[Z($(Ur),{cols:y.value?3:2,"x-gap":6},{default:K(()=>[y.value?(ie(),Te($(Bt),{key:0},{default:K(()=>[bv,Z(p,{value:r.vars,copyable:"",boxed:"",color:"",theme:"dark",expanded:"","expand-depth":2},null,8,["value"])]),_:1})):Ke("",!0),Z($(Bt),null,{default:K(()=>[Z($(Cr),{justify:"space-between"},{default:K(()=>[yv,Z(ar,{"onUpdate:value":_},{tooltip:K(()=>[Sv]),default:K(()=>[wv]),_:1}),Z($(xf),{value:o.value,"onUpdate:value":g[2]||(g[2]=s=>o.value=s),filterable:"",tag:"",style:{width:"200px"},options:$(f),"consistent-menu-width":!1},null,8,["value","options"])]),_:1}),Z($(en),{value:$(n),"onUpdate:value":g[3]||(g[3]=s=>Lt(n)?n.value=s:null),type:"textarea",autosize:{minRows:10,maxRows:80},autofocus:"",style:{"font-family":"monospace"}},null,8,["value"])]),_:1}),Z($(Bt),null,{default:K(()=>[xv,he("div",Cv,[i.value?(ie(),Te(Ki,{key:0,value:h.value},null,8,["value"])):(ie(),be("pre",{key:1,class:"jv-code",style:{"white-space":"pre-line"},innerHTML:h.value},null,8,kv))]),b.value&&Object.keys(b.value).length>0?(ie(),be("div",Rv,[Ev,b.value?(ie(),Te(p,{key:0,value:b.value,copyable:"",boxed:"",color:"",theme:"dark",expanded:"","expand-depth":2},null,8,["value"])):Ke("",!0)])):Ke("",!0)]),_:1})]),_:1},8,["cols"])]),_:1},8,["title"])]),_:1},8,["show"])):Ke("",!0)}}});const Lv={class:"fn"},Av=xe(" to "),Bv={class:"fn"},Dv=xe(" Toggle split vars "),Ov=xe(" Test on a template "),Mv={key:0},Pv=xe(" Variables used to render templates. "),$v={key:1},Iv=he("p",null," Variables from the topology file and magic variables added by containerlab. ",-1),zv=he("p",null,"Variables from the topology file:",-1),Fv=he("p",null,"Variables added by containerlab",-1),Hv={key:2},Nv=he("p",null,"Variables in the topo file",-1),Wv=xe(" Variables available in "),Uv=he("code",null,"clab_links[]",-1),jv=xe(" Variables available in "),Vv=he("code",null,"clab_links[]",-1),fo=de({__name:"vars_view",props:{id:null,link:{type:Boolean,default:!1}},emits:["update:close"],setup(e,{emit:t}){const r=e,l=sr(),h=q(!0);function b(){t("update:close",!1),h.value=!1}const y=X(()=>l.topo.nodes[r.id].vars),i=X(()=>{const v=r.link?l.linkVars(r.id):l.topo.vars[r.id];return bs(v,u,{})}),o=X(()=>{const v=l.topo.vars[r.id];return bs(v,u,y.value)}),n=X(()=>l.topo.links[r.id]);function u(v,g){return v==="clab_nodes"?1:g==="clab_nodes"?-1:v==="clab_links"?1:g==="clab_links"?-1:v==="clab_far"?1:g==="clab_far"?-1:v.localeCompare(g)}const f=q(!1);function _(){f.value=!0}return(v,g)=>(ie(),Te($(Tr),{closable:"",onClose:b},{header:K(()=>[r.link?(ie(),be(Ye,{key:0},[xe(" Link "+Pe(r.id)+": ",1),he("span",Lv,Pe($(n).source)+":"+Pe($(n).source_endpoint),1),Av,he("span",Bv,Pe($(n).target)+":"+Pe($(n).target_endpoint),1)],64)):(ie(),be(Ye,{key:1},[xe(" Node "+Pe(r.id),1)],64))]),"header-extra":K(()=>[$(n)?Ke("",!0):(ie(),Te($(Rr),{key:0,trigger:"hover"},{trigger:K(()=>[Z($(Qe),{text:"",style:{"font-size":"24px"},onClick:g[0]||(g[0]=p=>$(l).split_vars=!$(l).split_vars)},{default:K(()=>[Z($(Je),null,{default:K(()=>[$(l).split_vars?(ie(),Te($(pu),{key:0})):(ie(),Te($(Md),{key:1}))]),_:1})]),_:1})]),default:K(()=>[Dv]),_:1})),Z($(Rr),{trigger:"hover"},{trigger:K(()=>[Z($(Qe),{text:"",style:{"font-size":"24px"},onClick:_},{default:K(()=>[Z($(Je),null,{default:K(()=>[Z($(Yo))]),_:1})]),_:1})]),default:K(()=>[Ov]),_:1})]),default:K(()=>[$(l).split_vars&&!$(n)?(ie(),be("div",Mv,[he("p",null,[Pv,Z($(Ar),{value:$(i),copyable:"",boxed:"",color:"",theme:"dark"},null,8,["value"])])])):$(n)?(ie(),be("div",Hv,[Nv,Z($(Ar),{value:$(n).vars,copyable:"",boxed:"",color:"",theme:"dark",expanded:"","expand-depth":3},null,8,["value"]),he("p",null,[Wv,Uv,xe(" when you render "+Pe($(n).source),1)]),Z($(Ar),{value:$(i).source_vars,copyable:"",boxed:"",color:"",theme:"dark",expanded:"","expand-depth":3},null,8,["value"]),he("p",null,[jv,Vv,xe(" when you render "+Pe($(n).target),1)]),Z($(Ar),{value:$(i).target_vars,copyable:"",boxed:"",color:"",theme:"dark",expanded:"","expand-depth":3},null,8,["value"])])):(ie(),be("div",$v,[Iv,zv,Z($(Ar),{value:$(y),copyable:"",boxed:"",expanded:"","expand-depth":4,theme:"dark"},null,8,["value"]),Fv,Z($(Ar),{value:$(o),copyable:"",boxed:"",theme:"dark",expanded:"","expand-depth":2},null,8,["value"])])),f.value?(ie(),Te(Tv,{key:3,visible:f.value,"onUpdate:visible":g[1]||(g[1]=p=>f.value=p),vars:$(i),template:$(n)?"link":"node","is-link":r.link,"is-node":!r.link},null,8,["visible","vars","template","is-link","is-node"])):Ke("",!0)]),_:1}))}});Pr("tipN",1);function Kv(e){window.$labctl_notify=e}const qv=[{title:"Select multiple nodes/links",content:`SHIFT + Click allows you to select more than one node or link.

Hold CTRL to select a rectangle with nodes.`,shown:0},{title:"Edit templates",content:`You can edit templates from the variables view under 'Config Engine', vars tab.

Select nodes/links and test&edit the templates.`,shown:0}];function Da(e){const t=qv.filter(l=>l.shown<1&&(l.title.search(e)>=0||l.content.search(e)>=0));if(t.length==0)return;t[0].shown+=1;const r={duration:6e3};Object.assign(r,t[0]),window.$labctl_notify.info(r)}const Gv=xe(" Template "),Yv={class:"fn"},Xv=xe(" role "),Zv={class:"fn"},Jv=xe(" Reference "),Qv=xe(" Filename: "),eg={class:"fn"},tg={key:0},us=de({__name:"template_preview_dialog",props:{template:null,visible:{type:Boolean}},emits:["update:visible","close"],setup(e,{emit:t}){const r=e,l=sr(),h=X(()=>{const i=r.template;return i in l.templateFiles?l.templateFiles[i]:{name:i,p:"",shadow:[],value:`Template ${i} not found...`}});Dt(()=>{Da("edit template")});const b=X({get:()=>r.visible,set:i=>{i||(t("update:visible",!1),t("close"))}}),y=X(()=>Tn(r.template));return(i,o)=>$(b)?(ie(),Te($(os),{key:0,show:$(b),"onUpdate:show":o[1]||(o[1]=n=>Lt(b)?b.value=n:null)},{default:K(()=>[Z($(Tr),{style:{width:"90%","max-width":"980px"},closable:"",onClose:o[0]||(o[0]=n=>b.value=!1)},{header:K(()=>[Gv,he("span",Yv,Pe($(y).name),1),Xv,he("span",Zv,Pe($(y).role),1)]),"header-extra":K(()=>[Z($(Qe),{tag:"a",target:"_blank",href:"https://labctl.net/reference/template-functions"},{default:K(()=>[Jv]),_:1})]),default:K(()=>[he("p",null,[Qv,he("span",eg," \u2026/"+Pe($(h).p)+"/"+Pe($(h).name),1)]),$(h).shadow.length?(ie(),be("p",tg," This template shadows/hides other templates with the same name: "+Pe($(h).shadow.join(", ")),1)):Ke("",!0),Z($(Ur),{cols:1,"x-gap":6},{default:K(()=>[Z($(Bt),null,{default:K(()=>[Z($(en),{value:$(h).value,type:"textarea",autosize:{minRows:5},autofocus:"",style:{"font-family":"monospace"}},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])):Ke("",!0)}});const rg=he("h3",null,"Available templates",-1),ig=he("th",null,"Folder(s)",-1),ng=he("th",null,"Template",-1),sg=xe(" Template file: "),og={class:"fn"},ag={key:0},lg=xe(" Shadows "),cg={class:"fn"},dg=de({__name:"tab_templates",setup(e){const t=sr(),r=X(()=>{const y={};return Object.keys(t.templateFiles).sort().forEach(i=>{const o=Tn(i);o.name in y||(y[o.name]={}),y[o.name][o.role]=!0}),y}),l=X(()=>{const y=Object.keys(t.templateFiles).map(o=>Tn(o).role);return[...new Set(y)].sort()});function h(y,i){const o=`${y}__${i}.tmpl`;return o in t.templateFiles?t.templateFiles[o]:{name:o,p:"",value:"",shadow:[]}}const b=q("");return(y,i)=>(ie(),be(Ye,null,[rg,Z($(as),{striped:"",size:"small"},{default:K(()=>[he("thead",null,[he("tr",null,[ig,ng,(ie(!0),be(Ye,null,Et($(l),o=>(ie(),be("th",{key:`ce:th:${o}`,class:"cen"},Pe(o),1))),128))])]),he("tbody",null,[(ie(!0),be(Ye,null,Et($(r),(o,n)=>(ie(),be("tr",{key:`ce:t:${n}`},[he("td",null,Pe([...new Set(Object.keys(o).map(u=>".../"+h(n,u).p))].join(",")),1),he("td",null,Pe(n),1),(ie(!0),be(Ye,null,Et($(l),(u,f)=>(ie(),be("td",{key:`td:${n}_${f}`,class:"cen"},[o[u]?(ie(),Te($(Rr),{key:0,trigger:"hover"},{trigger:K(()=>[Z($(Qe),{quaternary:"",small:"",onClick:_=>b.value=h(n,u).name},{default:K(()=>[Z($(Je),{component:h(n,u).shadow.length?$(Wd):$(gd),size:"18px"},null,8,["component"])]),_:2},1032,["onClick"])]),default:K(()=>[he("p",null,[sg,he("span",og," \u2026/"+Pe(h(n,u).p)+"/"+Pe(h(n,u).name),1)]),h(n,u).shadow.length?(ie(),be("p",ag,[lg,he("span",cg," \u2026/"+Pe(h(n,u).shadow.join(", "))+"/ ",1)])):Ke("",!0),Z($(ha),{"line-clamp":5,tooltip:!1},{default:K(()=>[he("pre",null,[he("code",null,Pe(h(n,u).value),1)])]),_:2},1024)]),_:2},1024)):Ke("",!0)]))),128))]))),128))])]),_:1}),b.value!==""?(ie(),Te(us,{key:0,visible:"",template:b.value,onClose:i[0]||(i[0]=o=>b.value="")},null,8,["template"])):Ke("",!0)],64))}});var Oa={};(function(e){(function(t,r){if(typeof e.nodeName!="string")r(e);else{var l={};r(l),t.AnsiUp=l.default}})(_a,function(t){var r=this&&this.__makeTemplateObject||function(i,o){return Object.defineProperty?Object.defineProperty(i,"raw",{value:o}):i.raw=o,i},l;(function(i){i[i.EOS=0]="EOS",i[i.Text=1]="Text",i[i.Incomplete=2]="Incomplete",i[i.ESC=3]="ESC",i[i.Unknown=4]="Unknown",i[i.SGR=5]="SGR",i[i.OSCURL=6]="OSCURL"})(l||(l={}));var h=function(){function i(){this.VERSION="5.1.0",this.setup_palettes(),this._use_classes=!1,this.bold=!1,this.italic=!1,this.underline=!1,this.fg=this.bg=null,this._buffer="",this._url_whitelist={http:1,https:1}}return Object.defineProperty(i.prototype,"use_classes",{get:function(){return this._use_classes},set:function(o){this._use_classes=o},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"url_whitelist",{get:function(){return this._url_whitelist},set:function(o){this._url_whitelist=o},enumerable:!1,configurable:!0}),i.prototype.setup_palettes=function(){var o=this;this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.palette_256=[],this.ansi_colors.forEach(function(c){c.forEach(function(a){o.palette_256.push(a)})});for(var n=[0,95,135,175,215,255],u=0;u<6;++u)for(var f=0;f<6;++f)for(var _=0;_<6;++_){var v={rgb:[n[u],n[f],n[_]],class_name:"truecolor"};this.palette_256.push(v)}for(var g=8,p=0;p<24;++p,g+=10){var s={rgb:[g,g,g],class_name:"truecolor"};this.palette_256.push(s)}},i.prototype.escape_txt_for_html=function(o){return o.replace(/[&<>"']/gm,function(n){if(n==="&")return"&amp;";if(n==="<")return"&lt;";if(n===">")return"&gt;";if(n==='"')return"&quot;";if(n==="'")return"&#x27;"})},i.prototype.append_buffer=function(o){var n=this._buffer+o;this._buffer=n},i.prototype.get_next_packet=function(){var o={kind:l.EOS,text:"",url:""},n=this._buffer.length;if(n==0)return o;var u=this._buffer.indexOf("\x1B");if(u==-1)return o.kind=l.Text,o.text=this._buffer,this._buffer="",o;if(u>0)return o.kind=l.Text,o.text=this._buffer.slice(0,u),this._buffer=this._buffer.slice(u),o;if(u==0){if(n==1)return o.kind=l.Incomplete,o;var f=this._buffer.charAt(1);if(f!="["&&f!="]")return o.kind=l.ESC,o.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),o;if(f=="["){this._csi_regex||(this._csi_regex=b(r([`
                        ^                           # beginning of line
                                                    #
                                                    # First attempt
                        (?:                         # legal sequence
                          \x1B[                      # CSI
                          ([<-?]?)              # private-mode char
                          ([d;]*)                    # any digits or semicolons
                          ([ -/]?               # an intermediate modifier
                          [@-~])                # the command
                        )
                        |                           # alternate (second attempt)
                        (?:                         # illegal sequence
                          \x1B[                      # CSI
                          [ -~]*                # anything legal
                          ([\0-:])              # anything illegal
                        )
                    `],[`
                        ^                           # beginning of line
                                                    #
                                                    # First attempt
                        (?:                         # legal sequence
                          \\x1b\\[                      # CSI
                          ([\\x3c-\\x3f]?)              # private-mode char
                          ([\\d;]*)                    # any digits or semicolons
                          ([\\x20-\\x2f]?               # an intermediate modifier
                          [\\x40-\\x7e])                # the command
                        )
                        |                           # alternate (second attempt)
                        (?:                         # illegal sequence
                          \\x1b\\[                      # CSI
                          [\\x20-\\x7e]*                # anything legal
                          ([\\x00-\\x1f:])              # anything illegal
                        )
                    `])));var _=this._buffer.match(this._csi_regex);if(_===null)return o.kind=l.Incomplete,o;if(_[4])return o.kind=l.ESC,o.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),o;_[1]!=""||_[3]!="m"?o.kind=l.Unknown:o.kind=l.SGR,o.text=_[2];var v=_[0].length;return this._buffer=this._buffer.slice(v),o}if(f=="]"){if(n<4)return o.kind=l.Incomplete,o;if(this._buffer.charAt(2)!="8"||this._buffer.charAt(3)!=";")return o.kind=l.ESC,o.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),o;this._osc_st||(this._osc_st=y(r([`
                        (?:                         # legal sequence
                          (\x1B\\)                    # ESC                           |                           # alternate
                          (\x07)                      # BEL (what xterm did)
                        )
                        |                           # alternate (second attempt)
                        (                           # illegal sequence
                          [\0-]                 # anything illegal
                          |                           # alternate
                          [\b-]                 # anything illegal
                          |                           # alternate
                          [-]                 # anything illegal
                        )
                    `],[`
                        (?:                         # legal sequence
                          (\\x1b\\\\)                    # ESC \\
                          |                           # alternate
                          (\\x07)                      # BEL (what xterm did)
                        )
                        |                           # alternate (second attempt)
                        (                           # illegal sequence
                          [\\x00-\\x06]                 # anything illegal
                          |                           # alternate
                          [\\x08-\\x1a]                 # anything illegal
                          |                           # alternate
                          [\\x1c-\\x1f]                 # anything illegal
                        )
                    `]))),this._osc_st.lastIndex=0;{var g=this._osc_st.exec(this._buffer);if(g===null)return o.kind=l.Incomplete,o;if(g[3])return o.kind=l.ESC,o.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),o}{var p=this._osc_st.exec(this._buffer);if(p===null)return o.kind=l.Incomplete,o;if(p[3])return o.kind=l.ESC,o.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),o}this._osc_regex||(this._osc_regex=b(r([`
                        ^                           # beginning of line
                                                    #
                        \x1B]8;                    # OSC Hyperlink
                        [ -:<-~]*       # params (excluding ;)
                        ;                           # end of params
                        ([!-~]{0,512})        # URL capture
                        (?:                         # ST
                          (?:\x1B\\)                  # ESC                           |                           # alternate
                          (?:\x07)                    # BEL (what xterm did)
                        )
                        ([ -~]+)              # TEXT capture
                        \x1B]8;;                   # OSC Hyperlink End
                        (?:                         # ST
                          (?:\x1B\\)                  # ESC                           |                           # alternate
                          (?:\x07)                    # BEL (what xterm did)
                        )
                    `],[`
                        ^                           # beginning of line
                                                    #
                        \\x1b\\]8;                    # OSC Hyperlink
                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)
                        ;                           # end of params
                        ([\\x21-\\x7e]{0,512})        # URL capture
                        (?:                         # ST
                          (?:\\x1b\\\\)                  # ESC \\
                          |                           # alternate
                          (?:\\x07)                    # BEL (what xterm did)
                        )
                        ([\\x20-\\x7e]+)              # TEXT capture
                        \\x1b\\]8;;                   # OSC Hyperlink End
                        (?:                         # ST
                          (?:\\x1b\\\\)                  # ESC \\
                          |                           # alternate
                          (?:\\x07)                    # BEL (what xterm did)
                        )
                    `])));var _=this._buffer.match(this._osc_regex);if(_===null)return o.kind=l.ESC,o.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),o;o.kind=l.OSCURL,o.url=_[1],o.text=_[2];var v=_[0].length;return this._buffer=this._buffer.slice(v),o}}},i.prototype.ansi_to_html=function(o){this.append_buffer(o);for(var n=[];;){var u=this.get_next_packet();if(u.kind==l.EOS||u.kind==l.Incomplete)break;u.kind==l.ESC||u.kind==l.Unknown||(u.kind==l.Text?n.push(this.transform_to_html(this.with_state(u))):u.kind==l.SGR?this.process_ansi(u):u.kind==l.OSCURL&&n.push(this.process_hyperlink(u)))}return n.join("")},i.prototype.with_state=function(o){return{bold:this.bold,italic:this.italic,underline:this.underline,fg:this.fg,bg:this.bg,text:o.text}},i.prototype.process_ansi=function(o){for(var n=o.text.split(";");n.length>0;){var u=n.shift(),f=parseInt(u,10);if(isNaN(f)||f===0)this.fg=this.bg=null,this.bold=!1,this.italic=!1,this.underline=!1;else if(f===1)this.bold=!0;else if(f===3)this.italic=!0;else if(f===4)this.underline=!0;else if(f===22)this.bold=!1;else if(f===23)this.italic=!1;else if(f===24)this.underline=!1;else if(f===39)this.fg=null;else if(f===49)this.bg=null;else if(f>=30&&f<38)this.fg=this.ansi_colors[0][f-30];else if(f>=40&&f<48)this.bg=this.ansi_colors[0][f-40];else if(f>=90&&f<98)this.fg=this.ansi_colors[1][f-90];else if(f>=100&&f<108)this.bg=this.ansi_colors[1][f-100];else if((f===38||f===48)&&n.length>0){var _=f===38,v=n.shift();if(v==="5"&&n.length>0){var g=parseInt(n.shift(),10);g>=0&&g<=255&&(_?this.fg=this.palette_256[g]:this.bg=this.palette_256[g])}if(v==="2"&&n.length>2){var p=parseInt(n.shift(),10),s=parseInt(n.shift(),10),c=parseInt(n.shift(),10);if(p>=0&&p<=255&&s>=0&&s<=255&&c>=0&&c<=255){var a={rgb:[p,s,c],class_name:"truecolor"};_?this.fg=a:this.bg=a}}}}},i.prototype.transform_to_html=function(o){var n=o.text;if(n.length===0||(n=this.escape_txt_for_html(n),!o.bold&&!o.italic&&!o.underline&&o.fg===null&&o.bg===null))return n;var u=[],f=[],_=o.fg,v=o.bg;o.bold&&u.push("font-weight:bold"),o.italic&&u.push("font-style:italic"),o.underline&&u.push("text-decoration:underline"),this._use_classes?(_&&(_.class_name!=="truecolor"?f.push(_.class_name+"-fg"):u.push("color:rgb("+_.rgb.join(",")+")")),v&&(v.class_name!=="truecolor"?f.push(v.class_name+"-bg"):u.push("background-color:rgb("+v.rgb.join(",")+")"))):(_&&u.push("color:rgb("+_.rgb.join(",")+")"),v&&u.push("background-color:rgb("+v.rgb+")"));var g="",p="";return f.length&&(g=' class="'+f.join(" ")+'"'),u.length&&(p=' style="'+u.join(";")+'"'),"<span"+p+g+">"+n+"</span>"},i.prototype.process_hyperlink=function(o){var n=o.url.split(":");if(n.length<1||!this._url_whitelist[n[0]])return"";var u='<a href="'+this.escape_txt_for_html(o.url)+'">'+this.escape_txt_for_html(o.text)+"</a>";return u},i}();function b(i){var o=i.raw[0],n=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,u=o.replace(n,"");return new RegExp(u)}function y(i){var o=i.raw[0],n=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,u=o.replace(n,"");return new RegExp(u,"g")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=h})})(Oa);const ug=$f(Oa),hg={class:"jv-container boxed jv-dark"},fg=["innerHTML"],pg=de({__name:"div_ansi",props:{value:null,open:{type:Boolean,default:!1}},setup(e){const t=e,r=q(t.open);function l(){r.value=!r.value}const h=X(()=>{const y=new ug().ansi_to_html(t.value);try{return Ba.sanitize(y)}catch(i){const o=t.value;return console.error({msg:"DOMPurify issue with ansiup",value:o,error:i}),String(i)}});return(b,y)=>(ie(),be("div",hg,[he("div",{style:fi({"white-space":"pre",padding:"10px"}),class:ys({boxed:!0,"jv-code":!0,open:r.value}),innerHTML:$(h)},null,14,fg),he("div",{class:"jv-more",onClick:l},[he("span",{class:ys({"jv-toggle":!0,open:r.value})},null,2)])]))}}),vg=de({__name:"config_results",props:{node:null},setup(e){const t=e,r=sr(),l=`cr:${Math.random()}:${t.node}:`,h=X(()=>{if(typeof r.results[t.node]>"u")return{};const b={};let y;return r.results[t.node].forEach(i=>{i.source!=y&&(y=i.source,b[y]=[]),b[y].push(i)}),b});return(b,y)=>(ie(),Te($(_f),{"default-expanded-names":Object.keys($(h)),"display-directive":"show"},{default:K(()=>[(ie(!0),be(Ye,null,Et($(h),(i,o)=>(ie(),Te($(yf),{key:`${l}${o}`,title:o,name:o},{default:K(()=>[(ie(!0),be(Ye,null,Et(i,(n,u)=>(ie(),be("div",{key:`${l}${o}${u}`},[n.prompt||n.command?(ie(),Te($(Cr),{key:0,justify:"space-between"},{default:K(()=>[Z($(ci),{bordered:!1,style:{"font-family":"v-mono"}},{default:K(()=>[xe(Pe(n.prompt)+" ",1),he("b",null,Pe(n.command),1)]),_:2},1024),Z($(ci),{bordered:!1,round:"",size:"small"},{default:K(()=>[xe(Pe(n.node),1)]),_:2},1024)]),_:2},1024)):Ke("",!0),Z(pg,{value:n.response,open:""},null,8,["value"])]))),128))]),_:2},1032,["title","name"]))),128))]),_:1},8,["default-expanded-names"]))}}),Ir=qo("action"),Ma=qo("log"),gg={key:1},_g=xe("Run a command"),mg={key:0},bg=xe(" Nodes with results "),yg={key:1},wg={key:2},Sg=he("h3",null,"Available variables",-1),xg=he("p",null,"Select a node/link to show available variables.",-1),Cg=he("h3",null,"Available nodes",-1),kg=he("thead",null,[he("tr",null,[he("th",null,"Node"),he("th",null,"Role"),he("th",null,"Kind"),he("th",null,"system_ip"),he("th",null,"Image")])],-1),Rg={key:3},Eg=de({__name:"panel_ce",props:{visible:null,selected:null,selectedLinks:null},emits:["update:visible","update:selected","update:selectedLinks"],setup(e,{emit:t}){const r=e,l=sr(),h=q(!1),b=X({get:()=>r.visible,set:c=>t("update:visible",c)}),y=q(""),i=q("run"),o=q("");function n(){if(h.value){$c("Busy executing config");return}o.value=y.value,Object.keys(l.results).forEach(c=>delete l.results[c]),h.value=!0,Ni({code:xr.config,config:{cmd:y.value}})}const u=X(()=>Object.keys(l.results).sort()),f=X(()=>Object.keys(l.results).sort().filter(c=>r.selected.includes(c)));Go.on(c=>{var a;if(c.code===xr.config&&c.config&&c.config.results){const d=c.config.results[0].node;_(d,!0)}c.code===xr.config&&((a=c.config)==null?void 0:a.cmd)&&setTimeout(()=>{h.value=!1},100)});function _(c,a){const d=r.selected.includes(c);if(typeof a>"u"&&(a=!d),a==d)return;const m=[...r.selected];a?m.push(c):m.splice(m.indexOf(c),1),t("update:selected",m)}function v(c){const a=[...r.selectedLinks];a.splice(a.indexOf(c),1),t("update:selectedLinks",a)}const g=q(),p=q();Ir.on(c=>{var a;c.action==="config"&&(y.value=c.command,i.value="run",(a=p.value)==null||a.focus())});const s=q("");return(c,a)=>(ie(),Te(rn,{ref_key:"ceref",ref:g,visible:$(b),"onUpdate:visible":a[3]||(a[3]=d=>Lt(b)?b.value=d:null),title:"Config Engine"},{"header-extra":K(()=>[Z($(xa),{value:i.value,"onUpdate:value":a[0]||(a[0]=d=>i.value=d),type:"bar",size:"large",style:{"margin-right":"20px"}},{default:K(()=>[Z($(mr),{name:"run"},{default:K(()=>[Z($(Vs),{type:"warning",processing:"",value:$(u).length},{default:K(()=>[Z($(Je),{component:$(Ln),color:"var(--n-tab-text-color)"},null,8,["component"])]),_:1},8,["value"])]),_:1},8,["name"]),Z($(mr),{name:"vars"},{default:K(()=>[Z($(Vs),{type:"info",processing:"",value:r.selected.length+r.selectedLinks.length},{default:K(()=>[Z($(Je),{component:$(cu),color:"var(--n-tab-text-color)"},null,8,["component"])]),_:1},8,["value"])]),_:1},8,["name"]),Z($(mr),{name:"templates"},{default:K(()=>[Z($(Je),{component:$(Yo)},null,8,["component"])]),_:1},8,["name"])]),_:1},8,["value"])]),default:K(()=>[i.value==="templates"?(ie(),Te(dg,{key:0})):i.value==="run"?(ie(),be("div",gg,[he("p",null,[Z($(ef),null,{default:K(()=>[Z($(nf),null,{default:K(()=>[_g]),_:1}),Z($(en),{ref_key:"inputref",ref:p,value:y.value,"onUpdate:value":a[1]||(a[1]=d=>y.value=d),placeholder:"compare / commit / send",style:{width:"100%"},onKeyup:Pc(Ic(n,["ctrl"]),["enter"])},null,8,["value","onKeyup"]),Z($(Qe),{loading:h.value,onClick:n},{icon:K(()=>[Z($(Je),null,{default:K(()=>[Z($(Ln))]),_:1})]),_:1},8,["loading"])]),_:1})]),$(u).length>0?(ie(),be("p",mg,[Z($(Cr),{justify:"space-between"},{default:K(()=>[bg,Z($(Cr),null,{default:K(()=>[(ie(!0),be(Ye,null,Et($(u),d=>(ie(),Te(ar,{key:`ce:nres:${d}`,value:r.selected.includes(d),"onUpdate:value":m=>_(d)},{default:K(()=>[xe(Pe(d),1)]),_:2},1032,["value","onUpdate:value"]))),128))]),_:1})]),_:1})])):Ke("",!0),o.value!=""?(ie(),be("p",yg,' The current results were obtained by running "'+Pe(o.value)+'". ',1)):Ke("",!0),Z($(Ur),{cols:2},{default:K(()=>[(ie(!0),be(Ye,null,Et($(f),d=>(ie(),Te($(Bt),{key:`ce:tabs:${d}`,tab:d,name:d},{default:K(()=>[Z($(Tr),{title:d,closable:"",onClose:m=>_(d)},{default:K(()=>[Z(vg,{node:d},null,8,["node"])]),_:2},1032,["title","onClose"])]),_:2},1032,["tab","name"]))),128))]),_:1})])):i.value==="vars"?(ie(),be("div",wg,[r.selected.length>0||r.selectedLinks.length>0?(ie(),be(Ye,{key:0},[Sg,Z($(Ur),{cols:2},{default:K(()=>[(ie(!0),be(Ye,null,Et(r.selected,d=>(ie(),Te($(Bt),{key:`gnode:${d}`},{default:K(()=>[Z(fo,{id:d,onClose:m=>_(d,!1)},null,8,["id","onClose"])]),_:2},1024))),128)),(ie(!0),be(Ye,null,Et(r.selectedLinks,d=>(ie(),Te($(Bt),{key:`glink:${d}`},{default:K(()=>[Z(fo,{id:d,link:"",onClose:m=>v(d)},null,8,["id","onClose"])]),_:2},1024))),128))]),_:1})],64)):(ie(),be(Ye,{key:1},[xg,Cg,Z($(as),{striped:"",size:"small"},{default:K(()=>[kg,he("tbody",null,[(ie(!0),be(Ye,null,Et($(l).topo.nodes,(d,m)=>(ie(),be("tr",{key:`a:nde:${m}`},[he("td",null,[Z($(Qe),{quaternary:"","x-small":"",onClick:w=>_(m,!0)},{default:K(()=>[xe(Pe(m),1)]),_:2},1032,["onClick"])]),he("td",null,Pe($(l).topo.vars[m].clab_role),1),he("td",null,Pe(d.kind),1),he("td",null,Pe($(l).topo.vars[m].clab_system_ip),1),he("td",null,Pe(d.image),1)]))),128))])]),_:1})],64))])):(ie(),be("div",Rg,"Unknown tab: "+Pe(i.value),1)),s.value!==""?(ie(),Te(us,{key:4,visible:"",template:s.value,onClose:a[2]||(a[2]=d=>s.value="")},null,8,["template"])):Ke("",!0)]),_:1},8,["visible"]))}}),Tg=xe(" Recommended commands for this lab "),Lg=xe("edit"),Ag={class:"rel"},Bg=de({__name:"tab_home",setup(e){const t=sr(),r=hi(t.optCommands),l=q(null);let h=!1;qe(r,()=>h=!0);const b=q(-1);qe(b,()=>{if(b.value<0&&h){h=!1;for(let _=r.length;_--;_>0)r[_]===""&&(r.splice(_,1),console.log("remove",_));t.save()}});const y=q(!1);function i(_){var a;if(!((a=l.value)!=null&&a.textareaElRef)){console.log("no reference to text1");return}const v=l.value.textareaElRef,g=v.selectionStart,p=v.selectionEnd,s=r[b.value];let c=s.slice(g,p);c==""&&(_.includes("config")&&(c="send -l show"),_.includes("path")&&(c=Object.keys(t.topo.links).join(","))),r[b.value]=s.slice(0,g)+_.replaceAll("{}",c)+s.slice(p),gt(()=>{v.selectionStart=g,v.selectionEnd=g+_.length})}function o(_){r.splice(_+1,0,""),b.value=_+1}function n(_){_<0&&(r.push(""),_=r.length-1),b.value=_,gt(()=>{var v;return(v=l.value)==null?void 0:v.focus()})}function u(_){const v=r[_];r[_]=r[_-1],r[_-1]=v,b.value--}function f(_){Ir.emit(_)}return(_,v)=>(ie(),be(Ye,null,[he("p",null,[Tg,Z(ar,{value:y.value,"onUpdate:value":v[0]||(v[0]=g=>y.value=g)},{default:K(()=>[Lg]),_:1},8,["value"])]),Z($(as),{striped:"",size:"small"},{default:K(()=>[he("tbody",null,[(ie(!0),be(Ye,null,Et(r,(g,p)=>(ie(),be("tr",{key:`cmd:labf:${p}`},[he("td",Ag,[Z(Ki,{value:g,onAction:f},null,8,["value"]),y.value?(ie(),Te($(da),{key:0,class:"topright"},{default:K(()=>[Z($(Qe),{"x-small":"",quaternary:"",onClick:s=>n(p)},{default:K(()=>[Z($(Je),{component:$(qd)},null,8,["component"])]),_:2},1032,["onClick"]),Z($(Qe),{"x-small":"",quaternary:"",disabled:p==0,onClick:s=>u(p)},{default:K(()=>[Z($(Je),{component:$(sd)},null,8,["component"])]),_:2},1032,["disabled","onClick"]),Z($(Qe),{"x-small":"",quaternary:"",onClick:s=>o(p)},{default:K(()=>[Z($(Je),{component:$(td)},null,8,["component"])]),_:2},1032,["onClick"])]),_:2},1024)):Ke("",!0)])]))),128))])]),_:1}),Z($(os),{show:b.value>=0,"onUpdate:show":v[5]||(v[5]=g=>b.value=-1)},{default:K(()=>[Z($(Tr),{style:{width:"90%","max-width":"980px"},closable:"",role:"dialog","aria-modal":"true",onClose:v[4]||(v[4]=g=>b.value=-1)},{"header-extra":K(()=>[Z($(Qe),{quaternary:"",onClick:v[1]||(v[1]=g=>i("[{}](path:)"))},{default:K(()=>[Z($(Je),{component:$(su)},null,8,["component"])]),_:1}),Z($(Qe),{quaternary:"",onClick:v[2]||(v[2]=g=>i("[{}](config:)"))},{default:K(()=>[Z($(Je),{component:$(Ln)},null,8,["component"])]),_:1})]),default:K(()=>[b.value>=0?(ie(),Te($(Ur),{key:0,cols:"2","x-gap":10},{default:K(()=>[Z($(Bt),null,{default:K(()=>[Z($(en),{ref_key:"text1",ref:l,value:b.value>=0?r[b.value]:"",type:"textarea",autosize:{minRows:3},"onUpdate:value":v[3]||(v[3]=g=>r[b.value]=g)},null,8,["value"])]),_:1}),Z($(Bt),null,{default:K(()=>[Z(Ki,{value:r[b.value],"show-msg":""},null,8,["value"])]),_:1})]),_:1})):Ke("",!0)]),_:1})]),_:1},8,["show"])],64))}});const Pa=(e,t)=>{const r=e.__vccOpts||e;for(const[l,h]of t)r[l]=h;return r},Dg=Pa(Bg,[["__scopeId","data-v-e6fcc731"]]),Og={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 576 512"},Mg=he("path",{d:"M528.3 46.5H388.5c-48.1 0-89.9 33.3-100.4 80.3c-10.6-47-52.3-80.3-100.4-80.3H48c-26.5 0-48 21.5-48 48v245.8c0 26.5 21.5 48 48 48h89.7c102.2 0 132.7 24.4 147.3 75c.7 2.8 5.2 2.8 6 0c14.7-50.6 45.2-75 147.3-75H528c26.5 0 48-21.5 48-48V94.6c0-26.4-21.3-47.9-47.7-48.1zM242 311.9c0 1.9-1.5 3.5-3.5 3.5H78.2c-1.9 0-3.5-1.5-3.5-3.5V289c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H78.2c-1.9 0-3.5-1.5-3.5-3.5v-22.9c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5V251zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H78.2c-1.9 0-3.5-1.5-3.5-3.5v-22.9c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm259.3 121.7c0 1.9-1.5 3.5-3.5 3.5H337.5c-1.9 0-3.5-1.5-3.5-3.5v-22.9c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H337.5c-1.9 0-3.5-1.5-3.5-3.5V228c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H337.5c-1.9 0-3.5-1.5-3.5-3.5v-22.8c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5V190z",fill:"currentColor"},null,-1),Pg=[Mg],$g=de({name:"Readme",render:function(t,r){return ie(),be("svg",Og,Pg)}}),Ig={key:1},zg={key:2},Fg=de({__name:"panel_lab",props:{visible:null},emits:["path","update:visible","update:selected","update:selectedLinks"],setup(e,{emit:t}){const r=e,l=sr(),{optCommands:h}=Jn(l),b=X({get:()=>r.visible,set:o=>t("update:visible",o)}),y=q(h.value.length>0?"home":"readme"),i=q("");return(o,n)=>(ie(),Te(rn,{visible:$(b),"onUpdate:visible":n[2]||(n[2]=u=>Lt(b)?b.value=u:null),title:"Lab"},{"header-extra":K(()=>[Z($(xa),{value:y.value,"onUpdate:value":n[0]||(n[0]=u=>y.value=u),type:"bar",size:"large",style:{"margin-right":"20px"}},{default:K(()=>[Z($(mr),{name:"home"},{default:K(()=>[Z($(Je),{component:$(zd)},null,8,["component"])]),_:1}),Z($(mr),{name:"readme"},{default:K(()=>[Z($(Je),{component:$($g)},null,8,["component"])]),_:1})]),_:1},8,["value"])]),default:K(()=>[y.value==="home"?(ie(),Te(Dg,{key:0})):y.value==="readme"?(ie(),be("div",Ig,[(ie(!0),be(Ye,null,Et($(l).labFiles,(u,f)=>(ie(),be("div",{key:`md_${f}`},[he("h2",null,Pe(f),1),Z(Ki,{value:u},null,8,["value"])]))),128))])):(ie(),be("div",zg,"Unknown tab: "+Pe(y.value),1)),i.value!==""?(ie(),Te(us,{key:3,visible:"",template:i.value,onClose:n[1]||(n[1]=u=>i.value="")},null,8,["template"])):Ke("",!0)]),_:1},8,["visible"]))}});var $a={exports:{}};(function(e,t){(function(r,l){e.exports=l()})(self,function(){return(()=>{var r={4567:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AccessibilityManager=void 0;const n=o(9042),u=o(6114),f=o(9924),_=o(3656),v=o(844),g=o(5596),p=o(9631);class s extends v.Disposable{constructor(a,d){super(),this._terminal=a,this._renderService=d,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityTreeRoot=document.createElement("div"),this._accessibilityTreeRoot.classList.add("xterm-accessibility"),this._accessibilityTreeRoot.tabIndex=0,this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let m=0;m<this._terminal.rows;m++)this._rowElements[m]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[m]);if(this._topBoundaryFocusListener=m=>this._onBoundaryFocus(m,0),this._bottomBoundaryFocusListener=m=>this._onBoundaryFocus(m,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityTreeRoot.appendChild(this._rowContainer),this._renderRowsDebouncer=new f.TimeBasedDebouncer(this._renderRows.bind(this)),this._refreshRows(),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityTreeRoot.appendChild(this._liveRegion),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityTreeRoot),this.register(this._renderRowsDebouncer),this.register(this._terminal.onResize(m=>this._onResize(m.rows))),this.register(this._terminal.onRender(m=>this._refreshRows(m.start,m.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(m=>this._onChar(m))),this.register(this._terminal.onLineFeed(()=>this._onChar(`
`))),this.register(this._terminal.onA11yTab(m=>this._onTab(m))),this.register(this._terminal.onKey(m=>this._onKey(m.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new g.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,_.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions()))}dispose(){super.dispose(),(0,p.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0}_onBoundaryFocus(a,d){const m=a.target,w=this._rowElements[d===0?1:this._rowElements.length-2];if(m.getAttribute("aria-posinset")===(d===0?"1":`${this._terminal.buffer.lines.length}`)||a.relatedTarget!==w)return;let S,C;if(d===0?(S=m,C=this._rowElements.pop(),this._rowContainer.removeChild(C)):(S=this._rowElements.shift(),C=m,this._rowContainer.removeChild(S)),S.removeEventListener("focus",this._topBoundaryFocusListener),C.removeEventListener("focus",this._bottomBoundaryFocusListener),d===0){const k=this._createAccessibilityTreeNode();this._rowElements.unshift(k),this._rowContainer.insertAdjacentElement("afterbegin",k)}else{const k=this._createAccessibilityTreeNode();this._rowElements.push(k),this._rowContainer.appendChild(k)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(d===0?-1:1),this._rowElements[d===0?1:this._rowElements.length-2].focus(),a.preventDefault(),a.stopImmediatePropagation()}_onResize(a){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let d=this._rowContainer.children.length;d<this._terminal.rows;d++)this._rowElements[d]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[d]);for(;this._rowElements.length>a;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const a=document.createElement("div");return a.setAttribute("role","listitem"),a.tabIndex=-1,this._refreshRowDimensions(a),a}_onTab(a){for(let d=0;d<a;d++)this._onChar(" ")}_onChar(a){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==a&&(this._charsToAnnounce+=a):this._charsToAnnounce+=a,a===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=n.tooMuchOutput)),u.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityTreeRoot.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,u.isMac&&(0,p.removeElementFromParent)(this._liveRegion)}_onKey(a){this._clearLiveRegion(),this._charsToConsume.push(a)}_refreshRows(a,d){this._renderRowsDebouncer.refresh(a,d,this._terminal.rows)}_renderRows(a,d){const m=this._terminal.buffer,w=m.lines.length.toString();for(let S=a;S<=d;S++){const C=m.translateBufferLineToString(m.ydisp+S,!0),k=(m.ydisp+S+1).toString(),R=this._rowElements[S];R&&(C.length===0?R.innerText="\xA0":R.textContent=C,R.setAttribute("aria-posinset",k),R.setAttribute("aria-setsize",w))}this._announceCharacters()}_refreshRowsDimensions(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(let a=0;a<this._terminal.rows;a++)this._refreshRowDimensions(this._rowElements[a])}}_refreshRowDimensions(a){a.style.height=`${this._renderService.dimensions.actualCellHeight}px`}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}}i.AccessibilityManager=s},3614:(y,i)=>{function o(_){return _.replace(/\r?\n/g,"\r")}function n(_,v){return v?"\x1B[200~"+_+"\x1B[201~":_}function u(_,v,g){_=n(_=o(_),g.decPrivateModes.bracketedPasteMode),g.triggerDataEvent(_,!0),v.value=""}function f(_,v,g){const p=g.getBoundingClientRect(),s=_.clientX-p.left-10,c=_.clientY-p.top-10;v.style.width="20px",v.style.height="20px",v.style.left=`${s}px`,v.style.top=`${c}px`,v.style.zIndex="1000",v.focus()}Object.defineProperty(i,"__esModule",{value:!0}),i.rightClickHandler=i.moveTextAreaUnderMouseCursor=i.paste=i.handlePasteEvent=i.copyHandler=i.bracketTextForPaste=i.prepareTextForTerminal=void 0,i.prepareTextForTerminal=o,i.bracketTextForPaste=n,i.copyHandler=function(_,v){_.clipboardData&&_.clipboardData.setData("text/plain",v.selectionText),_.preventDefault()},i.handlePasteEvent=function(_,v,g){_.stopPropagation(),_.clipboardData&&u(_.clipboardData.getData("text/plain"),v,g)},i.paste=u,i.moveTextAreaUnderMouseCursor=f,i.rightClickHandler=function(_,v,g,p,s){f(_,v,g),s&&p.rightClickSelect(_),v.value=p.selectionText,v.select()}},7239:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorContrastCache=void 0;const n=o(1505);i.ColorContrastCache=class{constructor(){this._color=new n.TwoKeyMap,this._css=new n.TwoKeyMap}setCss(u,f,_){this._css.set(u,f,_)}getCss(u,f){return this._css.get(u,f)}setColor(u,f,_){this._color.set(u,f,_)}getColor(u,f){return this._color.get(u,f)}clear(){this._color.clear(),this._css.clear()}}},5680:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorManager=i.DEFAULT_ANSI_COLORS=void 0;const n=o(8055),u=o(7239),f=n.css.toColor("#ffffff"),_=n.css.toColor("#000000"),v=n.css.toColor("#ffffff"),g=n.css.toColor("#000000"),p={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};i.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const s=[n.css.toColor("#2e3436"),n.css.toColor("#cc0000"),n.css.toColor("#4e9a06"),n.css.toColor("#c4a000"),n.css.toColor("#3465a4"),n.css.toColor("#75507b"),n.css.toColor("#06989a"),n.css.toColor("#d3d7cf"),n.css.toColor("#555753"),n.css.toColor("#ef2929"),n.css.toColor("#8ae234"),n.css.toColor("#fce94f"),n.css.toColor("#729fcf"),n.css.toColor("#ad7fa8"),n.css.toColor("#34e2e2"),n.css.toColor("#eeeeec")],c=[0,95,135,175,215,255];for(let a=0;a<216;a++){const d=c[a/36%6|0],m=c[a/6%6|0],w=c[a%6];s.push({css:n.channels.toCss(d,m,w),rgba:n.channels.toRgba(d,m,w)})}for(let a=0;a<24;a++){const d=8+10*a;s.push({css:n.channels.toCss(d,d,d),rgba:n.channels.toRgba(d,d,d)})}return s})()),i.ColorManager=class{constructor(s,c){this.allowTransparency=c;const a=s.createElement("canvas");a.width=1,a.height=1;const d=a.getContext("2d");if(!d)throw new Error("Could not get rendering context");this._ctx=d,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new u.ColorContrastCache,this.colors={foreground:f,background:_,cursor:v,cursorAccent:g,selectionForeground:void 0,selectionBackgroundTransparent:p,selectionBackgroundOpaque:n.color.blend(_,p),selectionInactiveBackgroundTransparent:p,selectionInactiveBackgroundOpaque:n.color.blend(_,p),ansi:i.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors()}onOptionsChange(s,c){switch(s){case"minimumContrastRatio":this._contrastCache.clear();break;case"allowTransparency":this.allowTransparency=c}}setTheme(s={}){this.colors.foreground=this._parseColor(s.foreground,f),this.colors.background=this._parseColor(s.background,_),this.colors.cursor=this._parseColor(s.cursor,v,!0),this.colors.cursorAccent=this._parseColor(s.cursorAccent,g,!0),this.colors.selectionBackgroundTransparent=this._parseColor(s.selectionBackground,p,!0),this.colors.selectionBackgroundOpaque=n.color.blend(this.colors.background,this.colors.selectionBackgroundTransparent),this.colors.selectionInactiveBackgroundTransparent=this._parseColor(s.selectionInactiveBackground,this.colors.selectionBackgroundTransparent,!0),this.colors.selectionInactiveBackgroundOpaque=n.color.blend(this.colors.background,this.colors.selectionInactiveBackgroundTransparent);const c={css:"",rgba:0};if(this.colors.selectionForeground=s.selectionForeground?this._parseColor(s.selectionForeground,c):void 0,this.colors.selectionForeground===c&&(this.colors.selectionForeground=void 0),n.color.isOpaque(this.colors.selectionBackgroundTransparent)&&(this.colors.selectionBackgroundTransparent=n.color.opacity(this.colors.selectionBackgroundTransparent,.3)),n.color.isOpaque(this.colors.selectionInactiveBackgroundTransparent)&&(this.colors.selectionInactiveBackgroundTransparent=n.color.opacity(this.colors.selectionInactiveBackgroundTransparent,.3)),this.colors.ansi=i.DEFAULT_ANSI_COLORS.slice(),this.colors.ansi[0]=this._parseColor(s.black,i.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(s.red,i.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(s.green,i.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(s.yellow,i.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(s.blue,i.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(s.magenta,i.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(s.cyan,i.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(s.white,i.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(s.brightBlack,i.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(s.brightRed,i.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(s.brightGreen,i.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(s.brightYellow,i.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(s.brightBlue,i.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(s.brightMagenta,i.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(s.brightCyan,i.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(s.brightWhite,i.DEFAULT_ANSI_COLORS[15]),s.extendedAnsi){const a=Math.min(this.colors.ansi.length-16,s.extendedAnsi.length);for(let d=0;d<a;d++)this.colors.ansi[d+16]=this._parseColor(s.extendedAnsi[d],i.DEFAULT_ANSI_COLORS[d+16])}this._contrastCache.clear(),this._updateRestoreColors()}restoreColor(s){if(s!==void 0)switch(s){case 256:this.colors.foreground=this._restoreColors.foreground;break;case 257:this.colors.background=this._restoreColors.background;break;case 258:this.colors.cursor=this._restoreColors.cursor;break;default:this.colors.ansi[s]=this._restoreColors.ansi[s]}else for(let c=0;c<this._restoreColors.ansi.length;++c)this.colors.ansi[c]=this._restoreColors.ansi[c]}_updateRestoreColors(){this._restoreColors={foreground:this.colors.foreground,background:this.colors.background,cursor:this.colors.cursor,ansi:this.colors.ansi.slice()}}_parseColor(s,c,a=this.allowTransparency){if(s===void 0)return c;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=s,typeof this._ctx.fillStyle!="string")return console.warn(`Color: ${s} is invalid using fallback ${c.css}`),c;this._ctx.fillRect(0,0,1,1);const d=this._ctx.getImageData(0,0,1,1).data;if(d[3]!==255){if(!a)return console.warn(`Color: ${s} is using transparency, but allowTransparency is false. Using fallback ${c.css}.`),c;const[m,w,S,C]=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map(R=>Number(R)),k=Math.round(255*C);return{rgba:n.channels.toRgba(m,w,S,k),css:s}}return{css:this._ctx.fillStyle,rgba:n.channels.toRgba(d[0],d[1],d[2],d[3])}}}},9631:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.removeElementFromParent=void 0,i.removeElementFromParent=function(...o){var n;for(const u of o)(n=u==null?void 0:u.parentElement)===null||n===void 0||n.removeChild(u)}},3656:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.addDisposableDomListener=void 0,i.addDisposableDomListener=function(o,n,u,f){o.addEventListener(n,u,f);let _=!1;return{dispose:()=>{_||(_=!0,o.removeEventListener(n,u,f))}}}},6465:function(y,i,o){var n=this&&this.__decorate||function(s,c,a,d){var m,w=arguments.length,S=w<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,a):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(s,c,a,d);else for(var C=s.length-1;C>=0;C--)(m=s[C])&&(S=(w<3?m(S):w>3?m(c,a,S):m(c,a))||S);return w>3&&S&&Object.defineProperty(c,a,S),S},u=this&&this.__param||function(s,c){return function(a,d){c(a,d,s)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Linkifier2=void 0;const f=o(2585),_=o(8460),v=o(844),g=o(3656);let p=class extends v.Disposable{constructor(s){super(),this._bufferService=s,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._activeLine=-1,this._onShowLinkUnderline=this.register(new _.EventEmitter),this._onHideLinkUnderline=this.register(new _.EventEmitter),this.register((0,v.getDisposeArrayDisposable)(this._linkCacheDisposables))}get currentLink(){return this._currentLink}get onShowLinkUnderline(){return this._onShowLinkUnderline.event}get onHideLinkUnderline(){return this._onHideLinkUnderline.event}dispose(){super.dispose(),this._lastMouseEvent=void 0}registerLinkProvider(s){return this._linkProviders.push(s),{dispose:()=>{const c=this._linkProviders.indexOf(s);c!==-1&&this._linkProviders.splice(c,1)}}}attachToDom(s,c,a){this._element=s,this._mouseService=c,this._renderService=a,this.register((0,g.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,g.addDisposableDomListener)(this._element,"mousemove",this._onMouseMove.bind(this))),this.register((0,g.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,g.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_onMouseMove(s){if(this._lastMouseEvent=s,!this._element||!this._mouseService)return;const c=this._positionFromMouseEvent(s,this._element,this._mouseService);if(!c)return;this._isMouseOut=!1;const a=s.composedPath();for(let d=0;d<a.length;d++){const m=a[d];if(m.classList.contains("xterm"))break;if(m.classList.contains("xterm-hover"))return}this._lastBufferCell&&c.x===this._lastBufferCell.x&&c.y===this._lastBufferCell.y||(this._onHover(c),this._lastBufferCell=c)}_onHover(s){if(this._activeLine!==s.y)return this._clearCurrentLink(),void this._askForLink(s,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,s)||(this._clearCurrentLink(),this._askForLink(s,!0))}_askForLink(s,c){var a,d;this._activeProviderReplies&&c||((a=this._activeProviderReplies)===null||a===void 0||a.forEach(w=>{w==null||w.forEach(S=>{S.link.dispose&&S.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=s.y);let m=!1;for(const[w,S]of this._linkProviders.entries())c?!((d=this._activeProviderReplies)===null||d===void 0)&&d.get(w)&&(m=this._checkLinkProviderResult(w,s,m)):S.provideLinks(s.y,C=>{var k,R;if(this._isMouseOut)return;const A=C==null?void 0:C.map(D=>({link:D}));(k=this._activeProviderReplies)===null||k===void 0||k.set(w,A),m=this._checkLinkProviderResult(w,s,m),((R=this._activeProviderReplies)===null||R===void 0?void 0:R.size)===this._linkProviders.length&&this._removeIntersectingLinks(s.y,this._activeProviderReplies)})}_removeIntersectingLinks(s,c){const a=new Set;for(let d=0;d<c.size;d++){const m=c.get(d);if(m)for(let w=0;w<m.length;w++){const S=m[w],C=S.link.range.start.y<s?0:S.link.range.start.x,k=S.link.range.end.y>s?this._bufferService.cols:S.link.range.end.x;for(let R=C;R<=k;R++){if(a.has(R)){m.splice(w--,1);break}a.add(R)}}}}_checkLinkProviderResult(s,c,a){var d;if(!this._activeProviderReplies)return a;const m=this._activeProviderReplies.get(s);let w=!1;for(let S=0;S<s;S++)this._activeProviderReplies.has(S)&&!this._activeProviderReplies.get(S)||(w=!0);if(!w&&m){const S=m.find(C=>this._linkAtPosition(C.link,c));S&&(a=!0,this._handleNewLink(S))}if(this._activeProviderReplies.size===this._linkProviders.length&&!a)for(let S=0;S<this._activeProviderReplies.size;S++){const C=(d=this._activeProviderReplies.get(S))===null||d===void 0?void 0:d.find(k=>this._linkAtPosition(k.link,c));if(C){a=!0,this._handleNewLink(C);break}}return a}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(s){if(!this._element||!this._mouseService||!this._currentLink)return;const c=this._positionFromMouseEvent(s,this._element,this._mouseService);c&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,c)&&this._currentLink.link.activate(s,this._currentLink.link.text)}_clearCurrentLink(s,c){this._element&&this._currentLink&&this._lastMouseEvent&&(!s||!c||this._currentLink.link.range.start.y>=s&&this._currentLink.link.range.end.y<=c)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,v.disposeArray)(this._linkCacheDisposables))}_handleNewLink(s){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const c=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);c&&this._linkAtPosition(s.link,c)&&(this._currentLink=s,this._currentLink.state={decorations:{underline:s.link.decorations===void 0||s.link.decorations.underline,pointerCursor:s.link.decorations===void 0||s.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,s.link,this._lastMouseEvent),s.link.decorations={},Object.defineProperties(s.link.decorations,{pointerCursor:{get:()=>{var a,d;return(d=(a=this._currentLink)===null||a===void 0?void 0:a.state)===null||d===void 0?void 0:d.decorations.pointerCursor},set:a=>{var d,m;((d=this._currentLink)===null||d===void 0?void 0:d.state)&&this._currentLink.state.decorations.pointerCursor!==a&&(this._currentLink.state.decorations.pointerCursor=a,this._currentLink.state.isHovered&&((m=this._element)===null||m===void 0||m.classList.toggle("xterm-cursor-pointer",a)))}},underline:{get:()=>{var a,d;return(d=(a=this._currentLink)===null||a===void 0?void 0:a.state)===null||d===void 0?void 0:d.decorations.underline},set:a=>{var d,m,w;((d=this._currentLink)===null||d===void 0?void 0:d.state)&&((w=(m=this._currentLink)===null||m===void 0?void 0:m.state)===null||w===void 0?void 0:w.decorations.underline)!==a&&(this._currentLink.state.decorations.underline=a,this._currentLink.state.isHovered&&this._fireUnderlineEvent(s.link,a))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(a=>{const d=a.start===0?0:a.start+1+this._bufferService.buffer.ydisp;this._clearCurrentLink(d,a.end+1+this._bufferService.buffer.ydisp)})))}_linkHover(s,c,a){var d;!((d=this._currentLink)===null||d===void 0)&&d.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(c,!0),this._currentLink.state.decorations.pointerCursor&&s.classList.add("xterm-cursor-pointer")),c.hover&&c.hover(a,c.text)}_fireUnderlineEvent(s,c){const a=s.range,d=this._bufferService.buffer.ydisp,m=this._createLinkUnderlineEvent(a.start.x-1,a.start.y-d-1,a.end.x,a.end.y-d-1,void 0);(c?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(m)}_linkLeave(s,c,a){var d;!((d=this._currentLink)===null||d===void 0)&&d.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(c,!1),this._currentLink.state.decorations.pointerCursor&&s.classList.remove("xterm-cursor-pointer")),c.leave&&c.leave(a,c.text)}_linkAtPosition(s,c){const a=s.range.start.y===s.range.end.y,d=s.range.start.y<c.y,m=s.range.end.y>c.y;return(a&&s.range.start.x<=c.x&&s.range.end.x>=c.x||d&&s.range.end.x>=c.x||m&&s.range.start.x<=c.x||d&&m)&&s.range.start.y<=c.y&&s.range.end.y>=c.y}_positionFromMouseEvent(s,c,a){const d=a.getCoords(s,c,this._bufferService.cols,this._bufferService.rows);if(d)return{x:d[0],y:d[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(s,c,a,d,m){return{x1:s,y1:c,x2:a,y2:d,cols:this._bufferService.cols,fg:m}}};p=n([u(0,f.IBufferService)],p),i.Linkifier2=p},9042:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.tooMuchOutput=i.promptLabel=void 0,i.promptLabel="Terminal input",i.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},2962:function(y,i,o){var n=this&&this.__decorate||function(p,s,c,a){var d,m=arguments.length,w=m<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,c):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(p,s,c,a);else for(var S=p.length-1;S>=0;S--)(d=p[S])&&(w=(m<3?d(w):m>3?d(s,c,w):d(s,c))||w);return m>3&&w&&Object.defineProperty(s,c,w),w},u=this&&this.__param||function(p,s){return function(c,a){s(c,a,p)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OscLinkProvider=void 0;const f=o(511),_=o(2585);let v=class{constructor(p,s,c){this._bufferService=p,this._optionsService=s,this._oscLinkService=c}provideLinks(p,s){var c;const a=this._bufferService.buffer.lines.get(p-1);if(!a)return void s(void 0);const d=[],m=this._optionsService.rawOptions.linkHandler,w=new f.CellData,S=a.getTrimmedLength();let C=-1,k=-1,R=!1;for(let A=0;A<S;A++)if(k!==-1||a.hasContent(A)){if(a.loadCell(A,w),w.hasExtendedAttrs()&&w.extended.urlId){if(k===-1){k=A,C=w.extended.urlId;continue}R=w.extended.urlId!==C}else k!==-1&&(R=!0);if(R||k!==-1&&A===S-1){const D=(c=this._oscLinkService.getLinkData(C))===null||c===void 0?void 0:c.uri;if(D){const T={start:{x:k+1,y:p},end:{x:A+(R||A!==S-1?0:1),y:p}};d.push({text:D,range:T,activate:(x,E)=>m?m.activate(x,E,T):g(0,E),hover:(x,E)=>{var L;return(L=m==null?void 0:m.hover)===null||L===void 0?void 0:L.call(m,x,E,T)},leave:(x,E)=>{var L;return(L=m==null?void 0:m.leave)===null||L===void 0?void 0:L.call(m,x,E,T)}})}R=!1,w.hasExtendedAttrs()&&w.extended.urlId?(k=A,C=w.extended.urlId):(k=-1,C=-1)}}s(d)}};function g(p,s){if(confirm(`Do you want to navigate to ${s}?`)){const c=window.open();if(c){try{c.opener=null}catch{}c.location.href=s}else console.warn("Opening link blocked as opener could not be cleared")}}v=n([u(0,_.IBufferService),u(1,_.IOptionsService),u(2,_.IOscLinkService)],v),i.OscLinkProvider=v},6193:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.RenderDebouncer=void 0,i.RenderDebouncer=class{constructor(o,n){this._parentWindow=o,this._renderCallback=n,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(o){return this._refreshCallbacks.push(o),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(o,n,u){this._rowCount=u,o=o!==void 0?o:0,n=n!==void 0?n:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,o):o,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,n):n,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const o=Math.max(this._rowStart,0),n=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(o,n),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const o of this._refreshCallbacks)o(0);this._refreshCallbacks=[]}}},5596:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ScreenDprMonitor=void 0;const n=o(844);class u extends n.Disposable{constructor(_){super(),this._parentWindow=_,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio}setListener(_){this._listener&&this.clearListener(),this._listener=_,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}dispose(){super.dispose(),this.clearListener()}_updateDpr(){var _;this._outerListener&&((_=this._resolutionMediaMatchList)===null||_===void 0||_.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}i.ScreenDprMonitor=u},3236:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Terminal=void 0;const n=o(2950),u=o(1680),f=o(3614),_=o(2584),v=o(5435),g=o(9312),p=o(6114),s=o(3656),c=o(9042),a=o(4567),d=o(1296),m=o(7399),w=o(8460),S=o(8437),C=o(5680),k=o(3230),R=o(4725),A=o(428),D=o(8934),T=o(6465),x=o(5114),E=o(8969),L=o(8055),O=o(4269),M=o(5941),V=o(3107),F=o(5744),W=o(9074),G=o(2585),te=o(2962),P=typeof window<"u"?window.document:null;class ae extends E.CoreTerminal{constructor(I={}){super(I),this.browser=p,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._onCursorMove=new w.EventEmitter,this._onKey=new w.EventEmitter,this._onRender=new w.EventEmitter,this._onSelectionChange=new w.EventEmitter,this._onTitleChange=new w.EventEmitter,this._onBell=new w.EventEmitter,this._onFocus=new w.EventEmitter,this._onBlur=new w.EventEmitter,this._onA11yCharEmitter=new w.EventEmitter,this._onA11yTabEmitter=new w.EventEmitter,this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(T.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(te.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(W.DecorationService),this._instantiationService.setService(G.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((U,oe)=>this.refresh(U,oe))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(U=>this._reportWindowsOptions(U))),this.register(this._inputHandler.onColor(U=>this._handleColorEvent(U))),this.register((0,w.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,w.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,w.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,w.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(U=>this._afterResize(U.cols,U.rows)))}get onCursorMove(){return this._onCursorMove.event}get onKey(){return this._onKey.event}get onRender(){return this._onRender.event}get onSelectionChange(){return this._onSelectionChange.event}get onTitleChange(){return this._onTitleChange.event}get onBell(){return this._onBell.event}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}_handleColorEvent(I){var U,oe;if(this._colorManager){for(const Q of I){let fe,ce="";switch(Q.index){case 256:fe="foreground",ce="10";break;case 257:fe="background",ce="11";break;case 258:fe="cursor",ce="12";break;default:fe="ansi",ce="4;"+Q.index}switch(Q.type){case 0:const Oe=L.color.toColorRGB(fe==="ansi"?this._colorManager.colors.ansi[Q.index]:this._colorManager.colors[fe]);this.coreService.triggerDataEvent(`${_.C0.ESC}]${ce};${(0,M.toRgbString)(Oe)}${_.C1_ESCAPED.ST}`);break;case 1:fe==="ansi"?this._colorManager.colors.ansi[Q.index]=L.rgba.toColor(...Q.color):this._colorManager.colors[fe]=L.rgba.toColor(...Q.color);break;case 2:this._colorManager.restoreColor(Q.index)}}(U=this._renderService)===null||U===void 0||U.setColors(this._colorManager.colors),(oe=this.viewport)===null||oe===void 0||oe.onThemeChange(this._colorManager.colors)}}dispose(){var I,U,oe;this._isDisposed||(super.dispose(),(I=this._renderService)===null||I===void 0||I.dispose(),this._customKeyEventHandler=void 0,this.write=()=>{},(oe=(U=this.element)===null||U===void 0?void 0:U.parentNode)===null||oe===void 0||oe.removeChild(this.element))}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_updateOptions(I){var U,oe,Q,fe;switch(super._updateOptions(I),I){case"fontFamily":case"fontSize":(U=this._renderService)===null||U===void 0||U.clear(),(oe=this._charSizeService)===null||oe===void 0||oe.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"customGlyphs":case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"scrollback":(Q=this.viewport)===null||Q===void 0||Q.syncScrollArea();break;case"screenReaderMode":this.optionsService.rawOptions.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new a.AccessibilityManager(this,this._renderService)):((fe=this._accessibilityManager)===null||fe===void 0||fe.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.rawOptions.theme)}}_onTextAreaFocus(I){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(_.C0.ESC+"[I"),this.updateCursorStyle(I),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var I;return(I=this.textarea)===null||I===void 0?void 0:I.blur()}_onTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(_.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const I=this.buffer.ybase+this.buffer.y,U=this.buffer.lines.get(I);if(!U)return;const oe=Math.min(this.buffer.x,this.cols-1),Q=this._renderService.dimensions.actualCellHeight,fe=U.getWidth(oe),ce=this._renderService.dimensions.actualCellWidth*fe,Oe=this.buffer.y*this._renderService.dimensions.actualCellHeight,Ce=oe*this._renderService.dimensions.actualCellWidth;this.textarea.style.left=Ce+"px",this.textarea.style.top=Oe+"px",this.textarea.style.width=ce+"px",this.textarea.style.height=Q+"px",this.textarea.style.lineHeight=Q+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,s.addDisposableDomListener)(this.element,"copy",U=>{this.hasSelection()&&(0,f.copyHandler)(U,this._selectionService)}));const I=U=>(0,f.handlePasteEvent)(U,this.textarea,this.coreService);this.register((0,s.addDisposableDomListener)(this.textarea,"paste",I)),this.register((0,s.addDisposableDomListener)(this.element,"paste",I)),p.isFirefox?this.register((0,s.addDisposableDomListener)(this.element,"mousedown",U=>{U.button===2&&(0,f.rightClickHandler)(U,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,s.addDisposableDomListener)(this.element,"contextmenu",U=>{(0,f.rightClickHandler)(U,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),p.isLinux&&this.register((0,s.addDisposableDomListener)(this.element,"auxclick",U=>{U.button===1&&(0,f.moveTextAreaUnderMouseCursor)(U,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,s.addDisposableDomListener)(this.textarea,"keyup",I=>this._keyUp(I),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"keydown",I=>this._keyDown(I),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"keypress",I=>this._keyPress(I),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionupdate",I=>this._compositionHelper.compositionupdate(I))),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,s.addDisposableDomListener)(this.textarea,"input",I=>this._inputEvent(I),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(I){var U;if(!I)throw new Error("Terminal requires a parent element.");I.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=I.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),I.appendChild(this.element);const oe=P.createDocumentFragment();this._viewportElement=P.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),oe.appendChild(this._viewportElement),this._viewportScrollArea=P.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=P.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=P.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),oe.appendChild(this.screenElement),this.textarea=P.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",c.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register((0,s.addDisposableDomListener)(this.textarea,"focus",fe=>this._onTextAreaFocus(fe))),this.register((0,s.addDisposableDomListener)(this.textarea,"blur",()=>this._onTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._coreBrowserService=this._instantiationService.createInstance(x.CoreBrowserService,this.textarea,(U=this._document.defaultView)!==null&&U!==void 0?U:window),this._instantiationService.setService(R.ICoreBrowserService,this._coreBrowserService),this._charSizeService=this._instantiationService.createInstance(A.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(R.ICharSizeService,this._charSizeService),this._theme=this.options.theme||this._theme,this._colorManager=new C.ColorManager(P,this.options.allowTransparency),this.register(this.optionsService.onOptionChange(fe=>this._colorManager.onOptionsChange(fe,this.optionsService.rawOptions[fe]))),this._colorManager.setTheme(this._theme),this._characterJoinerService=this._instantiationService.createInstance(O.CharacterJoinerService),this._instantiationService.setService(R.ICharacterJoinerService,this._characterJoinerService);const Q=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(k.RenderService,Q,this.rows,this.screenElement)),this._instantiationService.setService(R.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(fe=>this._onRender.fire(fe))),this.onResize(fe=>this._renderService.resize(fe.cols,fe.rows)),this._compositionView=P.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(n.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(oe),this._mouseService=this._instantiationService.createInstance(D.MouseService),this._instantiationService.setService(R.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(u.Viewport,fe=>this.scrollLines(fe,!0,1),this._viewportElement,this._viewportScrollArea,this.element),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.onCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.onResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.onBlur())),this.register(this.onFocus(()=>this._renderService.onFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(g.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(R.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(fe=>this.scrollLines(fe.amount,fe.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(fe=>this._renderService.onSelectionChanged(fe.start,fe.end,fe.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(fe=>{this.textarea.value=fe,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(fe=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,s.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(V.BufferDecorationRenderer,this.screenElement)),this.register((0,s.addDisposableDomListener)(this.element,"mousedown",fe=>this._selectionService.onMouseDown(fe))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new a.AccessibilityManager(this,this._renderService)),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(F.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onOptionChange(()=>{!this._overviewRulerRenderer&&this.options.overviewRulerWidth&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(F.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(d.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier2)}_setTheme(I){var U,oe,Q;this._theme=I,(U=this._colorManager)===null||U===void 0||U.setTheme(I),(oe=this._renderService)===null||oe===void 0||oe.setColors(this._colorManager.colors),(Q=this.viewport)===null||Q===void 0||Q.onThemeChange(this._colorManager.colors)}bindMouse(){const I=this,U=this.element;function oe(ce){const Oe=I._mouseService.getMouseReportCoords(ce,I.screenElement);if(!Oe)return!1;let Ce,Ue;switch(ce.overrideType||ce.type){case"mousemove":Ue=32,ce.buttons===void 0?(Ce=3,ce.button!==void 0&&(Ce=ce.button<3?ce.button:3)):Ce=1&ce.buttons?0:4&ce.buttons?1:2&ce.buttons?2:3;break;case"mouseup":Ue=0,Ce=ce.button<3?ce.button:3;break;case"mousedown":Ue=1,Ce=ce.button<3?ce.button:3;break;case"wheel":if(I.viewport.getLinesScrolled(ce)===0)return!1;Ue=ce.deltaY<0?0:1,Ce=4;break;default:return!1}return!(Ue===void 0||Ce===void 0||Ce>4)&&I.coreMouseService.triggerMouseEvent({col:Oe.col,row:Oe.row,x:Oe.x,y:Oe.y,button:Ce,action:Ue,ctrl:ce.ctrlKey,alt:ce.altKey,shift:ce.shiftKey})}const Q={mouseup:null,wheel:null,mousedrag:null,mousemove:null},fe={mouseup:ce=>(oe(ce),ce.buttons||(this._document.removeEventListener("mouseup",Q.mouseup),Q.mousedrag&&this._document.removeEventListener("mousemove",Q.mousedrag)),this.cancel(ce)),wheel:ce=>(oe(ce),this.cancel(ce,!0)),mousedrag:ce=>{ce.buttons&&oe(ce)},mousemove:ce=>{ce.buttons||oe(ce)}};this.register(this.coreMouseService.onProtocolChange(ce=>{ce?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(ce)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&ce?Q.mousemove||(U.addEventListener("mousemove",fe.mousemove),Q.mousemove=fe.mousemove):(U.removeEventListener("mousemove",Q.mousemove),Q.mousemove=null),16&ce?Q.wheel||(U.addEventListener("wheel",fe.wheel,{passive:!1}),Q.wheel=fe.wheel):(U.removeEventListener("wheel",Q.wheel),Q.wheel=null),2&ce?Q.mouseup||(Q.mouseup=fe.mouseup):(this._document.removeEventListener("mouseup",Q.mouseup),Q.mouseup=null),4&ce?Q.mousedrag||(Q.mousedrag=fe.mousedrag):(this._document.removeEventListener("mousemove",Q.mousedrag),Q.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,s.addDisposableDomListener)(U,"mousedown",ce=>{if(ce.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(ce))return oe(ce),Q.mouseup&&this._document.addEventListener("mouseup",Q.mouseup),Q.mousedrag&&this._document.addEventListener("mousemove",Q.mousedrag),this.cancel(ce)})),this.register((0,s.addDisposableDomListener)(U,"wheel",ce=>{if(!Q.wheel){if(!this.buffer.hasScrollback){const Oe=this.viewport.getLinesScrolled(ce);if(Oe===0)return;const Ce=_.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(ce.deltaY<0?"A":"B");let Ue="";for(let ue=0;ue<Math.abs(Oe);ue++)Ue+=Ce;return this.coreService.triggerDataEvent(Ue,!0),this.cancel(ce,!0)}return this.viewport.onWheel(ce)?this.cancel(ce):void 0}},{passive:!1})),this.register((0,s.addDisposableDomListener)(U,"touchstart",ce=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.onTouchStart(ce),this.cancel(ce)},{passive:!0})),this.register((0,s.addDisposableDomListener)(U,"touchmove",ce=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.onTouchMove(ce)?void 0:this.cancel(ce)},{passive:!1}))}refresh(I,U){var oe;(oe=this._renderService)===null||oe===void 0||oe.refreshRows(I,U)}updateCursorStyle(I){var U;!((U=this._selectionService)===null||U===void 0)&&U.shouldColumnSelect(I)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(I,U,oe=0){super.scrollLines(I,U,oe),this.refresh(0,this.rows-1)}paste(I){(0,f.paste)(I,this.textarea,this.coreService)}attachCustomKeyEventHandler(I){this._customKeyEventHandler=I}registerLinkProvider(I){return this.linkifier2.registerLinkProvider(I)}registerCharacterJoiner(I){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const U=this._characterJoinerService.register(I);return this.refresh(0,this.rows-1),U}deregisterCharacterJoiner(I){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(I)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}addMarker(I){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+I)}registerDecoration(I){return this._decorationService.registerDecoration(I)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(I,U,oe){this._selectionService.setSelection(I,U,oe)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var I;(I=this._selectionService)===null||I===void 0||I.clearSelection()}selectAll(){var I;(I=this._selectionService)===null||I===void 0||I.selectAll()}selectLines(I,U){var oe;(oe=this._selectionService)===null||oe===void 0||oe.selectLines(I,U)}_keyDown(I){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(I)===!1)return!1;const U=this.browser.isMac&&this.options.macOptionIsMeta&&I.altKey;if(!U&&!this._compositionHelper.keydown(I))return this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;U||I.key!=="Dead"&&I.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const oe=(0,m.evaluateKeyboardEvent)(I,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(I),oe.type===3||oe.type===2){const Q=this.rows-1;return this.scrollLines(oe.type===2?-Q:Q),this.cancel(I,!0)}return oe.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,I)||(oe.cancel&&this.cancel(I,!0),!oe.key||!!(I.key&&!I.ctrlKey&&!I.altKey&&!I.metaKey&&I.key.length===1&&I.key.charCodeAt(0)>=65&&I.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(oe.key!==_.C0.ETX&&oe.key!==_.C0.CR||(this.textarea.value=""),this._onKey.fire({key:oe.key,domEvent:I}),this._showCursor(),this.coreService.triggerDataEvent(oe.key,!0),this.optionsService.rawOptions.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(I,!0))))}_isThirdLevelShift(I,U){const oe=I.isMac&&!this.options.macOptionIsMeta&&U.altKey&&!U.ctrlKey&&!U.metaKey||I.isWindows&&U.altKey&&U.ctrlKey&&!U.metaKey||I.isWindows&&U.getModifierState("AltGraph");return U.type==="keypress"?oe:oe&&(!U.keyCode||U.keyCode>47)}_keyUp(I){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(I)===!1||(function(U){return U.keyCode===16||U.keyCode===17||U.keyCode===18}(I)||this.focus(),this.updateCursorStyle(I),this._keyPressHandled=!1)}_keyPress(I){let U;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(I)===!1)return!1;if(this.cancel(I),I.charCode)U=I.charCode;else if(I.which===null||I.which===void 0)U=I.keyCode;else{if(I.which===0||I.charCode===0)return!1;U=I.which}return!(!U||(I.altKey||I.ctrlKey||I.metaKey)&&!this._isThirdLevelShift(this.browser,I)||(U=String.fromCharCode(U),this._onKey.fire({key:U,domEvent:I}),this._showCursor(),this.coreService.triggerDataEvent(U,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(I){if(I.data&&I.inputType==="insertText"&&(!I.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const U=I.data;return this.coreService.triggerDataEvent(U,!0),this.cancel(I),!0}return!1}resize(I,U){I!==this.cols||U!==this.rows?super.resize(I,U):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(I,U){var oe,Q;(oe=this._charSizeService)===null||oe===void 0||oe.measure(),(Q=this.viewport)===null||Q===void 0||Q.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let I=1;I<this.rows;I++)this.buffer.lines.push(this.buffer.getBlankLine(S.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}}reset(){var I,U;this.options.rows=this.rows,this.options.cols=this.cols;const oe=this._customKeyEventHandler;this._setup(),super.reset(),(I=this._selectionService)===null||I===void 0||I.reset(),this._decorationService.reset(),this._customKeyEventHandler=oe,this.refresh(0,this.rows-1),(U=this.viewport)===null||U===void 0||U.syncScrollArea()}clearTextureAtlas(){var I;(I=this._renderService)===null||I===void 0||I.clearTextureAtlas()}_reportFocus(){var I;!((I=this.element)===null||I===void 0)&&I.classList.contains("focus")?this.coreService.triggerDataEvent(_.C0.ESC+"[I"):this.coreService.triggerDataEvent(_.C0.ESC+"[O")}_reportWindowsOptions(I){if(this._renderService)switch(I){case v.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const U=this._renderService.dimensions.canvasWidth.toFixed(0),oe=this._renderService.dimensions.canvasHeight.toFixed(0);this.coreService.triggerDataEvent(`${_.C0.ESC}[4;${oe};${U}t`);break;case v.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Q=this._renderService.dimensions.actualCellWidth.toFixed(0),fe=this._renderService.dimensions.actualCellHeight.toFixed(0);this.coreService.triggerDataEvent(`${_.C0.ESC}[6;${fe};${Q}t`)}}cancel(I,U){if(this.options.cancelEvents||U)return I.preventDefault(),I.stopPropagation(),!1}}i.Terminal=ae},9924:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TimeBasedDebouncer=void 0,i.TimeBasedDebouncer=class{constructor(o,n=1e3){this._renderCallback=o,this._debounceThresholdMS=n,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(o,n,u){this._rowCount=u,o=o!==void 0?o:0,n=n!==void 0?n:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,o):o,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,n):n;const f=Date.now();if(f-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=f,this._innerRefresh();else if(!this._additionalRefreshRequested){const _=f-this._lastRefreshMs,v=this._debounceThresholdMS-_;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},v)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const o=Math.max(this._rowStart,0),n=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(o,n)}}},1680:function(y,i,o){var n=this&&this.__decorate||function(s,c,a,d){var m,w=arguments.length,S=w<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,a):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(s,c,a,d);else for(var C=s.length-1;C>=0;C--)(m=s[C])&&(S=(w<3?m(S):w>3?m(c,a,S):m(c,a))||S);return w>3&&S&&Object.defineProperty(c,a,S),S},u=this&&this.__param||function(s,c){return function(a,d){c(a,d,s)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Viewport=void 0;const f=o(844),_=o(3656),v=o(4725),g=o(2585);let p=class extends f.Disposable{constructor(s,c,a,d,m,w,S,C,k){super(),this._scrollLines=s,this._viewportElement=c,this._scrollArea=a,this._element=d,this._bufferService=m,this._optionsService=w,this._charSizeService=S,this._renderService=C,this._coreBrowserService=k,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentScaledCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,_.addDisposableDomListener)(this._viewportElement,"scroll",this._onScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(R=>this._activeBuffer=R.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(R=>this._renderDimensions=R)),setTimeout(()=>this.syncScrollArea(),0)}onThemeChange(s){this._viewportElement.style.backgroundColor=s.background.css}_refresh(s){if(s)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/this._coreBrowserService.dpr,this._currentScaledCellHeight=this._renderService.dimensions.scaledCellHeight,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const c=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==c&&(this._lastRecordedBufferHeight=c,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const s=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==s&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=s),this._refreshAnimationFrame=null}syncScrollArea(s=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(s);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.scaledCellHeight===this._currentScaledCellHeight||this._refresh(s)}_onScroll(s){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);const c=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(c)}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const s=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(s*(this._smoothScrollState.target-this._smoothScrollState.origin)),s<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(s,c){const a=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(c<0&&this._viewportElement.scrollTop!==0||c>0&&a<this._lastRecordedBufferHeight)||(s.cancelable&&s.preventDefault(),!1)}onWheel(s){const c=this._getPixelsScrolled(s);return c!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+c:this._smoothScrollState.target+=c,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=c,this._bubbleScroll(s,c))}_getPixelsScrolled(s){if(s.deltaY===0||s.shiftKey)return 0;let c=this._applyScrollModifier(s.deltaY,s);return s.deltaMode===WheelEvent.DOM_DELTA_LINE?c*=this._currentRowHeight:s.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(c*=this._currentRowHeight*this._bufferService.rows),c}getLinesScrolled(s){if(s.deltaY===0||s.shiftKey)return 0;let c=this._applyScrollModifier(s.deltaY,s);return s.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(c/=this._currentRowHeight+0,this._wheelPartialScroll+=c,c=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):s.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(c*=this._bufferService.rows),c}_applyScrollModifier(s,c){const a=this._optionsService.rawOptions.fastScrollModifier;return a==="alt"&&c.altKey||a==="ctrl"&&c.ctrlKey||a==="shift"&&c.shiftKey?s*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:s*this._optionsService.rawOptions.scrollSensitivity}onTouchStart(s){this._lastTouchY=s.touches[0].pageY}onTouchMove(s){const c=this._lastTouchY-s.touches[0].pageY;return this._lastTouchY=s.touches[0].pageY,c!==0&&(this._viewportElement.scrollTop+=c,this._bubbleScroll(s,c))}};p=n([u(4,g.IBufferService),u(5,g.IOptionsService),u(6,v.ICharSizeService),u(7,v.IRenderService),u(8,v.ICoreBrowserService)],p),i.Viewport=p},3107:function(y,i,o){var n=this&&this.__decorate||function(s,c,a,d){var m,w=arguments.length,S=w<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,a):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(s,c,a,d);else for(var C=s.length-1;C>=0;C--)(m=s[C])&&(S=(w<3?m(S):w>3?m(c,a,S):m(c,a))||S);return w>3&&S&&Object.defineProperty(c,a,S),S},u=this&&this.__param||function(s,c){return function(a,d){c(a,d,s)}};Object.defineProperty(i,"__esModule",{value:!0}),i.BufferDecorationRenderer=void 0;const f=o(3656),_=o(4725),v=o(844),g=o(2585);let p=class extends v.Disposable{constructor(s,c,a,d){super(),this._screenElement=s,this._bufferService=c,this._decorationService=a,this._renderService=d,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,f.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(m=>this._removeDecoration(m)))}dispose(){this._container.remove(),this._decorationElements.clear(),super.dispose()}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this.refreshDecorations(),this._animationFrame=void 0}))}refreshDecorations(){for(const s of this._decorationService.decorations)this._renderDecoration(s);this._dimensionsChanged=!1}_renderDecoration(s){this._refreshStyle(s),this._dimensionsChanged&&this._refreshXPosition(s)}_createElement(s){var c;const a=document.createElement("div");a.classList.add("xterm-decoration"),a.style.width=`${Math.round((s.options.width||1)*this._renderService.dimensions.actualCellWidth)}px`,a.style.height=(s.options.height||1)*this._renderService.dimensions.actualCellHeight+"px",a.style.top=(s.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.actualCellHeight+"px",a.style.lineHeight=`${this._renderService.dimensions.actualCellHeight}px`;const d=(c=s.options.x)!==null&&c!==void 0?c:0;return d&&d>this._bufferService.cols&&(a.style.display="none"),this._refreshXPosition(s,a),a}_refreshStyle(s){const c=s.marker.line-this._bufferService.buffers.active.ydisp;if(c<0||c>=this._bufferService.rows)s.element&&(s.element.style.display="none",s.onRenderEmitter.fire(s.element));else{let a=this._decorationElements.get(s);a||(s.onDispose(()=>this._removeDecoration(s)),a=this._createElement(s),s.element=a,this._decorationElements.set(s,a),this._container.appendChild(a)),a.style.top=c*this._renderService.dimensions.actualCellHeight+"px",a.style.display=this._altBufferIsActive?"none":"block",s.onRenderEmitter.fire(a)}}_refreshXPosition(s,c=s.element){var a;if(!c)return;const d=(a=s.options.x)!==null&&a!==void 0?a:0;(s.options.anchor||"left")==="right"?c.style.right=d?d*this._renderService.dimensions.actualCellWidth+"px":"":c.style.left=d?d*this._renderService.dimensions.actualCellWidth+"px":""}_removeDecoration(s){var c;(c=this._decorationElements.get(s))===null||c===void 0||c.remove(),this._decorationElements.delete(s)}};p=n([u(1,g.IBufferService),u(2,g.IDecorationService),u(3,_.IRenderService)],p),i.BufferDecorationRenderer=p},5871:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorZoneStore=void 0,i.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(o){if(o.options.overviewRulerOptions){for(const n of this._zones)if(n.color===o.options.overviewRulerOptions.color&&n.position===o.options.overviewRulerOptions.position){if(this._lineIntersectsZone(n,o.marker.line))return;if(this._lineAdjacentToZone(n,o.marker.line,o.options.overviewRulerOptions.position))return void this._addLineToZone(n,o.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=o.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=o.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=o.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=o.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:o.options.overviewRulerOptions.color,position:o.options.overviewRulerOptions.position,startBufferLine:o.marker.line,endBufferLine:o.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(o){this._linePadding=o}_lineIntersectsZone(o,n){return n>=o.startBufferLine&&n<=o.endBufferLine}_lineAdjacentToZone(o,n,u){return n>=o.startBufferLine-this._linePadding[u||"full"]&&n<=o.endBufferLine+this._linePadding[u||"full"]}_addLineToZone(o,n){o.startBufferLine=Math.min(o.startBufferLine,n),o.endBufferLine=Math.max(o.endBufferLine,n)}}},5744:function(y,i,o){var n=this&&this.__decorate||function(m,w,S,C){var k,R=arguments.length,A=R<3?w:C===null?C=Object.getOwnPropertyDescriptor(w,S):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(m,w,S,C);else for(var D=m.length-1;D>=0;D--)(k=m[D])&&(A=(R<3?k(A):R>3?k(w,S,A):k(w,S))||A);return R>3&&A&&Object.defineProperty(w,S,A),A},u=this&&this.__param||function(m,w){return function(S,C){w(S,C,m)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OverviewRulerRenderer=void 0;const f=o(5871),_=o(3656),v=o(4725),g=o(844),p=o(2585),s={full:0,left:0,center:0,right:0},c={full:0,left:0,center:0,right:0},a={full:0,left:0,center:0,right:0};let d=class extends g.Disposable{constructor(m,w,S,C,k,R,A){var D;super(),this._viewportElement=m,this._screenElement=w,this._bufferService=S,this._decorationService=C,this._renderService=k,this._optionsService=R,this._coreBrowseService=A,this._colorZoneStore=new f.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(D=this._viewportElement.parentElement)===null||D===void 0||D.insertBefore(this._canvas,this._viewportElement);const T=this._canvas.getContext("2d");if(!T)throw new Error("Ctx cannot be null");this._ctx=T,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners()}get _width(){return this._optionsService.options.overviewRulerWidth||0}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onOptionChange(m=>{m==="overviewRulerWidth"&&this._queueRefresh(!0)})),this.register((0,_.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>{this._queueRefresh(!0)})),this._queueRefresh(!0)}dispose(){var m;(m=this._canvas)===null||m===void 0||m.remove(),super.dispose()}_refreshDrawConstants(){const m=Math.floor(this._canvas.width/3),w=Math.ceil(this._canvas.width/3);c.full=this._canvas.width,c.left=m,c.center=w,c.right=m,this._refreshDrawHeightConstants(),a.full=0,a.left=0,a.center=c.left,a.right=c.left+c.center}_refreshDrawHeightConstants(){s.full=Math.round(2*this._coreBrowseService.dpr);const m=this._canvas.height/this._bufferService.buffer.lines.length,w=Math.round(Math.max(Math.min(m,12),6)*this._coreBrowseService.dpr);s.left=w,s.center=w,s.right=w}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*s.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*s.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*s.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*s.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const w of this._decorationService.decorations)this._colorZoneStore.addDecoration(w);this._ctx.lineWidth=1;const m=this._colorZoneStore.zones;for(const w of m)w.position!=="full"&&this._renderColorZone(w);for(const w of m)w.position==="full"&&this._renderColorZone(w);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(m){this._ctx.fillStyle=m.color,this._ctx.fillRect(a[m.position||"full"],Math.round((this._canvas.height-1)*(m.startBufferLine/this._bufferService.buffers.active.lines.length)-s[m.position||"full"]/2),c[m.position||"full"],Math.round((this._canvas.height-1)*((m.endBufferLine-m.startBufferLine)/this._bufferService.buffers.active.lines.length)+s[m.position||"full"]))}_queueRefresh(m,w){this._shouldUpdateDimensions=m||this._shouldUpdateDimensions,this._shouldUpdateAnchor=w||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};d=n([u(2,p.IBufferService),u(3,p.IDecorationService),u(4,v.IRenderService),u(5,p.IOptionsService),u(6,v.ICoreBrowserService)],d),i.OverviewRulerRenderer=d},2950:function(y,i,o){var n=this&&this.__decorate||function(p,s,c,a){var d,m=arguments.length,w=m<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,c):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(p,s,c,a);else for(var S=p.length-1;S>=0;S--)(d=p[S])&&(w=(m<3?d(w):m>3?d(s,c,w):d(s,c))||w);return m>3&&w&&Object.defineProperty(s,c,w),w},u=this&&this.__param||function(p,s){return function(c,a){s(c,a,p)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CompositionHelper=void 0;const f=o(4725),_=o(2585),v=o(2584);let g=class{constructor(p,s,c,a,d,m){this._textarea=p,this._compositionView=s,this._bufferService=c,this._optionsService=a,this._coreService=d,this._renderService=m,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(p){this._compositionView.textContent=p.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(p){if(this._isComposing||this._isSendingComposition){if(p.keyCode===229||p.keyCode===16||p.keyCode===17||p.keyCode===18)return!1;this._finalizeComposition(!1)}return p.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(p){if(this._compositionView.classList.remove("active"),this._isComposing=!1,p){const s={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let c;this._isSendingComposition=!1,s.start+=this._dataAlreadySent.length,c=this._isComposing?this._textarea.value.substring(s.start,s.end):this._textarea.value.substring(s.start),c.length>0&&this._coreService.triggerDataEvent(c,!0)}},0)}else{this._isSendingComposition=!1;const s=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(s,!0)}}_handleAnyTextareaChanges(){const p=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const s=this._textarea.value,c=s.replace(p,"");this._dataAlreadySent=c,s.length>p.length?this._coreService.triggerDataEvent(c,!0):s.length<p.length?this._coreService.triggerDataEvent(`${v.C0.DEL}`,!0):s.length===p.length&&s!==p&&this._coreService.triggerDataEvent(s,!0)}},0)}updateCompositionElements(p){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const s=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),c=this._renderService.dimensions.actualCellHeight,a=this._bufferService.buffer.y*this._renderService.dimensions.actualCellHeight,d=s*this._renderService.dimensions.actualCellWidth;this._compositionView.style.left=d+"px",this._compositionView.style.top=a+"px",this._compositionView.style.height=c+"px",this._compositionView.style.lineHeight=c+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const m=this._compositionView.getBoundingClientRect();this._textarea.style.left=d+"px",this._textarea.style.top=a+"px",this._textarea.style.width=Math.max(m.width,1)+"px",this._textarea.style.height=Math.max(m.height,1)+"px",this._textarea.style.lineHeight=m.height+"px"}p||setTimeout(()=>this.updateCompositionElements(!0),0)}}};g=n([u(2,_.IBufferService),u(3,_.IOptionsService),u(4,_.ICoreService),u(5,f.IRenderService)],g),i.CompositionHelper=g},9806:(y,i)=>{function o(n,u,f){const _=f.getBoundingClientRect(),v=n.getComputedStyle(f),g=parseInt(v.getPropertyValue("padding-left")),p=parseInt(v.getPropertyValue("padding-top"));return[u.clientX-_.left-g,u.clientY-_.top-p]}Object.defineProperty(i,"__esModule",{value:!0}),i.getCoords=i.getCoordsRelativeToElement=void 0,i.getCoordsRelativeToElement=o,i.getCoords=function(n,u,f,_,v,g,p,s,c){if(!g)return;const a=o(n,u,f);return a?(a[0]=Math.ceil((a[0]+(c?p/2:0))/p),a[1]=Math.ceil(a[1]/s),a[0]=Math.min(Math.max(a[0],1),_+(c?1:0)),a[1]=Math.min(Math.max(a[1],1),v),a):void 0}},9504:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.moveToCellSequence=void 0;const n=o(2584);function u(s,c,a,d){const m=s-f(a,s),w=c-f(a,c),S=Math.abs(m-w)-function(C,k,R){let A=0;const D=C-f(R,C),T=k-f(R,k);for(let x=0;x<Math.abs(D-T);x++){const E=_(C,k)==="A"?-1:1,L=R.buffer.lines.get(D+E*x);L!=null&&L.isWrapped&&A++}return A}(s,c,a);return p(S,g(_(s,c),d))}function f(s,c){let a=0,d=s.buffer.lines.get(c),m=d==null?void 0:d.isWrapped;for(;m&&c>=0&&c<s.rows;)a++,d=s.buffer.lines.get(--c),m=d==null?void 0:d.isWrapped;return a}function _(s,c){return s>c?"A":"B"}function v(s,c,a,d,m,w){let S=s,C=c,k="";for(;S!==a||C!==d;)S+=m?1:-1,m&&S>w.cols-1?(k+=w.buffer.translateBufferLineToString(C,!1,s,S),S=0,s=0,C++):!m&&S<0&&(k+=w.buffer.translateBufferLineToString(C,!1,0,s+1),S=w.cols-1,s=S,C--);return k+w.buffer.translateBufferLineToString(C,!1,s,S)}function g(s,c){const a=c?"O":"[";return n.C0.ESC+a+s}function p(s,c){s=Math.floor(s);let a="";for(let d=0;d<s;d++)a+=c;return a}i.moveToCellSequence=function(s,c,a,d){const m=a.buffer.x,w=a.buffer.y;if(!a.buffer.hasScrollback)return function(k,R,A,D,T,x){return u(R,D,T,x).length===0?"":p(v(k,R,k,R-f(T,R),!1,T).length,g("D",x))}(m,w,0,c,a,d)+u(w,c,a,d)+function(k,R,A,D,T,x){let E;E=u(R,D,T,x).length>0?D-f(T,D):R;const L=D,O=function(M,V,F,W,G,te){let P;return P=u(F,W,G,te).length>0?W-f(G,W):V,M<F&&P<=W||M>=F&&P<W?"C":"D"}(k,R,A,D,T,x);return p(v(k,E,A,L,O==="C",T).length,g(O,x))}(m,w,s,c,a,d);let S;if(w===c)return S=m>s?"D":"C",p(Math.abs(m-s),g(S,d));S=w>c?"D":"C";const C=Math.abs(w-c);return p(function(k,R){return R.cols-k}(w>c?s:m,a)+(C-1)*a.cols+1+((w>c?m:s)-1),g(S,d))}},8036:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TEXT_BASELINE=i.DIM_OPACITY=i.INVERTED_DEFAULT_COLOR=void 0;const n=o(6114);i.INVERTED_DEFAULT_COLOR=257,i.DIM_OPACITY=.5,i.TEXT_BASELINE=n.isFirefox||n.isLegacyEdge?"bottom":"ideographic"},1752:(y,i)=>{function o(n){return 57508<=n&&n<=57558}Object.defineProperty(i,"__esModule",{value:!0}),i.excludeFromContrastRatioDemands=i.isRestrictedPowerlineGlyph=i.isPowerlineGlyph=i.throwIfFalsy=void 0,i.throwIfFalsy=function(n){if(!n)throw new Error("value must not be falsy");return n},i.isPowerlineGlyph=o,i.isRestrictedPowerlineGlyph=function(n){return 57520<=n&&n<=57527},i.excludeFromContrastRatioDemands=function(n){return o(n)||function(u){return 9472<=u&&u<=9631}(n)}},1296:function(y,i,o){var n=this&&this.__decorate||function(C,k,R,A){var D,T=arguments.length,x=T<3?k:A===null?A=Object.getOwnPropertyDescriptor(k,R):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(C,k,R,A);else for(var E=C.length-1;E>=0;E--)(D=C[E])&&(x=(T<3?D(x):T>3?D(k,R,x):D(k,R))||x);return T>3&&x&&Object.defineProperty(k,R,x),x},u=this&&this.__param||function(C,k){return function(R,A){k(R,A,C)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DomRenderer=void 0;const f=o(3787),_=o(8036),v=o(844),g=o(4725),p=o(2585),s=o(8460),c=o(8055),a=o(9631),d="xterm-dom-renderer-owner-",m="xterm-focus";let w=1,S=class extends v.Disposable{constructor(C,k,R,A,D,T,x,E,L,O){super(),this._colors=C,this._element=k,this._screenElement=R,this._viewportElement=A,this._linkifier2=D,this._charSizeService=x,this._optionsService=E,this._bufferService=L,this._coreBrowserService=O,this._terminalClass=w++,this._rowElements=[],this._rowContainer=document.createElement("div"),this._rowContainer.classList.add("xterm-rows"),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add("xterm-selection"),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},this._updateDimensions(),this._injectCss(),this._rowFactory=T.createInstance(f.DomRendererRowFactory,document,this._colors),this._element.classList.add(d+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(M=>this._onLinkHover(M))),this.register(this._linkifier2.onHideLinkUnderline(M=>this._onLinkLeave(M)))}get onRequestRedraw(){return new s.EventEmitter().event}dispose(){this._element.classList.remove(d+this._terminalClass),(0,a.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),super.dispose()}_updateDimensions(){const C=this._coreBrowserService.dpr;this.dimensions.scaledCharWidth=this._charSizeService.width*C,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*C),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/C),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/C),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;for(const R of this._rowElements)R.style.width=`${this.dimensions.canvasWidth}px`,R.style.height=`${this.dimensions.actualCellHeight}px`,R.style.lineHeight=`${this.dimensions.actualCellHeight}px`,R.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const k=`${this._terminalSelector} .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: ${this.dimensions.actualCellWidth}px}`;this._dimensionsStyleElement.textContent=k,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.canvasWidth}px`,this._screenElement.style.height=`${this.dimensions.canvasHeight}px`}setColors(C){this._colors=C,this._injectCss()}_injectCss(){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let C=`${this._terminalSelector} .xterm-rows { color: ${this._colors.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px;}`;C+=`${this._terminalSelector} span:not(.${f.BOLD_CLASS}) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.${f.BOLD_CLASS} { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.${f.ITALIC_CLASS} { font-style: italic;}`,C+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",C+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${this._colors.cursor.css};  color: ${this._colors.cursorAccent.css}; } 50% {  background-color: ${this._colors.cursorAccent.css};  color: ${this._colors.cursor.css}; }}`,C+=`${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${f.CURSOR_CLASS}.${f.CURSOR_STYLE_BLOCK_CLASS} { outline: 1px solid ${this._colors.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .xterm-rows.xterm-focus .${f.CURSOR_CLASS}.${f.CURSOR_BLINK_CLASS}:not(.${f.CURSOR_STYLE_BLOCK_CLASS}) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${f.CURSOR_CLASS}.${f.CURSOR_BLINK_CLASS}.${f.CURSOR_STYLE_BLOCK_CLASS} { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${f.CURSOR_CLASS}.${f.CURSOR_STYLE_BLOCK_CLASS} { background-color: ${this._colors.cursor.css}; color: ${this._colors.cursorAccent.css};}${this._terminalSelector} .xterm-rows .${f.CURSOR_CLASS}.${f.CURSOR_STYLE_BAR_CLASS} { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${this._colors.cursor.css} inset;}${this._terminalSelector} .xterm-rows .${f.CURSOR_CLASS}.${f.CURSOR_STYLE_UNDERLINE_CLASS} { box-shadow: 0 -1px 0 ${this._colors.cursor.css} inset;}`,C+=`${this._terminalSelector} .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .xterm-selection div { position: absolute; background-color: ${this._colors.selectionBackgroundOpaque.css};}${this._terminalSelector} .xterm-selection div { position: absolute; background-color: ${this._colors.selectionInactiveBackgroundOpaque.css};}`,this._colors.ansi.forEach((k,R)=>{C+=`${this._terminalSelector} .xterm-fg-${R} { color: ${k.css}; }${this._terminalSelector} .xterm-bg-${R} { background-color: ${k.css}; }`}),C+=`${this._terminalSelector} .xterm-fg-${_.INVERTED_DEFAULT_COLOR} { color: ${c.color.opaque(this._colors.background).css}; }${this._terminalSelector} .xterm-bg-${_.INVERTED_DEFAULT_COLOR} { background-color: ${this._colors.foreground.css}; }`,this._themeStyleElement.textContent=C}onDevicePixelRatioChange(){this._updateDimensions()}_refreshRowElements(C,k){for(let R=this._rowElements.length;R<=k;R++){const A=document.createElement("div");this._rowContainer.appendChild(A),this._rowElements.push(A)}for(;this._rowElements.length>k;)this._rowContainer.removeChild(this._rowElements.pop())}onResize(C,k){this._refreshRowElements(C,k),this._updateDimensions()}onCharSizeChanged(){this._updateDimensions()}onBlur(){this._rowContainer.classList.remove(m)}onFocus(){this._rowContainer.classList.add(m)}onSelectionChanged(C,k,R){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.onSelectionChanged(C,k,R),this.renderRows(0,this._bufferService.rows-1),!C||!k)return;const A=C[1]-this._bufferService.buffer.ydisp,D=k[1]-this._bufferService.buffer.ydisp,T=Math.max(A,0),x=Math.min(D,this._bufferService.rows-1);if(T>=this._bufferService.rows||x<0)return;const E=document.createDocumentFragment();if(R){const L=C[0]>k[0];E.appendChild(this._createSelectionElement(T,L?k[0]:C[0],L?C[0]:k[0],x-T+1))}else{const L=A===T?C[0]:0,O=T===D?k[0]:this._bufferService.cols;E.appendChild(this._createSelectionElement(T,L,O));const M=x-T-1;if(E.appendChild(this._createSelectionElement(T+1,0,this._bufferService.cols,M)),T!==x){const V=D===x?k[0]:this._bufferService.cols;E.appendChild(this._createSelectionElement(x,0,V))}}this._selectionContainer.appendChild(E)}_createSelectionElement(C,k,R,A=1){const D=document.createElement("div");return D.style.height=A*this.dimensions.actualCellHeight+"px",D.style.top=C*this.dimensions.actualCellHeight+"px",D.style.left=k*this.dimensions.actualCellWidth+"px",D.style.width=this.dimensions.actualCellWidth*(R-k)+"px",D}onCursorMove(){}onOptionsChanged(){this._updateDimensions(),this._injectCss()}clear(){for(const C of this._rowElements)C.innerText=""}renderRows(C,k){const R=this._bufferService.buffer.ybase+this._bufferService.buffer.y,A=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),D=this._optionsService.rawOptions.cursorBlink;for(let T=C;T<=k;T++){const x=this._rowElements[T];x.innerText="";const E=T+this._bufferService.buffer.ydisp,L=this._bufferService.buffer.lines.get(E),O=this._optionsService.rawOptions.cursorStyle;x.appendChild(this._rowFactory.createRow(L,E,E===R,O,A,D,this.dimensions.actualCellWidth,this._bufferService.cols))}}get _terminalSelector(){return`.${d}${this._terminalClass}`}_onLinkHover(C){this._setCellUnderline(C.x1,C.x2,C.y1,C.y2,C.cols,!0)}_onLinkLeave(C){this._setCellUnderline(C.x1,C.x2,C.y1,C.y2,C.cols,!1)}_setCellUnderline(C,k,R,A,D,T){for(;C!==k||R!==A;){const x=this._rowElements[R];if(!x)return;const E=x.children[C];E&&(E.style.textDecoration=T?"underline":"none"),++C>=D&&(C=0,R++)}}};S=n([u(5,p.IInstantiationService),u(6,g.ICharSizeService),u(7,p.IOptionsService),u(8,p.IBufferService),u(9,g.ICoreBrowserService)],S),i.DomRenderer=S},3787:function(y,i,o){var n=this&&this.__decorate||function(S,C,k,R){var A,D=arguments.length,T=D<3?C:R===null?R=Object.getOwnPropertyDescriptor(C,k):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(S,C,k,R);else for(var x=S.length-1;x>=0;x--)(A=S[x])&&(T=(D<3?A(T):D>3?A(C,k,T):A(C,k))||T);return D>3&&T&&Object.defineProperty(C,k,T),T},u=this&&this.__param||function(S,C){return function(k,R){C(k,R,S)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DomRendererRowFactory=i.CURSOR_STYLE_UNDERLINE_CLASS=i.CURSOR_STYLE_BAR_CLASS=i.CURSOR_STYLE_BLOCK_CLASS=i.CURSOR_BLINK_CLASS=i.CURSOR_CLASS=i.STRIKETHROUGH_CLASS=i.UNDERLINE_CLASS=i.ITALIC_CLASS=i.DIM_CLASS=i.BOLD_CLASS=void 0;const f=o(8036),_=o(643),v=o(511),g=o(2585),p=o(8055),s=o(4725),c=o(4269),a=o(1752),d=o(3734);i.BOLD_CLASS="xterm-bold",i.DIM_CLASS="xterm-dim",i.ITALIC_CLASS="xterm-italic",i.UNDERLINE_CLASS="xterm-underline",i.STRIKETHROUGH_CLASS="xterm-strikethrough",i.CURSOR_CLASS="xterm-cursor",i.CURSOR_BLINK_CLASS="xterm-cursor-blink",i.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",i.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",i.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";let m=class{constructor(S,C,k,R,A,D,T){this._document=S,this._colors=C,this._characterJoinerService=k,this._optionsService=R,this._coreBrowserService=A,this._coreService=D,this._decorationService=T,this._workCell=new v.CellData,this._columnSelectMode=!1}setColors(S){this._colors=S}onSelectionChanged(S,C,k){this._selectionStart=S,this._selectionEnd=C,this._columnSelectMode=k}createRow(S,C,k,R,A,D,T,x){const E=this._document.createDocumentFragment(),L=this._characterJoinerService.getJoinedCharacters(C);let O=0;for(let M=Math.min(S.length,x)-1;M>=0;M--)if(S.loadCell(M,this._workCell).getCode()!==_.NULL_CELL_CODE||k&&M===A){O=M+1;break}for(let M=0;M<O;M++){S.loadCell(M,this._workCell);let V=this._workCell.getWidth();if(V===0)continue;let F=!1,W=M,G=this._workCell;if(L.length>0&&M===L[0][0]){F=!0;const Ce=L.shift();G=new c.JoinedCellData(this._workCell,S.translateToString(!0,Ce[0],Ce[1]),Ce[1]-Ce[0]),W=Ce[1]-1,V=G.getWidth()}const te=this._document.createElement("span");if(V>1&&(te.style.width=T*V+"px"),F&&(te.style.display="inline",A>=M&&A<=W&&(A=M)),!this._coreService.isCursorHidden&&k&&M===A)switch(te.classList.add(i.CURSOR_CLASS),D&&te.classList.add(i.CURSOR_BLINK_CLASS),R){case"bar":te.classList.add(i.CURSOR_STYLE_BAR_CLASS);break;case"underline":te.classList.add(i.CURSOR_STYLE_UNDERLINE_CLASS);break;default:te.classList.add(i.CURSOR_STYLE_BLOCK_CLASS)}if(G.isBold()&&te.classList.add(i.BOLD_CLASS),G.isItalic()&&te.classList.add(i.ITALIC_CLASS),G.isDim()&&te.classList.add(i.DIM_CLASS),G.isInvisible()?te.textContent=_.WHITESPACE_CELL_CHAR:te.textContent=G.getChars()||_.WHITESPACE_CELL_CHAR,G.isUnderline()&&(te.classList.add(`${i.UNDERLINE_CLASS}-${G.extended.underlineStyle}`),te.textContent===" "&&(te.innerHTML="&nbsp;"),!G.isUnderlineColorDefault()))if(G.isUnderlineColorRGB())te.style.textDecorationColor=`rgb(${d.AttributeData.toColorRGB(G.getUnderlineColor()).join(",")})`;else{let Ce=G.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&G.isBold()&&Ce<8&&(Ce+=8),te.style.textDecorationColor=this._colors.ansi[Ce].css}G.isStrikethrough()&&te.classList.add(i.STRIKETHROUGH_CLASS);let P=G.getFgColor(),ae=G.getFgColorMode(),re=G.getBgColor(),I=G.getBgColorMode();const U=!!G.isInverse();if(U){const Ce=P;P=re,re=Ce;const Ue=ae;ae=I,I=Ue}let oe,Q,fe=!1;this._decorationService.forEachDecorationAtCell(M,C,void 0,Ce=>{Ce.options.layer!=="top"&&fe||(Ce.backgroundColorRGB&&(I=50331648,re=Ce.backgroundColorRGB.rgba>>8&16777215,oe=Ce.backgroundColorRGB),Ce.foregroundColorRGB&&(ae=50331648,P=Ce.foregroundColorRGB.rgba>>8&16777215,Q=Ce.foregroundColorRGB),fe=Ce.options.layer==="top")});const ce=this._isCellInSelection(M,C);let Oe;switch(fe||this._colors.selectionForeground&&ce&&(ae=50331648,P=this._colors.selectionForeground.rgba>>8&16777215,Q=this._colors.selectionForeground),ce&&(oe=this._coreBrowserService.isFocused?this._colors.selectionBackgroundOpaque:this._colors.selectionInactiveBackgroundOpaque,fe=!0),fe&&te.classList.add("xterm-decoration-top"),I){case 16777216:case 33554432:Oe=this._colors.ansi[re],te.classList.add(`xterm-bg-${re}`);break;case 50331648:Oe=p.rgba.toColor(re>>16,re>>8&255,255&re),this._addStyle(te,`background-color:#${w((re>>>0).toString(16),"0",6)}`);break;default:U?(Oe=this._colors.foreground,te.classList.add(`xterm-bg-${f.INVERTED_DEFAULT_COLOR}`)):Oe=this._colors.background}switch(oe||G.isDim()&&(oe=p.color.multiplyOpacity(Oe,.5)),ae){case 16777216:case 33554432:G.isBold()&&P<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(P+=8),this._applyMinimumContrast(te,Oe,this._colors.ansi[P],G,oe,void 0)||te.classList.add(`xterm-fg-${P}`);break;case 50331648:const Ce=p.rgba.toColor(P>>16&255,P>>8&255,255&P);this._applyMinimumContrast(te,Oe,Ce,G,oe,Q)||this._addStyle(te,`color:#${w(P.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(te,Oe,this._colors.foreground,G,oe,void 0)||U&&te.classList.add(`xterm-fg-${f.INVERTED_DEFAULT_COLOR}`)}E.appendChild(te),M=W}return E}_applyMinimumContrast(S,C,k,R,A,D){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,a.excludeFromContrastRatioDemands)(R.getCode()))return!1;let T;return A||D||(T=this._colors.contrastCache.getColor(C.rgba,k.rgba)),T===void 0&&(T=p.color.ensureContrastRatio(A||C,D||k,this._optionsService.rawOptions.minimumContrastRatio),this._colors.contrastCache.setColor((A||C).rgba,(D||k).rgba,T!=null?T:null)),!!T&&(this._addStyle(S,`color:${T.css}`),!0)}_addStyle(S,C){S.setAttribute("style",`${S.getAttribute("style")||""}${C};`)}_isCellInSelection(S,C){const k=this._selectionStart,R=this._selectionEnd;return!(!k||!R)&&(this._columnSelectMode?k[0]<=R[0]?S>=k[0]&&C>=k[1]&&S<R[0]&&C<=R[1]:S<k[0]&&C>=k[1]&&S>=R[0]&&C<=R[1]:C>k[1]&&C<R[1]||k[1]===R[1]&&C===k[1]&&S>=k[0]&&S<R[0]||k[1]<R[1]&&C===R[1]&&S<R[0]||k[1]<R[1]&&C===k[1]&&S>=k[0])}};function w(S,C,k){for(;S.length<k;)S=C+S;return S}m=n([u(2,s.ICharacterJoinerService),u(3,g.IOptionsService),u(4,s.ICoreBrowserService),u(5,g.ICoreService),u(6,g.IDecorationService)],m),i.DomRendererRowFactory=m},456:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionModel=void 0,i.SelectionModel=class{constructor(o){this._bufferService=o,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const o=this.selectionStart[0]+this.selectionStartLength;return o>this._bufferService.cols?o%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)-1]:[o%this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)]:[o,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const o=this.selectionStart[0]+this.selectionStartLength;return o>this._bufferService.cols?[o%this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)]:[Math.max(o,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const o=this.selectionStart,n=this.selectionEnd;return!(!o||!n)&&(o[1]>n[1]||o[1]===n[1]&&o[0]>n[0])}onTrim(o){return this.selectionStart&&(this.selectionStart[1]-=o),this.selectionEnd&&(this.selectionEnd[1]-=o),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(y,i,o){var n=this&&this.__decorate||function(p,s,c,a){var d,m=arguments.length,w=m<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,c):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(p,s,c,a);else for(var S=p.length-1;S>=0;S--)(d=p[S])&&(w=(m<3?d(w):m>3?d(s,c,w):d(s,c))||w);return m>3&&w&&Object.defineProperty(s,c,w),w},u=this&&this.__param||function(p,s){return function(c,a){s(c,a,p)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CharSizeService=void 0;const f=o(2585),_=o(8460);let v=class{constructor(p,s,c){this._optionsService=c,this.width=0,this.height=0,this._onCharSizeChange=new _.EventEmitter,this._measureStrategy=new g(p,s,this._optionsService)}get hasValidSize(){return this.width>0&&this.height>0}get onCharSizeChange(){return this._onCharSizeChange.event}measure(){const p=this._measureStrategy.measure();p.width===this.width&&p.height===this.height||(this.width=p.width,this.height=p.height,this._onCharSizeChange.fire())}};v=n([u(2,f.IOptionsService)],v),i.CharSizeService=v;class g{constructor(s,c,a){this._document=s,this._parentElement=c,this._optionsService=a,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const s=this._measureElement.getBoundingClientRect();return s.width!==0&&s.height!==0&&(this._result.width=s.width,this._result.height=Math.ceil(s.height)),this._result}}},4269:function(y,i,o){var n=this&&this.__decorate||function(c,a,d,m){var w,S=arguments.length,C=S<3?a:m===null?m=Object.getOwnPropertyDescriptor(a,d):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(c,a,d,m);else for(var k=c.length-1;k>=0;k--)(w=c[k])&&(C=(S<3?w(C):S>3?w(a,d,C):w(a,d))||C);return S>3&&C&&Object.defineProperty(a,d,C),C},u=this&&this.__param||function(c,a){return function(d,m){a(d,m,c)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CharacterJoinerService=i.JoinedCellData=void 0;const f=o(3734),_=o(643),v=o(511),g=o(2585);class p extends f.AttributeData{constructor(a,d,m){super(),this.content=0,this.combinedData="",this.fg=a.fg,this.bg=a.bg,this.combinedData=d,this._width=m}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(a){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}i.JoinedCellData=p;let s=class Ia{constructor(a){this._bufferService=a,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new v.CellData}register(a){const d={id:this._nextCharacterJoinerId++,handler:a};return this._characterJoiners.push(d),d.id}deregister(a){for(let d=0;d<this._characterJoiners.length;d++)if(this._characterJoiners[d].id===a)return this._characterJoiners.splice(d,1),!0;return!1}getJoinedCharacters(a){if(this._characterJoiners.length===0)return[];const d=this._bufferService.buffer.lines.get(a);if(!d||d.length===0)return[];const m=[],w=d.translateToString(!0);let S=0,C=0,k=0,R=d.getFg(0),A=d.getBg(0);for(let D=0;D<d.getTrimmedLength();D++)if(d.loadCell(D,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==R||this._workCell.bg!==A){if(D-S>1){const T=this._getJoinedRanges(w,k,C,d,S);for(let x=0;x<T.length;x++)m.push(T[x])}S=D,k=C,R=this._workCell.fg,A=this._workCell.bg}C+=this._workCell.getChars().length||_.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-S>1){const D=this._getJoinedRanges(w,k,C,d,S);for(let T=0;T<D.length;T++)m.push(D[T])}return m}_getJoinedRanges(a,d,m,w,S){const C=a.substring(d,m);let k=[];try{k=this._characterJoiners[0].handler(C)}catch(R){console.error(R)}for(let R=1;R<this._characterJoiners.length;R++)try{const A=this._characterJoiners[R].handler(C);for(let D=0;D<A.length;D++)Ia._mergeRanges(k,A[D])}catch(A){console.error(A)}return this._stringRangesToCellRanges(k,w,S),k}_stringRangesToCellRanges(a,d,m){let w=0,S=!1,C=0,k=a[w];if(k){for(let R=m;R<this._bufferService.cols;R++){const A=d.getWidth(R),D=d.getString(R).length||_.WHITESPACE_CELL_CHAR.length;if(A!==0){if(!S&&k[0]<=C&&(k[0]=R,S=!0),k[1]<=C){if(k[1]=R,k=a[++w],!k)break;k[0]<=C?(k[0]=R,S=!0):S=!1}C+=D}}k&&(k[1]=this._bufferService.cols)}}static _mergeRanges(a,d){let m=!1;for(let w=0;w<a.length;w++){const S=a[w];if(m){if(d[1]<=S[0])return a[w-1][1]=d[1],a;if(d[1]<=S[1])return a[w-1][1]=Math.max(d[1],S[1]),a.splice(w,1),a;a.splice(w,1),w--}else{if(d[1]<=S[0])return a.splice(w,0,d),a;if(d[1]<=S[1])return S[0]=Math.min(d[0],S[0]),a;d[0]<S[1]&&(S[0]=Math.min(d[0],S[0]),m=!0)}}return m?a[a.length-1][1]=d[1]:a.push(d),a}};s=n([u(0,g.IBufferService)],s),i.CharacterJoinerService=s},5114:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoreBrowserService=void 0,i.CoreBrowserService=class{constructor(o,n){this._textarea=o,this.window=n}get dpr(){return this.window.devicePixelRatio}get isFocused(){return(this._textarea.getRootNode?this._textarea.getRootNode():this._textarea.ownerDocument).activeElement===this._textarea&&this._textarea.ownerDocument.hasFocus()}}},8934:function(y,i,o){var n=this&&this.__decorate||function(g,p,s,c){var a,d=arguments.length,m=d<3?p:c===null?c=Object.getOwnPropertyDescriptor(p,s):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(g,p,s,c);else for(var w=g.length-1;w>=0;w--)(a=g[w])&&(m=(d<3?a(m):d>3?a(p,s,m):a(p,s))||m);return d>3&&m&&Object.defineProperty(p,s,m),m},u=this&&this.__param||function(g,p){return function(s,c){p(s,c,g)}};Object.defineProperty(i,"__esModule",{value:!0}),i.MouseService=void 0;const f=o(4725),_=o(9806);let v=class{constructor(g,p){this._renderService=g,this._charSizeService=p}getCoords(g,p,s,c,a){return(0,_.getCoords)(window,g,p,s,c,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,a)}getMouseReportCoords(g,p){const s=(0,_.getCoordsRelativeToElement)(window,g,p);if(!(!this._charSizeService.hasValidSize||s[0]<0||s[1]<0||s[0]>=this._renderService.dimensions.canvasWidth||s[1]>=this._renderService.dimensions.canvasHeight))return{col:Math.floor(s[0]/this._renderService.dimensions.actualCellWidth),row:Math.floor(s[1]/this._renderService.dimensions.actualCellHeight),x:Math.floor(s[0]),y:Math.floor(s[1])}}};v=n([u(0,f.IRenderService),u(1,f.ICharSizeService)],v),i.MouseService=v},3230:function(y,i,o){var n=this&&this.__decorate||function(d,m,w,S){var C,k=arguments.length,R=k<3?m:S===null?S=Object.getOwnPropertyDescriptor(m,w):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(d,m,w,S);else for(var A=d.length-1;A>=0;A--)(C=d[A])&&(R=(k<3?C(R):k>3?C(m,w,R):C(m,w))||R);return k>3&&R&&Object.defineProperty(m,w,R),R},u=this&&this.__param||function(d,m){return function(w,S){m(w,S,d)}};Object.defineProperty(i,"__esModule",{value:!0}),i.RenderService=void 0;const f=o(6193),_=o(8460),v=o(844),g=o(5596),p=o(3656),s=o(2585),c=o(4725);let a=class extends v.Disposable{constructor(d,m,w,S,C,k,R,A){if(super(),this._renderer=d,this._rowCount=m,this._charSizeService=C,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=new _.EventEmitter,this._onRenderedViewportChange=new _.EventEmitter,this._onRender=new _.EventEmitter,this._onRefreshRequest=new _.EventEmitter,this.register({dispose:()=>this._renderer.dispose()}),this._renderDebouncer=new f.RenderDebouncer(A.window,(D,T)=>this._renderRows(D,T)),this.register(this._renderDebouncer),this._screenDprMonitor=new g.ScreenDprMonitor(A.window),this._screenDprMonitor.setListener(()=>this.onDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(R.onResize(()=>this._fullRefresh())),this.register(R.buffers.onBufferActivate(()=>{var D;return(D=this._renderer)===null||D===void 0?void 0:D.clear()})),this.register(S.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.onCharSizeChanged())),this.register(k.onDecorationRegistered(()=>this._fullRefresh())),this.register(k.onDecorationRemoved(()=>this._fullRefresh())),this._renderer.onRequestRedraw(D=>this.refreshRows(D.start,D.end,!0)),this.register((0,p.addDisposableDomListener)(A.window,"resize",()=>this.onDevicePixelRatioChange())),"IntersectionObserver"in A.window){const D=new A.window.IntersectionObserver(T=>this._onIntersectionChange(T[T.length-1]),{threshold:0});D.observe(w),this.register({dispose:()=>D.disconnect()})}}get onDimensionsChange(){return this._onDimensionsChange.event}get onRenderedViewportChange(){return this._onRenderedViewportChange.event}get onRender(){return this._onRender.event}get onRefreshRequest(){return this._onRefreshRequest.event}get dimensions(){return this._renderer.dimensions}_onIntersectionChange(d){this._isPaused=d.isIntersecting===void 0?d.intersectionRatio===0:!d.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(d,m,w=!1){this._isPaused?this._needsFullRefresh=!0:(w||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(d,m,this._rowCount))}_renderRows(d,m){this._renderer.renderRows(d,m),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:d,end:m}),this._onRender.fire({start:d,end:m}),this._isNextRenderRedrawOnly=!0}resize(d,m){this._rowCount=m,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()}_fireOnCanvasResize(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)}dispose(){super.dispose()}setRenderer(d){this._renderer.dispose(),this._renderer=d,this._renderer.onRequestRedraw(m=>this.refreshRows(m.start,m.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(d){return this._renderDebouncer.addRefreshCallback(d)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var d,m;(m=(d=this._renderer)===null||d===void 0?void 0:d.clearTextureAtlas)===null||m===void 0||m.call(d),this._fullRefresh()}setColors(d){this._renderer.setColors(d),this._fullRefresh()}onDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)}onResize(d,m){this._renderer.onResize(d,m),this._fullRefresh()}onCharSizeChanged(){this._renderer.onCharSizeChanged()}onBlur(){this._renderer.onBlur()}onFocus(){this._renderer.onFocus()}onSelectionChanged(d,m,w){this._selectionState.start=d,this._selectionState.end=m,this._selectionState.columnSelectMode=w,this._renderer.onSelectionChanged(d,m,w)}onCursorMove(){this._renderer.onCursorMove()}clear(){this._renderer.clear()}};a=n([u(3,s.IOptionsService),u(4,c.ICharSizeService),u(5,s.IDecorationService),u(6,s.IBufferService),u(7,c.ICoreBrowserService)],a),i.RenderService=a},9312:function(y,i,o){var n=this&&this.__decorate||function(k,R,A,D){var T,x=arguments.length,E=x<3?R:D===null?D=Object.getOwnPropertyDescriptor(R,A):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(k,R,A,D);else for(var L=k.length-1;L>=0;L--)(T=k[L])&&(E=(x<3?T(E):x>3?T(R,A,E):T(R,A))||E);return x>3&&E&&Object.defineProperty(R,A,E),E},u=this&&this.__param||function(k,R){return function(A,D){R(A,D,k)}};Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionService=void 0;const f=o(6114),_=o(456),v=o(511),g=o(8460),p=o(4725),s=o(2585),c=o(9806),a=o(9504),d=o(844),m=o(4841),w=String.fromCharCode(160),S=new RegExp(w,"g");let C=class extends d.Disposable{constructor(k,R,A,D,T,x,E,L,O){super(),this._element=k,this._screenElement=R,this._linkifier=A,this._bufferService=D,this._coreService=T,this._mouseService=x,this._optionsService=E,this._renderService=L,this._coreBrowserService=O,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new v.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new g.EventEmitter),this._onRedrawRequest=this.register(new g.EventEmitter),this._onSelectionChange=this.register(new g.EventEmitter),this._onRequestScrollLines=this.register(new g.EventEmitter),this._mouseMoveListener=M=>this._onMouseMove(M),this._mouseUpListener=M=>this._onMouseUp(M),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(M=>this._onTrim(M)),this.register(this._bufferService.buffers.onBufferActivate(M=>this._onBufferActivate(M))),this.enable(),this._model=new _.SelectionModel(this._bufferService),this._activeSelectionMode=0}get onLinuxMouseSelection(){return this._onLinuxMouseSelection.event}get onRequestRedraw(){return this._onRedrawRequest.event}get onSelectionChange(){return this._onSelectionChange.event}get onRequestScrollLines(){return this._onRequestScrollLines.event}dispose(){this._removeMouseDownListeners()}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const k=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;return!(!k||!R||k[0]===R[0]&&k[1]===R[1])}get selectionText(){const k=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;if(!k||!R)return"";const A=this._bufferService.buffer,D=[];if(this._activeSelectionMode===3){if(k[0]===R[0])return"";const T=k[0]<R[0]?k[0]:R[0],x=k[0]<R[0]?R[0]:k[0];for(let E=k[1];E<=R[1];E++){const L=A.translateBufferLineToString(E,!0,T,x);D.push(L)}}else{const T=k[1]===R[1]?R[0]:void 0;D.push(A.translateBufferLineToString(k[1],!0,k[0],T));for(let x=k[1]+1;x<=R[1]-1;x++){const E=A.lines.get(x),L=A.translateBufferLineToString(x,!0);E!=null&&E.isWrapped?D[D.length-1]+=L:D.push(L)}if(k[1]!==R[1]){const x=A.lines.get(R[1]),E=A.translateBufferLineToString(R[1],!0,0,R[0]);x&&x.isWrapped?D[D.length-1]+=E:D.push(E)}}return D.map(T=>T.replace(S," ")).join(f.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(k){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),f.isLinux&&k&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(k){const R=this._getMouseBufferCoords(k),A=this._model.finalSelectionStart,D=this._model.finalSelectionEnd;return!!(A&&D&&R)&&this._areCoordsInSelection(R,A,D)}isCellInSelection(k,R){const A=this._model.finalSelectionStart,D=this._model.finalSelectionEnd;return!(!A||!D)&&this._areCoordsInSelection([k,R],A,D)}_areCoordsInSelection(k,R,A){return k[1]>R[1]&&k[1]<A[1]||R[1]===A[1]&&k[1]===R[1]&&k[0]>=R[0]&&k[0]<A[0]||R[1]<A[1]&&k[1]===A[1]&&k[0]<A[0]||R[1]<A[1]&&k[1]===R[1]&&k[0]>=R[0]}_selectWordAtCursor(k,R){var A,D;const T=(D=(A=this._linkifier.currentLink)===null||A===void 0?void 0:A.link)===null||D===void 0?void 0:D.range;if(T)return this._model.selectionStart=[T.start.x-1,T.start.y-1],this._model.selectionStartLength=(0,m.getRangeLength)(T,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const x=this._getMouseBufferCoords(k);return!!x&&(this._selectWordAt(x,R),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(k,R){this._model.clearSelection(),k=Math.max(k,0),R=Math.min(R,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,k],this._model.selectionEnd=[this._bufferService.cols,R],this.refresh(),this._onSelectionChange.fire()}_onTrim(k){this._model.onTrim(k)&&this.refresh()}_getMouseBufferCoords(k){const R=this._mouseService.getCoords(k,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(R)return R[0]--,R[1]--,R[1]+=this._bufferService.buffer.ydisp,R}_getMouseEventScrollAmount(k){let R=(0,c.getCoordsRelativeToElement)(this._coreBrowserService.window,k,this._screenElement)[1];const A=this._renderService.dimensions.canvasHeight;return R>=0&&R<=A?0:(R>A&&(R-=A),R=Math.min(Math.max(R,-50),50),R/=50,R/Math.abs(R)+Math.round(14*R))}shouldForceSelection(k){return f.isMac?k.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:k.shiftKey}onMouseDown(k){if(this._mouseDownTimeStamp=k.timeStamp,(k.button!==2||!this.hasSelection)&&k.button===0){if(!this._enabled){if(!this.shouldForceSelection(k))return;k.stopPropagation()}k.preventDefault(),this._dragScrollAmount=0,this._enabled&&k.shiftKey?this._onIncrementalClick(k):k.detail===1?this._onSingleClick(k):k.detail===2?this._onDoubleClick(k):k.detail===3&&this._onTripleClick(k),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_onIncrementalClick(k){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(k))}_onSingleClick(k){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(k)?3:0,this._model.selectionStart=this._getMouseBufferCoords(k),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const R=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);R&&R.length!==this._model.selectionStart[0]&&R.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_onDoubleClick(k){this._selectWordAtCursor(k,!0)&&(this._activeSelectionMode=1)}_onTripleClick(k){const R=this._getMouseBufferCoords(k);R&&(this._activeSelectionMode=2,this._selectLineAt(R[1]))}shouldColumnSelect(k){return k.altKey&&!(f.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_onMouseMove(k){if(k.stopImmediatePropagation(),!this._model.selectionStart)return;const R=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(k),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(k),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const A=this._bufferService.buffer;if(this._model.selectionEnd[1]<A.lines.length){const D=A.lines.get(this._model.selectionEnd[1]);D&&D.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}R&&R[0]===this._model.selectionEnd[0]&&R[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const k=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(k.ydisp+this._bufferService.rows,k.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=k.ydisp),this.refresh()}}_onMouseUp(k){const R=k.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&R<500&&k.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const A=this._mouseService.getCoords(k,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(A&&A[0]!==void 0&&A[1]!==void 0){const D=(0,a.moveToCellSequence)(A[0]-1,A[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(D,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const k=this._model.finalSelectionStart,R=this._model.finalSelectionEnd,A=!(!k||!R||k[0]===R[0]&&k[1]===R[1]);A?k&&R&&(this._oldSelectionStart&&this._oldSelectionEnd&&k[0]===this._oldSelectionStart[0]&&k[1]===this._oldSelectionStart[1]&&R[0]===this._oldSelectionEnd[0]&&R[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(k,R,A)):this._oldHasSelection&&this._fireOnSelectionChange(k,R,A)}_fireOnSelectionChange(k,R,A){this._oldSelectionStart=k,this._oldSelectionEnd=R,this._oldHasSelection=A,this._onSelectionChange.fire()}_onBufferActivate(k){this.clearSelection(),this._trimListener.dispose(),this._trimListener=k.activeBuffer.lines.onTrim(R=>this._onTrim(R))}_convertViewportColToCharacterIndex(k,R){let A=R[0];for(let D=0;R[0]>=D;D++){const T=k.loadCell(D,this._workCell).getChars().length;this._workCell.getWidth()===0?A--:T>1&&R[0]!==D&&(A+=T-1)}return A}setSelection(k,R,A){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[k,R],this._model.selectionStartLength=A,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(k){this._isClickInSelection(k)||(this._selectWordAtCursor(k,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(k,R,A=!0,D=!0){if(k[0]>=this._bufferService.cols)return;const T=this._bufferService.buffer,x=T.lines.get(k[1]);if(!x)return;const E=T.translateBufferLineToString(k[1],!1);let L=this._convertViewportColToCharacterIndex(x,k),O=L;const M=k[0]-L;let V=0,F=0,W=0,G=0;if(E.charAt(L)===" "){for(;L>0&&E.charAt(L-1)===" ";)L--;for(;O<E.length&&E.charAt(O+1)===" ";)O++}else{let ae=k[0],re=k[0];x.getWidth(ae)===0&&(V++,ae--),x.getWidth(re)===2&&(F++,re++);const I=x.getString(re).length;for(I>1&&(G+=I-1,O+=I-1);ae>0&&L>0&&!this._isCharWordSeparator(x.loadCell(ae-1,this._workCell));){x.loadCell(ae-1,this._workCell);const U=this._workCell.getChars().length;this._workCell.getWidth()===0?(V++,ae--):U>1&&(W+=U-1,L-=U-1),L--,ae--}for(;re<x.length&&O+1<E.length&&!this._isCharWordSeparator(x.loadCell(re+1,this._workCell));){x.loadCell(re+1,this._workCell);const U=this._workCell.getChars().length;this._workCell.getWidth()===2?(F++,re++):U>1&&(G+=U-1,O+=U-1),O++,re++}}O++;let te=L+M-V+W,P=Math.min(this._bufferService.cols,O-L+V+F-W-G);if(R||E.slice(L,O).trim()!==""){if(A&&te===0&&x.getCodePoint(0)!==32){const ae=T.lines.get(k[1]-1);if(ae&&x.isWrapped&&ae.getCodePoint(this._bufferService.cols-1)!==32){const re=this._getWordAt([this._bufferService.cols-1,k[1]-1],!1,!0,!1);if(re){const I=this._bufferService.cols-re.start;te-=I,P+=I}}}if(D&&te+P===this._bufferService.cols&&x.getCodePoint(this._bufferService.cols-1)!==32){const ae=T.lines.get(k[1]+1);if((ae==null?void 0:ae.isWrapped)&&ae.getCodePoint(0)!==32){const re=this._getWordAt([0,k[1]+1],!1,!1,!0);re&&(P+=re.length)}}return{start:te,length:P}}}_selectWordAt(k,R){const A=this._getWordAt(k,R);if(A){for(;A.start<0;)A.start+=this._bufferService.cols,k[1]--;this._model.selectionStart=[A.start,k[1]],this._model.selectionStartLength=A.length}}_selectToWordAt(k){const R=this._getWordAt(k,!0);if(R){let A=k[1];for(;R.start<0;)R.start+=this._bufferService.cols,A--;if(!this._model.areSelectionValuesReversed())for(;R.start+R.length>this._bufferService.cols;)R.length-=this._bufferService.cols,A++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?R.start:R.start+R.length,A]}}_isCharWordSeparator(k){return k.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(k.getChars())>=0}_selectLineAt(k){const R=this._bufferService.buffer.getWrappedRangeForLine(k),A={start:{x:0,y:R.first},end:{x:this._bufferService.cols-1,y:R.last}};this._model.selectionStart=[0,R.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,m.getRangeLength)(A,this._bufferService.cols)}};C=n([u(3,s.IBufferService),u(4,s.ICoreService),u(5,p.IMouseService),u(6,s.IOptionsService),u(7,p.IRenderService),u(8,p.ICoreBrowserService)],C),i.SelectionService=C},4725:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ICharacterJoinerService=i.ISelectionService=i.IRenderService=i.IMouseService=i.ICoreBrowserService=i.ICharSizeService=void 0;const n=o(8343);i.ICharSizeService=(0,n.createDecorator)("CharSizeService"),i.ICoreBrowserService=(0,n.createDecorator)("CoreBrowserService"),i.IMouseService=(0,n.createDecorator)("MouseService"),i.IRenderService=(0,n.createDecorator)("RenderService"),i.ISelectionService=(0,n.createDecorator)("SelectionService"),i.ICharacterJoinerService=(0,n.createDecorator)("CharacterJoinerService")},6349:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CircularList=void 0;const n=o(8460);i.CircularList=class{constructor(u){this._maxLength=u,this.onDeleteEmitter=new n.EventEmitter,this.onInsertEmitter=new n.EventEmitter,this.onTrimEmitter=new n.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get onDelete(){return this.onDeleteEmitter.event}get onInsert(){return this.onInsertEmitter.event}get onTrim(){return this.onTrimEmitter.event}get maxLength(){return this._maxLength}set maxLength(u){if(this._maxLength===u)return;const f=new Array(u);for(let _=0;_<Math.min(u,this.length);_++)f[_]=this._array[this._getCyclicIndex(_)];this._array=f,this._maxLength=u,this._startIndex=0}get length(){return this._length}set length(u){if(u>this._length)for(let f=this._length;f<u;f++)this._array[f]=void 0;this._length=u}get(u){return this._array[this._getCyclicIndex(u)]}set(u,f){this._array[this._getCyclicIndex(u)]=f}push(u){this._array[this._getCyclicIndex(this._length)]=u,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(u,f,..._){if(f){for(let v=u;v<this._length-f;v++)this._array[this._getCyclicIndex(v)]=this._array[this._getCyclicIndex(v+f)];this._length-=f,this.onDeleteEmitter.fire({index:u,amount:f})}for(let v=this._length-1;v>=u;v--)this._array[this._getCyclicIndex(v+_.length)]=this._array[this._getCyclicIndex(v)];for(let v=0;v<_.length;v++)this._array[this._getCyclicIndex(u+v)]=_[v];if(_.length&&this.onInsertEmitter.fire({index:u,amount:_.length}),this._length+_.length>this._maxLength){const v=this._length+_.length-this._maxLength;this._startIndex+=v,this._length=this._maxLength,this.onTrimEmitter.fire(v)}else this._length+=_.length}trimStart(u){u>this._length&&(u=this._length),this._startIndex+=u,this._length-=u,this.onTrimEmitter.fire(u)}shiftElements(u,f,_){if(!(f<=0)){if(u<0||u>=this._length)throw new Error("start argument out of range");if(u+_<0)throw new Error("Cannot shift elements in list beyond index 0");if(_>0){for(let g=f-1;g>=0;g--)this.set(u+g+_,this.get(u+g));const v=u+f+_-this._length;if(v>0)for(this._length+=v;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let v=0;v<f;v++)this.set(u+v+_,this.get(u+v))}}_getCyclicIndex(u){return(this._startIndex+u)%this._maxLength}}},1439:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.clone=void 0,i.clone=function o(n,u=5){if(typeof n!="object")return n;const f=Array.isArray(n)?[]:{};for(const _ in n)f[_]=u<=1?n[_]:n[_]&&o(n[_],u-1);return f}},8055:(y,i)=>{var o,n,u;function f(v){const g=v.toString(16);return g.length<2?"0"+g:g}function _(v,g){return v<g?(g+.05)/(v+.05):(v+.05)/(g+.05)}Object.defineProperty(i,"__esModule",{value:!0}),i.contrastRatio=i.toPaddedHex=i.rgba=i.rgb=i.css=i.color=i.channels=void 0,function(v){v.toCss=function(g,p,s,c){return c!==void 0?`#${f(g)}${f(p)}${f(s)}${f(c)}`:`#${f(g)}${f(p)}${f(s)}`},v.toRgba=function(g,p,s,c=255){return(g<<24|p<<16|s<<8|c)>>>0}}(o=i.channels||(i.channels={})),function(v){function g(p,s){const c=Math.round(255*s),[a,d,m]=u.toChannels(p.rgba);return{css:o.toCss(a,d,m,c),rgba:o.toRgba(a,d,m,c)}}v.blend=function(p,s){const c=(255&s.rgba)/255;if(c===1)return{css:s.css,rgba:s.rgba};const a=s.rgba>>24&255,d=s.rgba>>16&255,m=s.rgba>>8&255,w=p.rgba>>24&255,S=p.rgba>>16&255,C=p.rgba>>8&255,k=w+Math.round((a-w)*c),R=S+Math.round((d-S)*c),A=C+Math.round((m-C)*c);return{css:o.toCss(k,R,A),rgba:o.toRgba(k,R,A)}},v.isOpaque=function(p){return(255&p.rgba)==255},v.ensureContrastRatio=function(p,s,c){const a=u.ensureContrastRatio(p.rgba,s.rgba,c);if(a)return u.toColor(a>>24&255,a>>16&255,a>>8&255)},v.opaque=function(p){const s=(255|p.rgba)>>>0,[c,a,d]=u.toChannels(s);return{css:o.toCss(c,a,d),rgba:s}},v.opacity=g,v.multiplyOpacity=function(p,s){return g(p,(255&p.rgba)*s/255)},v.toColorRGB=function(p){return[p.rgba>>24&255,p.rgba>>16&255,p.rgba>>8&255]}}(i.color||(i.color={})),(i.css||(i.css={})).toColor=function(v){if(v.match(/#[0-9a-f]{3,8}/i))switch(v.length){case 4:{const p=parseInt(v.slice(1,2).repeat(2),16),s=parseInt(v.slice(2,3).repeat(2),16),c=parseInt(v.slice(3,4).repeat(2),16);return u.toColor(p,s,c)}case 5:{const p=parseInt(v.slice(1,2).repeat(2),16),s=parseInt(v.slice(2,3).repeat(2),16),c=parseInt(v.slice(3,4).repeat(2),16),a=parseInt(v.slice(4,5).repeat(2),16);return u.toColor(p,s,c,a)}case 7:return{css:v,rgba:(parseInt(v.slice(1),16)<<8|255)>>>0};case 9:return{css:v,rgba:parseInt(v.slice(1),16)>>>0}}const g=v.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(g){const p=parseInt(g[1]),s=parseInt(g[2]),c=parseInt(g[3]),a=Math.round(255*(g[5]===void 0?1:parseFloat(g[5])));return u.toColor(p,s,c,a)}throw new Error("css.toColor: Unsupported css format")},function(v){function g(p,s,c){const a=p/255,d=s/255,m=c/255;return .2126*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))+.7152*(d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4))+.0722*(m<=.03928?m/12.92:Math.pow((m+.055)/1.055,2.4))}v.relativeLuminance=function(p){return g(p>>16&255,p>>8&255,255&p)},v.relativeLuminance2=g}(n=i.rgb||(i.rgb={})),function(v){function g(s,c,a){const d=s>>24&255,m=s>>16&255,w=s>>8&255;let S=c>>24&255,C=c>>16&255,k=c>>8&255,R=_(n.relativeLuminance2(S,C,k),n.relativeLuminance2(d,m,w));for(;R<a&&(S>0||C>0||k>0);)S-=Math.max(0,Math.ceil(.1*S)),C-=Math.max(0,Math.ceil(.1*C)),k-=Math.max(0,Math.ceil(.1*k)),R=_(n.relativeLuminance2(S,C,k),n.relativeLuminance2(d,m,w));return(S<<24|C<<16|k<<8|255)>>>0}function p(s,c,a){const d=s>>24&255,m=s>>16&255,w=s>>8&255;let S=c>>24&255,C=c>>16&255,k=c>>8&255,R=_(n.relativeLuminance2(S,C,k),n.relativeLuminance2(d,m,w));for(;R<a&&(S<255||C<255||k<255);)S=Math.min(255,S+Math.ceil(.1*(255-S))),C=Math.min(255,C+Math.ceil(.1*(255-C))),k=Math.min(255,k+Math.ceil(.1*(255-k))),R=_(n.relativeLuminance2(S,C,k),n.relativeLuminance2(d,m,w));return(S<<24|C<<16|k<<8|255)>>>0}v.ensureContrastRatio=function(s,c,a){const d=n.relativeLuminance(s>>8),m=n.relativeLuminance(c>>8);if(_(d,m)<a){if(m<d){const C=g(s,c,a),k=_(d,n.relativeLuminance(C>>8));if(k<a){const R=p(s,c,a);return k>_(d,n.relativeLuminance(R>>8))?C:R}return C}const w=p(s,c,a),S=_(d,n.relativeLuminance(w>>8));if(S<a){const C=g(s,c,a);return S>_(d,n.relativeLuminance(C>>8))?w:C}return w}},v.reduceLuminance=g,v.increaseLuminance=p,v.toChannels=function(s){return[s>>24&255,s>>16&255,s>>8&255,255&s]},v.toColor=function(s,c,a,d){return{css:o.toCss(s,c,a,d),rgba:o.toRgba(s,c,a,d)}}}(u=i.rgba||(i.rgba={})),i.toPaddedHex=f,i.contrastRatio=_},8969:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoreTerminal=void 0;const n=o(844),u=o(2585),f=o(4348),_=o(7866),v=o(744),g=o(7302),p=o(6975),s=o(8460),c=o(1753),a=o(3730),d=o(1480),m=o(7994),w=o(9282),S=o(5435),C=o(5981),k=o(2660);let R=!1;class A extends n.Disposable{constructor(T){super(),this._onBinary=new s.EventEmitter,this._onData=new s.EventEmitter,this._onLineFeed=new s.EventEmitter,this._onResize=new s.EventEmitter,this._onScroll=new s.EventEmitter,this._onWriteParsed=new s.EventEmitter,this._instantiationService=new f.InstantiationService,this.optionsService=new g.OptionsService(T),this._instantiationService.setService(u.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(v.BufferService)),this._instantiationService.setService(u.IBufferService,this._bufferService),this._logService=this._instantiationService.createInstance(_.LogService),this._instantiationService.setService(u.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(p.CoreService,()=>this.scrollToBottom())),this._instantiationService.setService(u.ICoreService,this.coreService),this.coreMouseService=this._instantiationService.createInstance(c.CoreMouseService),this._instantiationService.setService(u.ICoreMouseService,this.coreMouseService),this._dirtyRowService=this._instantiationService.createInstance(a.DirtyRowService),this._instantiationService.setService(u.IDirtyRowService,this._dirtyRowService),this.unicodeService=this._instantiationService.createInstance(d.UnicodeService),this._instantiationService.setService(u.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(m.CharsetService),this._instantiationService.setService(u.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(k.OscLinkService),this._instantiationService.setService(u.IOscLinkService,this._oscLinkService),this._inputHandler=new S.InputHandler(this._bufferService,this._charsetService,this.coreService,this._dirtyRowService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService),this.register((0,s.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,s.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,s.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,s.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.optionsService.onOptionChange(x=>this._updateOptions(x))),this.register(this._bufferService.onScroll(x=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._dirtyRowService.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(x=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._dirtyRowService.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=new C.WriteBuffer((x,E)=>this._inputHandler.parse(x,E)),this.register((0,s.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}get onBinary(){return this._onBinary.event}get onData(){return this._onData.event}get onLineFeed(){return this._onLineFeed.event}get onResize(){return this._onResize.event}get onWriteParsed(){return this._onWriteParsed.event}get onScroll(){return this._onScrollApi||(this._onScrollApi=new s.EventEmitter,this.register(this._onScroll.event(T=>{var x;(x=this._onScrollApi)===null||x===void 0||x.fire(T.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(T){for(const x in T)this.optionsService.options[x]=T[x]}dispose(){var T;this._isDisposed||(super.dispose(),(T=this._windowsMode)===null||T===void 0||T.dispose(),this._windowsMode=void 0)}write(T,x){this._writeBuffer.write(T,x)}writeSync(T,x){this._logService.logLevel<=u.LogLevelEnum.WARN&&!R&&(this._logService.warn("writeSync is unreliable and will be removed soon."),R=!0),this._writeBuffer.writeSync(T,x)}resize(T,x){isNaN(T)||isNaN(x)||(T=Math.max(T,v.MINIMUM_COLS),x=Math.max(x,v.MINIMUM_ROWS),this._bufferService.resize(T,x))}scroll(T,x=!1){this._bufferService.scroll(T,x)}scrollLines(T,x,E){this._bufferService.scrollLines(T,x,E)}scrollPages(T){this._bufferService.scrollPages(T)}scrollToTop(){this._bufferService.scrollToTop()}scrollToBottom(){this._bufferService.scrollToBottom()}scrollToLine(T){this._bufferService.scrollToLine(T)}registerEscHandler(T,x){return this._inputHandler.registerEscHandler(T,x)}registerDcsHandler(T,x){return this._inputHandler.registerDcsHandler(T,x)}registerCsiHandler(T,x){return this._inputHandler.registerCsiHandler(T,x)}registerOscHandler(T,x){return this._inputHandler.registerOscHandler(T,x)}_setup(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_updateOptions(T){var x;switch(T){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.rawOptions.windowsMode?this._enableWindowsMode():((x=this._windowsMode)===null||x===void 0||x.dispose(),this._windowsMode=void 0)}}_enableWindowsMode(){if(!this._windowsMode){const T=[];T.push(this.onLineFeed(w.updateWindowsModeWrappedState.bind(null,this._bufferService))),T.push(this.registerCsiHandler({final:"H"},()=>((0,w.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsMode={dispose:()=>{for(const x of T)x.dispose()}}}}}i.CoreTerminal=A},8460:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.forwardEvent=i.EventEmitter=void 0,i.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=o=>(this._listeners.push(o),{dispose:()=>{if(!this._disposed){for(let n=0;n<this._listeners.length;n++)if(this._listeners[n]===o)return void this._listeners.splice(n,1)}}})),this._event}fire(o,n){const u=[];for(let f=0;f<this._listeners.length;f++)u.push(this._listeners[f]);for(let f=0;f<u.length;f++)u[f].call(void 0,o,n)}dispose(){this._listeners&&(this._listeners.length=0),this._disposed=!0}},i.forwardEvent=function(o,n){return o(u=>n.fire(u))}},5435:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.InputHandler=i.WindowsOptionsReportType=void 0;const n=o(2584),u=o(7116),f=o(2015),_=o(844),v=o(482),g=o(8437),p=o(8460),s=o(643),c=o(511),a=o(3734),d=o(2585),m=o(6242),w=o(6351),S=o(5941),C={"(":0,")":1,"*":2,"+":3,"-":1,".":2},k=131072;function R(T,x){if(T>24)return x.setWinLines||!1;switch(T){case 1:return!!x.restoreWin;case 2:return!!x.minimizeWin;case 3:return!!x.setWinPosition;case 4:return!!x.setWinSizePixels;case 5:return!!x.raiseWin;case 6:return!!x.lowerWin;case 7:return!!x.refreshWin;case 8:return!!x.setWinSizeChars;case 9:return!!x.maximizeWin;case 10:return!!x.fullscreenWin;case 11:return!!x.getWinState;case 13:return!!x.getWinPosition;case 14:return!!x.getWinSizePixels;case 15:return!!x.getScreenSizePixels;case 16:return!!x.getCellSizePixels;case 18:return!!x.getWinSizeChars;case 19:return!!x.getScreenSizeChars;case 20:return!!x.getIconTitle;case 21:return!!x.getWinTitle;case 22:return!!x.pushTitle;case 23:return!!x.popTitle;case 24:return!!x.setWinLines}return!1}var A;(function(T){T[T.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",T[T.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(A=i.WindowsOptionsReportType||(i.WindowsOptionsReportType={}));class D extends _.Disposable{constructor(x,E,L,O,M,V,F,W,G,te=new f.EscapeSequenceParser){super(),this._bufferService=x,this._charsetService=E,this._coreService=L,this._dirtyRowService=O,this._logService=M,this._optionsService=V,this._oscLinkService=F,this._coreMouseService=W,this._unicodeService=G,this._parser=te,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new v.StringToUtf32,this._utf8Decoder=new v.Utf8ToUtf32,this._workCell=new c.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=g.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=g.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=new p.EventEmitter,this._onRequestRefreshRows=new p.EventEmitter,this._onRequestReset=new p.EventEmitter,this._onRequestSendFocus=new p.EventEmitter,this._onRequestSyncScrollBar=new p.EventEmitter,this._onRequestWindowsOptionsReport=new p.EventEmitter,this._onA11yChar=new p.EventEmitter,this._onA11yTab=new p.EventEmitter,this._onCursorMove=new p.EventEmitter,this._onLineFeed=new p.EventEmitter,this._onScroll=new p.EventEmitter,this._onTitleChange=new p.EventEmitter,this._onColor=new p.EventEmitter,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(P=>this._activeBuffer=P.activeBuffer)),this._parser.setCsiHandlerFallback((P,ae)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(P),params:ae.toArray()})}),this._parser.setEscHandlerFallback(P=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(P)})}),this._parser.setExecuteHandlerFallback(P=>{this._logService.debug("Unknown EXECUTE code: ",{code:P})}),this._parser.setOscHandlerFallback((P,ae,re)=>{this._logService.debug("Unknown OSC code: ",{identifier:P,action:ae,data:re})}),this._parser.setDcsHandlerFallback((P,ae,re)=>{ae==="HOOK"&&(re=re.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(P),action:ae,payload:re})}),this._parser.setPrintHandler((P,ae,re)=>this.print(P,ae,re)),this._parser.registerCsiHandler({final:"@"},P=>this.insertChars(P)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},P=>this.scrollLeft(P)),this._parser.registerCsiHandler({final:"A"},P=>this.cursorUp(P)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},P=>this.scrollRight(P)),this._parser.registerCsiHandler({final:"B"},P=>this.cursorDown(P)),this._parser.registerCsiHandler({final:"C"},P=>this.cursorForward(P)),this._parser.registerCsiHandler({final:"D"},P=>this.cursorBackward(P)),this._parser.registerCsiHandler({final:"E"},P=>this.cursorNextLine(P)),this._parser.registerCsiHandler({final:"F"},P=>this.cursorPrecedingLine(P)),this._parser.registerCsiHandler({final:"G"},P=>this.cursorCharAbsolute(P)),this._parser.registerCsiHandler({final:"H"},P=>this.cursorPosition(P)),this._parser.registerCsiHandler({final:"I"},P=>this.cursorForwardTab(P)),this._parser.registerCsiHandler({final:"J"},P=>this.eraseInDisplay(P,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},P=>this.eraseInDisplay(P,!0)),this._parser.registerCsiHandler({final:"K"},P=>this.eraseInLine(P,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},P=>this.eraseInLine(P,!0)),this._parser.registerCsiHandler({final:"L"},P=>this.insertLines(P)),this._parser.registerCsiHandler({final:"M"},P=>this.deleteLines(P)),this._parser.registerCsiHandler({final:"P"},P=>this.deleteChars(P)),this._parser.registerCsiHandler({final:"S"},P=>this.scrollUp(P)),this._parser.registerCsiHandler({final:"T"},P=>this.scrollDown(P)),this._parser.registerCsiHandler({final:"X"},P=>this.eraseChars(P)),this._parser.registerCsiHandler({final:"Z"},P=>this.cursorBackwardTab(P)),this._parser.registerCsiHandler({final:"`"},P=>this.charPosAbsolute(P)),this._parser.registerCsiHandler({final:"a"},P=>this.hPositionRelative(P)),this._parser.registerCsiHandler({final:"b"},P=>this.repeatPrecedingCharacter(P)),this._parser.registerCsiHandler({final:"c"},P=>this.sendDeviceAttributesPrimary(P)),this._parser.registerCsiHandler({prefix:">",final:"c"},P=>this.sendDeviceAttributesSecondary(P)),this._parser.registerCsiHandler({final:"d"},P=>this.linePosAbsolute(P)),this._parser.registerCsiHandler({final:"e"},P=>this.vPositionRelative(P)),this._parser.registerCsiHandler({final:"f"},P=>this.hVPosition(P)),this._parser.registerCsiHandler({final:"g"},P=>this.tabClear(P)),this._parser.registerCsiHandler({final:"h"},P=>this.setMode(P)),this._parser.registerCsiHandler({prefix:"?",final:"h"},P=>this.setModePrivate(P)),this._parser.registerCsiHandler({final:"l"},P=>this.resetMode(P)),this._parser.registerCsiHandler({prefix:"?",final:"l"},P=>this.resetModePrivate(P)),this._parser.registerCsiHandler({final:"m"},P=>this.charAttributes(P)),this._parser.registerCsiHandler({final:"n"},P=>this.deviceStatus(P)),this._parser.registerCsiHandler({prefix:"?",final:"n"},P=>this.deviceStatusPrivate(P)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},P=>this.softReset(P)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},P=>this.setCursorStyle(P)),this._parser.registerCsiHandler({final:"r"},P=>this.setScrollRegion(P)),this._parser.registerCsiHandler({final:"s"},P=>this.saveCursor(P)),this._parser.registerCsiHandler({final:"t"},P=>this.windowOptions(P)),this._parser.registerCsiHandler({final:"u"},P=>this.restoreCursor(P)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},P=>this.insertColumns(P)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},P=>this.deleteColumns(P)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},P=>this.selectProtected(P)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},P=>this.requestMode(P,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},P=>this.requestMode(P,!1)),this._parser.setExecuteHandler(n.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(n.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(n.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(n.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(n.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(n.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(n.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(n.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(n.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(n.C1.IND,()=>this.index()),this._parser.setExecuteHandler(n.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(n.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new m.OscHandler(P=>(this.setTitle(P),this.setIconName(P),!0))),this._parser.registerOscHandler(1,new m.OscHandler(P=>this.setIconName(P))),this._parser.registerOscHandler(2,new m.OscHandler(P=>this.setTitle(P))),this._parser.registerOscHandler(4,new m.OscHandler(P=>this.setOrReportIndexedColor(P))),this._parser.registerOscHandler(8,new m.OscHandler(P=>this.setHyperlink(P))),this._parser.registerOscHandler(10,new m.OscHandler(P=>this.setOrReportFgColor(P))),this._parser.registerOscHandler(11,new m.OscHandler(P=>this.setOrReportBgColor(P))),this._parser.registerOscHandler(12,new m.OscHandler(P=>this.setOrReportCursorColor(P))),this._parser.registerOscHandler(104,new m.OscHandler(P=>this.restoreIndexedColor(P))),this._parser.registerOscHandler(110,new m.OscHandler(P=>this.restoreFgColor(P))),this._parser.registerOscHandler(111,new m.OscHandler(P=>this.restoreBgColor(P))),this._parser.registerOscHandler(112,new m.OscHandler(P=>this.restoreCursorColor(P))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const P in u.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:P},()=>this.selectCharset("("+P)),this._parser.registerEscHandler({intermediates:")",final:P},()=>this.selectCharset(")"+P)),this._parser.registerEscHandler({intermediates:"*",final:P},()=>this.selectCharset("*"+P)),this._parser.registerEscHandler({intermediates:"+",final:P},()=>this.selectCharset("+"+P)),this._parser.registerEscHandler({intermediates:"-",final:P},()=>this.selectCharset("-"+P)),this._parser.registerEscHandler({intermediates:".",final:P},()=>this.selectCharset("."+P)),this._parser.registerEscHandler({intermediates:"/",final:P},()=>this.selectCharset("/"+P));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(P=>(this._logService.error("Parsing error: ",P),P)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new w.DcsHandler((P,ae)=>this.requestStatusString(P,ae)))}getAttrData(){return this._curAttrData}get onRequestBell(){return this._onRequestBell.event}get onRequestRefreshRows(){return this._onRequestRefreshRows.event}get onRequestReset(){return this._onRequestReset.event}get onRequestSendFocus(){return this._onRequestSendFocus.event}get onRequestSyncScrollBar(){return this._onRequestSyncScrollBar.event}get onRequestWindowsOptionsReport(){return this._onRequestWindowsOptionsReport.event}get onA11yChar(){return this._onA11yChar.event}get onA11yTab(){return this._onA11yTab.event}get onCursorMove(){return this._onCursorMove.event}get onLineFeed(){return this._onLineFeed.event}get onScroll(){return this._onScroll.event}get onTitleChange(){return this._onTitleChange.event}get onColor(){return this._onColor.event}dispose(){super.dispose()}_preserveStack(x,E,L,O){this._parseStack.paused=!0,this._parseStack.cursorStartX=x,this._parseStack.cursorStartY=E,this._parseStack.decodedLength=L,this._parseStack.position=O}_logSlowResolvingAsync(x){this._logService.logLevel<=d.LogLevelEnum.WARN&&Promise.race([x,new Promise((E,L)=>setTimeout(()=>L("#SLOW_TIMEOUT"),5e3))]).catch(E=>{if(E!=="#SLOW_TIMEOUT")throw E;console.warn("async parser handler taking longer than 5000 ms")})}parse(x,E){let L,O=this._activeBuffer.x,M=this._activeBuffer.y,V=0;const F=this._parseStack.paused;if(F){if(L=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,E))return this._logSlowResolvingAsync(L),L;O=this._parseStack.cursorStartX,M=this._parseStack.cursorStartY,this._parseStack.paused=!1,x.length>k&&(V=this._parseStack.position+k)}if(this._logService.logLevel<=d.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof x=="string"?` "${x}"`:` "${Array.prototype.map.call(x,W=>String.fromCharCode(W)).join("")}"`),typeof x=="string"?x.split("").map(W=>W.charCodeAt(0)):x),this._parseBuffer.length<x.length&&this._parseBuffer.length<k&&(this._parseBuffer=new Uint32Array(Math.min(x.length,k))),F||this._dirtyRowService.clearRange(),x.length>k)for(let W=V;W<x.length;W+=k){const G=W+k<x.length?W+k:x.length,te=typeof x=="string"?this._stringDecoder.decode(x.substring(W,G),this._parseBuffer):this._utf8Decoder.decode(x.subarray(W,G),this._parseBuffer);if(L=this._parser.parse(this._parseBuffer,te))return this._preserveStack(O,M,te,W),this._logSlowResolvingAsync(L),L}else if(!F){const W=typeof x=="string"?this._stringDecoder.decode(x,this._parseBuffer):this._utf8Decoder.decode(x,this._parseBuffer);if(L=this._parser.parse(this._parseBuffer,W))return this._preserveStack(O,M,W,0),this._logSlowResolvingAsync(L),L}this._activeBuffer.x===O&&this._activeBuffer.y===M||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)}print(x,E,L){let O,M;const V=this._charsetService.charset,F=this._optionsService.rawOptions.screenReaderMode,W=this._bufferService.cols,G=this._coreService.decPrivateModes.wraparound,te=this._coreService.modes.insertMode,P=this._curAttrData;let ae=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowService.markDirty(this._activeBuffer.y),this._activeBuffer.x&&L-E>0&&ae.getWidth(this._activeBuffer.x-1)===2&&ae.setCellFromCodePoint(this._activeBuffer.x-1,0,1,P.fg,P.bg,P.extended);for(let re=E;re<L;++re){if(O=x[re],M=this._unicodeService.wcwidth(O),O<127&&V){const I=V[String.fromCharCode(O)];I&&(O=I.charCodeAt(0))}if(F&&this._onA11yChar.fire((0,v.stringFromCodePoint)(O)),this._currentLinkId!==void 0&&this._oscLinkService.addLineToLink(this._currentLinkId,this._activeBuffer.ybase+this._activeBuffer.y),M||!this._activeBuffer.x){if(this._activeBuffer.x+M-1>=W){if(G){for(;this._activeBuffer.x<W;)ae.setCellFromCodePoint(this._activeBuffer.x++,0,1,P.fg,P.bg,P.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),ae=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=W-1,M===2)continue}if(te&&(ae.insertCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(P),P),ae.getWidth(W-1)===2&&ae.setCellFromCodePoint(W-1,s.NULL_CELL_CODE,s.NULL_CELL_WIDTH,P.fg,P.bg,P.extended)),ae.setCellFromCodePoint(this._activeBuffer.x++,O,M,P.fg,P.bg,P.extended),M>0)for(;--M;)ae.setCellFromCodePoint(this._activeBuffer.x++,0,0,P.fg,P.bg,P.extended)}else ae.getWidth(this._activeBuffer.x-1)?ae.addCodepointToCell(this._activeBuffer.x-1,O):ae.addCodepointToCell(this._activeBuffer.x-2,O)}L-E>0&&(ae.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<W&&L-E>0&&ae.getWidth(this._activeBuffer.x)===0&&!ae.hasContent(this._activeBuffer.x)&&ae.setCellFromCodePoint(this._activeBuffer.x,0,1,P.fg,P.bg,P.extended),this._dirtyRowService.markDirty(this._activeBuffer.y)}registerCsiHandler(x,E){return x.final!=="t"||x.prefix||x.intermediates?this._parser.registerCsiHandler(x,E):this._parser.registerCsiHandler(x,L=>!R(L.params[0],this._optionsService.rawOptions.windowOptions)||E(L))}registerDcsHandler(x,E){return this._parser.registerDcsHandler(x,new w.DcsHandler(E))}registerEscHandler(x,E){return this._parser.registerEscHandler(x,E)}registerOscHandler(x,E){return this._parser.registerOscHandler(x,new m.OscHandler(E))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowService.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowService.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var x;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((x=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||x===void 0?void 0:x.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const E=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);E.hasWidth(this._activeBuffer.x)&&!E.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const x=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-x),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(x=this._bufferService.cols-1){this._activeBuffer.x=Math.min(x,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowService.markDirty(this._activeBuffer.y)}_setCursor(x,E){this._dirtyRowService.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=x,this._activeBuffer.y=this._activeBuffer.scrollTop+E):(this._activeBuffer.x=x,this._activeBuffer.y=E),this._restrictCursor(),this._dirtyRowService.markDirty(this._activeBuffer.y)}_moveCursor(x,E){this._restrictCursor(),this._setCursor(this._activeBuffer.x+x,this._activeBuffer.y+E)}cursorUp(x){const E=this._activeBuffer.y-this._activeBuffer.scrollTop;return E>=0?this._moveCursor(0,-Math.min(E,x.params[0]||1)):this._moveCursor(0,-(x.params[0]||1)),!0}cursorDown(x){const E=this._activeBuffer.scrollBottom-this._activeBuffer.y;return E>=0?this._moveCursor(0,Math.min(E,x.params[0]||1)):this._moveCursor(0,x.params[0]||1),!0}cursorForward(x){return this._moveCursor(x.params[0]||1,0),!0}cursorBackward(x){return this._moveCursor(-(x.params[0]||1),0),!0}cursorNextLine(x){return this.cursorDown(x),this._activeBuffer.x=0,!0}cursorPrecedingLine(x){return this.cursorUp(x),this._activeBuffer.x=0,!0}cursorCharAbsolute(x){return this._setCursor((x.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(x){return this._setCursor(x.length>=2?(x.params[1]||1)-1:0,(x.params[0]||1)-1),!0}charPosAbsolute(x){return this._setCursor((x.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(x){return this._moveCursor(x.params[0]||1,0),!0}linePosAbsolute(x){return this._setCursor(this._activeBuffer.x,(x.params[0]||1)-1),!0}vPositionRelative(x){return this._moveCursor(0,x.params[0]||1),!0}hVPosition(x){return this.cursorPosition(x),!0}tabClear(x){const E=x.params[0];return E===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:E===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(x){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let E=x.params[0]||1;for(;E--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(x){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let E=x.params[0]||1;for(;E--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(x){const E=x.params[0];return E===1&&(this._curAttrData.bg|=536870912),E!==2&&E!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(x,E,L,O=!1,M=!1){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+x);V.replaceCells(E,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),M),O&&(V.isWrapped=!1)}_resetBufferLine(x,E=!1){const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+x);L.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),E),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+x),L.isWrapped=!1}eraseInDisplay(x,E=!1){let L;switch(this._restrictCursor(this._bufferService.cols),x.params[0]){case 0:for(L=this._activeBuffer.y,this._dirtyRowService.markDirty(L),this._eraseInBufferLine(L++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,E);L<this._bufferService.rows;L++)this._resetBufferLine(L,E);this._dirtyRowService.markDirty(L);break;case 1:for(L=this._activeBuffer.y,this._dirtyRowService.markDirty(L),this._eraseInBufferLine(L,0,this._activeBuffer.x+1,!0,E),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(L+1).isWrapped=!1);L--;)this._resetBufferLine(L,E);this._dirtyRowService.markDirty(0);break;case 2:for(L=this._bufferService.rows,this._dirtyRowService.markDirty(L-1);L--;)this._resetBufferLine(L,E);this._dirtyRowService.markDirty(0);break;case 3:const O=this._activeBuffer.lines.length-this._bufferService.rows;O>0&&(this._activeBuffer.lines.trimStart(O),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-O,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-O,0),this._onScroll.fire(0))}return!0}eraseInLine(x,E=!1){switch(this._restrictCursor(this._bufferService.cols),x.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,E);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,E);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,E)}return this._dirtyRowService.markDirty(this._activeBuffer.y),!0}insertLines(x){this._restrictCursor();let E=x.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=this._activeBuffer.ybase+this._activeBuffer.y,O=this._bufferService.rows-1-this._activeBuffer.scrollBottom,M=this._bufferService.rows-1+this._activeBuffer.ybase-O+1;for(;E--;)this._activeBuffer.lines.splice(M-1,1),this._activeBuffer.lines.splice(L,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(x){this._restrictCursor();let E=x.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=this._activeBuffer.ybase+this._activeBuffer.y;let O;for(O=this._bufferService.rows-1-this._activeBuffer.scrollBottom,O=this._bufferService.rows-1+this._activeBuffer.ybase-O;E--;)this._activeBuffer.lines.splice(L,1),this._activeBuffer.lines.splice(O,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(x){this._restrictCursor();const E=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return E&&(E.insertCells(this._activeBuffer.x,x.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0}deleteChars(x){this._restrictCursor();const E=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return E&&(E.deleteCells(this._activeBuffer.x,x.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0}scrollUp(x){let E=x.params[0]||1;for(;E--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(x){let E=x.params[0]||1;for(;E--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(g.DEFAULT_ATTR_DATA));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const E=x.params[0]||1;for(let L=this._activeBuffer.scrollTop;L<=this._activeBuffer.scrollBottom;++L){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);O.deleteCells(0,E,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const E=x.params[0]||1;for(let L=this._activeBuffer.scrollTop;L<=this._activeBuffer.scrollBottom;++L){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);O.insertCells(0,E,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const E=x.params[0]||1;for(let L=this._activeBuffer.scrollTop;L<=this._activeBuffer.scrollBottom;++L){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);O.insertCells(this._activeBuffer.x,E,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const E=x.params[0]||1;for(let L=this._activeBuffer.scrollTop;L<=this._activeBuffer.scrollBottom;++L){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);O.deleteCells(this._activeBuffer.x,E,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(x){this._restrictCursor();const E=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return E&&(E.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(x.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(x){if(!this._parser.precedingCodepoint)return!0;const E=x.params[0]||1,L=new Uint32Array(E);for(let O=0;O<E;++O)L[O]=this._parser.precedingCodepoint;return this.print(L,0,L.length),!0}sendDeviceAttributesPrimary(x){return x.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(n.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(n.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(x){return x.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(n.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(n.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(x.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(n.C0.ESC+"[>83;40003;0c")),!0}_is(x){return(this._optionsService.rawOptions.termName+"").indexOf(x)===0}setMode(x){for(let E=0;E<x.length;E++)switch(x.params[E]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(x){for(let E=0;E<x.length;E++)switch(x.params[E]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,u.DEFAULT_CHARSET),this._charsetService.setgCharset(1,u.DEFAULT_CHARSET),this._charsetService.setgCharset(2,u.DEFAULT_CHARSET),this._charsetService.setgCharset(3,u.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(x){for(let E=0;E<x.length;E++)switch(x.params[E]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(x){for(let E=0;E<x.length;E++)switch(x.params[E]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),x.params[E]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(x,E){const L=this._coreService.decPrivateModes,{activeProtocol:O,activeEncoding:M}=this._coreMouseService,V=this._coreService,{buffers:F,cols:W}=this._bufferService,{active:G,alt:te}=F,P=this._optionsService.rawOptions,ae=oe=>oe?1:2,re=x.params[0];return I=re,U=E?re===2?3:re===4?ae(V.modes.insertMode):re===12?4:re===20?ae(P.convertEol):0:re===1?ae(L.applicationCursorKeys):re===3?P.windowOptions.setWinLines?W===80?2:W===132?1:0:0:re===6?ae(L.origin):re===7?ae(L.wraparound):re===8?3:re===9?ae(O==="X10"):re===12?ae(P.cursorBlink):re===25?ae(!V.isCursorHidden):re===45?ae(L.reverseWraparound):re===66?ae(L.applicationKeypad):re===1e3?ae(O==="VT200"):re===1002?ae(O==="DRAG"):re===1003?ae(O==="ANY"):re===1004?ae(L.sendFocus):re===1005?4:re===1006?ae(M==="SGR"):re===1015?4:re===1016?ae(M==="SGR_PIXELS"):re===1048?1:re===47||re===1047||re===1049?ae(G===te):re===2004?ae(L.bracketedPasteMode):0,V.triggerDataEvent(`${n.C0.ESC}[${E?"":"?"}${I};${U}$y`),!0;var I,U}_updateAttrColor(x,E,L,O,M){return E===2?(x|=50331648,x&=-16777216,x|=a.AttributeData.fromColorRGB([L,O,M])):E===5&&(x&=-50331904,x|=33554432|255&L),x}_extractColor(x,E,L){const O=[0,0,-1,0,0,0];let M=0,V=0;do{if(O[V+M]=x.params[E+V],x.hasSubParams(E+V)){const F=x.getSubParams(E+V);let W=0;do O[1]===5&&(M=1),O[V+W+1+M]=F[W];while(++W<F.length&&W+V+1+M<O.length);break}if(O[1]===5&&V+M>=2||O[1]===2&&V+M>=5)break;O[1]&&(M=1)}while(++V+E<x.length&&V+M<O.length);for(let F=2;F<O.length;++F)O[F]===-1&&(O[F]=0);switch(O[0]){case 38:L.fg=this._updateAttrColor(L.fg,O[1],O[3],O[4],O[5]);break;case 48:L.bg=this._updateAttrColor(L.bg,O[1],O[3],O[4],O[5]);break;case 58:L.extended=L.extended.clone(),L.extended.underlineColor=this._updateAttrColor(L.extended.underlineColor,O[1],O[3],O[4],O[5])}return V}_processUnderline(x,E){E.extended=E.extended.clone(),(!~x||x>5)&&(x=1),E.extended.underlineStyle=x,E.fg|=268435456,x===0&&(E.fg&=-268435457),E.updateExtended()}charAttributes(x){if(x.length===1&&x.params[0]===0)return this._curAttrData.fg=g.DEFAULT_ATTR_DATA.fg,this._curAttrData.bg=g.DEFAULT_ATTR_DATA.bg,!0;const E=x.length;let L;const O=this._curAttrData;for(let M=0;M<E;M++)L=x.params[M],L>=30&&L<=37?(O.fg&=-50331904,O.fg|=16777216|L-30):L>=40&&L<=47?(O.bg&=-50331904,O.bg|=16777216|L-40):L>=90&&L<=97?(O.fg&=-50331904,O.fg|=16777224|L-90):L>=100&&L<=107?(O.bg&=-50331904,O.bg|=16777224|L-100):L===0?(O.fg=g.DEFAULT_ATTR_DATA.fg,O.bg=g.DEFAULT_ATTR_DATA.bg):L===1?O.fg|=134217728:L===3?O.bg|=67108864:L===4?(O.fg|=268435456,this._processUnderline(x.hasSubParams(M)?x.getSubParams(M)[0]:1,O)):L===5?O.fg|=536870912:L===7?O.fg|=67108864:L===8?O.fg|=1073741824:L===9?O.fg|=2147483648:L===2?O.bg|=134217728:L===21?this._processUnderline(2,O):L===22?(O.fg&=-134217729,O.bg&=-134217729):L===23?O.bg&=-67108865:L===24?(O.fg&=-268435457,this._processUnderline(0,O)):L===25?O.fg&=-536870913:L===27?O.fg&=-67108865:L===28?O.fg&=-1073741825:L===29?O.fg&=2147483647:L===39?(O.fg&=-67108864,O.fg|=16777215&g.DEFAULT_ATTR_DATA.fg):L===49?(O.bg&=-67108864,O.bg|=16777215&g.DEFAULT_ATTR_DATA.bg):L===38||L===48||L===58?M+=this._extractColor(x,M,O):L===59?(O.extended=O.extended.clone(),O.extended.underlineColor=-1,O.updateExtended()):L===100?(O.fg&=-67108864,O.fg|=16777215&g.DEFAULT_ATTR_DATA.fg,O.bg&=-67108864,O.bg|=16777215&g.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",L);return!0}deviceStatus(x){switch(x.params[0]){case 5:this._coreService.triggerDataEvent(`${n.C0.ESC}[0n`);break;case 6:const E=this._activeBuffer.y+1,L=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${n.C0.ESC}[${E};${L}R`)}return!0}deviceStatusPrivate(x){if(x.params[0]===6){const E=this._activeBuffer.y+1,L=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${n.C0.ESC}[?${E};${L}R`)}return!0}softReset(x){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=g.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(x){const E=x.params[0]||1;switch(E){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const L=E%2==1;return this._optionsService.options.cursorBlink=L,!0}setScrollRegion(x){const E=x.params[0]||1;let L;return(x.length<2||(L=x.params[1])>this._bufferService.rows||L===0)&&(L=this._bufferService.rows),L>E&&(this._activeBuffer.scrollTop=E-1,this._activeBuffer.scrollBottom=L-1,this._setCursor(0,0)),!0}windowOptions(x){if(!R(x.params[0],this._optionsService.rawOptions.windowOptions))return!0;const E=x.length>1?x.params[1]:0;switch(x.params[0]){case 14:E!==2&&this._onRequestWindowsOptionsReport.fire(A.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(A.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${n.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:E!==0&&E!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),E!==0&&E!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:E!==0&&E!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),E!==0&&E!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(x){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(x){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(x){return this._windowTitle=x,this._onTitleChange.fire(x),!0}setIconName(x){return this._iconName=x,!0}setOrReportIndexedColor(x){const E=[],L=x.split(";");for(;L.length>1;){const O=L.shift(),M=L.shift();if(/^\d+$/.exec(O)){const V=parseInt(O);if(0<=V&&V<256)if(M==="?")E.push({type:0,index:V});else{const F=(0,S.parseColor)(M);F&&E.push({type:1,index:V,color:F})}}}return E.length&&this._onColor.fire(E),!0}setHyperlink(x){const E=x.split(";");return!(E.length<2)&&(E[1]?this._createHyperlink(E[0],E[1]):!E[0]&&this._finishHyperlink())}_createHyperlink(x,E){this._currentLinkId!==void 0&&this._finishHyperlink();const L=x.split(":");let O;const M=L.findIndex(V=>V.startsWith("id="));return M!==-1&&(O=L[M].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._currentLinkId=this._oscLinkService.registerLink({id:O,uri:E}),this._curAttrData.extended.urlId=this._currentLinkId,this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),this._currentLinkId=void 0,!0}_setOrReportSpecialColor(x,E){const L=x.split(";");for(let O=0;O<L.length&&!(E>=this._specialColors.length);++O,++E)if(L[O]==="?")this._onColor.fire([{type:0,index:this._specialColors[E]}]);else{const M=(0,S.parseColor)(L[O]);M&&this._onColor.fire([{type:1,index:this._specialColors[E],color:M}])}return!0}setOrReportFgColor(x){return this._setOrReportSpecialColor(x,0)}setOrReportBgColor(x){return this._setOrReportSpecialColor(x,1)}setOrReportCursorColor(x){return this._setOrReportSpecialColor(x,2)}restoreIndexedColor(x){if(!x)return this._onColor.fire([{type:2}]),!0;const E=[],L=x.split(";");for(let O=0;O<L.length;++O)if(/^\d+$/.exec(L[O])){const M=parseInt(L[O]);0<=M&&M<256&&E.push({type:2,index:M})}return E.length&&this._onColor.fire(E),!0}restoreFgColor(x){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(x){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(x){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,u.DEFAULT_CHARSET),!0}selectCharset(x){return x.length!==2?(this.selectDefaultCharset(),!0):(x[0]==="/"||this._charsetService.setgCharset(C[x[0]],u.CHARSETS[x[1]]||u.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const x=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,x,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=g.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=g.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(x){return this._charsetService.setgLevel(x),!0}screenAlignmentPattern(){const x=new c.CellData;x.content=4194304|"E".charCodeAt(0),x.fg=this._curAttrData.fg,x.bg=this._curAttrData.bg,this._setCursor(0,0);for(let E=0;E<this._bufferService.rows;++E){const L=this._activeBuffer.ybase+this._activeBuffer.y+E,O=this._activeBuffer.lines.get(L);O&&(O.fill(x),O.isWrapped=!1)}return this._dirtyRowService.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(x,E){const L=this._bufferService.buffer,O=this._optionsService.rawOptions;return(M=>(this._coreService.triggerDataEvent(`${n.C0.ESC}${M}${n.C0.ESC}\\`),!0))(x==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:x==='"p'?'P1$r61;1"p':x==="r"?`P1$r${L.scrollTop+1};${L.scrollBottom+1}r`:x==="m"?"P1$r0m":x===" q"?`P1$r${{block:2,underline:4,bar:6}[O.cursorStyle]-(O.cursorBlink?1:0)} q`:"P0$r")}}i.InputHandler=D},844:(y,i)=>{function o(n){for(const u of n)u.dispose();n.length=0}Object.defineProperty(i,"__esModule",{value:!0}),i.getDisposeArrayDisposable=i.disposeArray=i.toDisposable=i.Disposable=void 0,i.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const n of this._disposables)n.dispose();this._disposables.length=0}register(n){return this._disposables.push(n),n}unregister(n){const u=this._disposables.indexOf(n);u!==-1&&this._disposables.splice(u,1)}},i.toDisposable=function(n){return{dispose:n}},i.disposeArray=o,i.getDisposeArrayDisposable=function(n){return{dispose:()=>o(n)}}},1505:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FourKeyMap=i.TwoKeyMap=void 0;class o{constructor(){this._data={}}set(u,f,_){this._data[u]||(this._data[u]={}),this._data[u][f]=_}get(u,f){return this._data[u]?this._data[u][f]:void 0}clear(){this._data={}}}i.TwoKeyMap=o,i.FourKeyMap=class{constructor(){this._data=new o}set(n,u,f,_,v){this._data.get(n,u)||this._data.set(n,u,new o),this._data.get(n,u).set(f,_,v)}get(n,u,f,_){var v;return(v=this._data.get(n,u))===null||v===void 0?void 0:v.get(f,_)}clear(){this._data.clear()}}},6114:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isLinux=i.isWindows=i.isIphone=i.isIpad=i.isMac=i.isSafari=i.isLegacyEdge=i.isFirefox=void 0;const o=typeof navigator>"u",n=o?"node":navigator.userAgent,u=o?"node":navigator.platform;i.isFirefox=n.includes("Firefox"),i.isLegacyEdge=n.includes("Edge"),i.isSafari=/^((?!chrome|android).)*safari/i.test(n),i.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(u),i.isIpad=u==="iPad",i.isIphone=u==="iPhone",i.isWindows=["Windows","Win16","Win32","WinCE"].includes(u),i.isLinux=u.indexOf("Linux")>=0},6106:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SortedList=void 0;let o=0;i.SortedList=class{constructor(n){this._getKey=n,this._array=[]}clear(){this._array.length=0}insert(n){this._array.length!==0?(o=this._search(this._getKey(n),0,this._array.length-1),this._array.splice(o,0,n)):this._array.push(n)}delete(n){if(this._array.length===0)return!1;const u=this._getKey(n);if(u===void 0||(o=this._search(u,0,this._array.length-1),o===-1)||this._getKey(this._array[o])!==u)return!1;do if(this._array[o]===n)return this._array.splice(o,1),!0;while(++o<this._array.length&&this._getKey(this._array[o])===u);return!1}*getKeyIterator(n){if(this._array.length!==0&&(o=this._search(n,0,this._array.length-1),!(o<0||o>=this._array.length)&&this._getKey(this._array[o])===n))do yield this._array[o];while(++o<this._array.length&&this._getKey(this._array[o])===n)}forEachByKey(n,u){if(this._array.length!==0&&(o=this._search(n,0,this._array.length-1),!(o<0||o>=this._array.length)&&this._getKey(this._array[o])===n))do u(this._array[o]);while(++o<this._array.length&&this._getKey(this._array[o])===n)}values(){return this._array.values()}_search(n,u,f){if(f<u)return u;let _=Math.floor((u+f)/2);const v=this._getKey(this._array[_]);if(v>n)return this._search(n,u,_-1);if(v<n)return this._search(n,_+1,f);for(;_>0&&this._getKey(this._array[_-1])===n;)_--;return _}}},8273:(y,i)=>{function o(n,u,f=0,_=n.length){if(f>=n.length)return n;f=(n.length+f)%n.length,_=_>=n.length?n.length:(n.length+_)%n.length;for(let v=f;v<_;++v)n[v]=u;return n}Object.defineProperty(i,"__esModule",{value:!0}),i.concat=i.fillFallback=i.fill=void 0,i.fill=function(n,u,f,_){return n.fill?n.fill(u,f,_):o(n,u,f,_)},i.fillFallback=o,i.concat=function(n,u){const f=new n.constructor(n.length+u.length);return f.set(n),f.set(u,n.length),f}},9282:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.updateWindowsModeWrappedState=void 0;const n=o(643);i.updateWindowsModeWrappedState=function(u){const f=u.buffer.lines.get(u.buffer.ybase+u.buffer.y-1),_=f==null?void 0:f.get(u.cols-1),v=u.buffer.lines.get(u.buffer.ybase+u.buffer.y);v&&_&&(v.isWrapped=_[n.CHAR_DATA_CODE_INDEX]!==n.NULL_CELL_CODE&&_[n.CHAR_DATA_CODE_INDEX]!==n.WHITESPACE_CELL_CODE)}},3734:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ExtendedAttrs=i.AttributeData=void 0;class o{constructor(){this.fg=0,this.bg=0,this.extended=new n}static toColorRGB(f){return[f>>>16&255,f>>>8&255,255&f]}static fromColorRGB(f){return(255&f[0])<<16|(255&f[1])<<8|255&f[2]}clone(){const f=new o;return f.fg=this.fg,f.bg=this.bg,f.extended=this.extended.clone(),f}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}i.AttributeData=o;class n{constructor(f=0,_=0){this._ext=0,this._urlId=0,this._ext=f,this._urlId=_}get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(f){this._ext=f}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(f){this._ext&=-469762049,this._ext|=f<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(f){this._ext&=-67108864,this._ext|=67108863&f}get urlId(){return this._urlId}set urlId(f){this._urlId=f}clone(){return new n(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}i.ExtendedAttrs=n},9092:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferStringIterator=i.Buffer=i.MAX_BUFFER_SIZE=void 0;const n=o(6349),u=o(8437),f=o(511),_=o(643),v=o(4634),g=o(4863),p=o(7116),s=o(3734);i.MAX_BUFFER_SIZE=4294967295,i.Buffer=class{constructor(a,d,m){this._hasScrollback=a,this._optionsService=d,this._bufferService=m,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=u.DEFAULT_ATTR_DATA.clone(),this.savedCharset=p.DEFAULT_CHARSET,this.markers=[],this._nullCell=f.CellData.fromCharData([0,_.NULL_CELL_CHAR,_.NULL_CELL_WIDTH,_.NULL_CELL_CODE]),this._whitespaceCell=f.CellData.fromCharData([0,_.WHITESPACE_CELL_CHAR,_.WHITESPACE_CELL_WIDTH,_.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new n.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(a){return a?(this._nullCell.fg=a.fg,this._nullCell.bg=a.bg,this._nullCell.extended=a.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new s.ExtendedAttrs),this._nullCell}getWhitespaceCell(a){return a?(this._whitespaceCell.fg=a.fg,this._whitespaceCell.bg=a.bg,this._whitespaceCell.extended=a.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new s.ExtendedAttrs),this._whitespaceCell}getBlankLine(a,d){return new u.BufferLine(this._bufferService.cols,this.getNullCell(a),d)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const a=this.ybase+this.y-this.ydisp;return a>=0&&a<this._rows}_getCorrectBufferLength(a){if(!this._hasScrollback)return a;const d=a+this._optionsService.rawOptions.scrollback;return d>i.MAX_BUFFER_SIZE?i.MAX_BUFFER_SIZE:d}fillViewportRows(a){if(this.lines.length===0){a===void 0&&(a=u.DEFAULT_ATTR_DATA);let d=this._rows;for(;d--;)this.lines.push(this.getBlankLine(a))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new n.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(a,d){const m=this.getNullCell(u.DEFAULT_ATTR_DATA),w=this._getCorrectBufferLength(d);if(w>this.lines.maxLength&&(this.lines.maxLength=w),this.lines.length>0){if(this._cols<a)for(let C=0;C<this.lines.length;C++)this.lines.get(C).resize(a,m);let S=0;if(this._rows<d)for(let C=this._rows;C<d;C++)this.lines.length<d+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new u.BufferLine(a,m)):this.ybase>0&&this.lines.length<=this.ybase+this.y+S+1?(this.ybase--,S++,this.ydisp>0&&this.ydisp--):this.lines.push(new u.BufferLine(a,m)));else for(let C=this._rows;C>d;C--)this.lines.length>d+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(w<this.lines.maxLength){const C=this.lines.length-w;C>0&&(this.lines.trimStart(C),this.ybase=Math.max(this.ybase-C,0),this.ydisp=Math.max(this.ydisp-C,0),this.savedY=Math.max(this.savedY-C,0)),this.lines.maxLength=w}this.x=Math.min(this.x,a-1),this.y=Math.min(this.y,d-1),S&&(this.y+=S),this.savedX=Math.min(this.savedX,a-1),this.scrollTop=0}if(this.scrollBottom=d-1,this._isReflowEnabled&&(this._reflow(a,d),this._cols>a))for(let S=0;S<this.lines.length;S++)this.lines.get(S).resize(a,m);this._cols=a,this._rows=d}get _isReflowEnabled(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(a,d){this._cols!==a&&(a>this._cols?this._reflowLarger(a,d):this._reflowSmaller(a,d))}_reflowLarger(a,d){const m=(0,v.reflowLargerGetLinesToRemove)(this.lines,this._cols,a,this.ybase+this.y,this.getNullCell(u.DEFAULT_ATTR_DATA));if(m.length>0){const w=(0,v.reflowLargerCreateNewLayout)(this.lines,m);(0,v.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(a,d,w.countRemoved)}}_reflowLargerAdjustViewport(a,d,m){const w=this.getNullCell(u.DEFAULT_ATTR_DATA);let S=m;for(;S-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<d&&this.lines.push(new u.BufferLine(a,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-m,0)}_reflowSmaller(a,d){const m=this.getNullCell(u.DEFAULT_ATTR_DATA),w=[];let S=0;for(let C=this.lines.length-1;C>=0;C--){let k=this.lines.get(C);if(!k||!k.isWrapped&&k.getTrimmedLength()<=a)continue;const R=[k];for(;k.isWrapped&&C>0;)k=this.lines.get(--C),R.unshift(k);const A=this.ybase+this.y;if(A>=C&&A<C+R.length)continue;const D=R[R.length-1].getTrimmedLength(),T=(0,v.reflowSmallerGetNewLineLengths)(R,this._cols,a),x=T.length-R.length;let E;E=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+x):Math.max(0,this.lines.length-this.lines.maxLength+x);const L=[];for(let G=0;G<x;G++){const te=this.getBlankLine(u.DEFAULT_ATTR_DATA,!0);L.push(te)}L.length>0&&(w.push({start:C+R.length+S,newLines:L}),S+=L.length),R.push(...L);let O=T.length-1,M=T[O];M===0&&(O--,M=T[O]);let V=R.length-x-1,F=D;for(;V>=0;){const G=Math.min(F,M);if(R[O]===void 0)break;if(R[O].copyCellsFrom(R[V],F-G,M-G,G,!0),M-=G,M===0&&(O--,M=T[O]),F-=G,F===0){V--;const te=Math.max(V,0);F=(0,v.getWrappedLineTrimmedLength)(R,te,this._cols)}}for(let G=0;G<R.length;G++)T[G]<a&&R[G].setCell(T[G],m);let W=x-E;for(;W-- >0;)this.ybase===0?this.y<d-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+S)-d&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+x,this.ybase+d-1)}if(w.length>0){const C=[],k=[];for(let O=0;O<this.lines.length;O++)k.push(this.lines.get(O));const R=this.lines.length;let A=R-1,D=0,T=w[D];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+S);let x=0;for(let O=Math.min(this.lines.maxLength-1,R+S-1);O>=0;O--)if(T&&T.start>A+x){for(let M=T.newLines.length-1;M>=0;M--)this.lines.set(O--,T.newLines[M]);O++,C.push({index:A+1,amount:T.newLines.length}),x+=T.newLines.length,T=w[++D]}else this.lines.set(O,k[A--]);let E=0;for(let O=C.length-1;O>=0;O--)C[O].index+=E,this.lines.onInsertEmitter.fire(C[O]),E+=C[O].amount;const L=Math.max(0,R+S-this.lines.maxLength);L>0&&this.lines.onTrimEmitter.fire(L)}}stringIndexToBufferIndex(a,d,m=!1){for(;d;){const w=this.lines.get(a);if(!w)return[-1,-1];const S=m?w.getTrimmedLength():w.length;for(let C=0;C<S;++C)if(w.get(C)[_.CHAR_DATA_WIDTH_INDEX]&&(d-=w.get(C)[_.CHAR_DATA_CHAR_INDEX].length||1),d<0)return[a,C];a++}return[a,0]}translateBufferLineToString(a,d,m=0,w){const S=this.lines.get(a);return S?S.translateToString(d,m,w):""}getWrappedRangeForLine(a){let d=a,m=a;for(;d>0&&this.lines.get(d).isWrapped;)d--;for(;m+1<this.lines.length&&this.lines.get(m+1).isWrapped;)m++;return{first:d,last:m}}setupTabStops(a){for(a!=null?this.tabs[a]||(a=this.prevStop(a)):(this.tabs={},a=0);a<this._cols;a+=this._optionsService.rawOptions.tabStopWidth)this.tabs[a]=!0}prevStop(a){for(a==null&&(a=this.x);!this.tabs[--a]&&a>0;);return a>=this._cols?this._cols-1:a<0?0:a}nextStop(a){for(a==null&&(a=this.x);!this.tabs[++a]&&a<this._cols;);return a>=this._cols?this._cols-1:a<0?0:a}clearMarkers(a){this._isClearing=!0;for(let d=0;d<this.markers.length;d++)this.markers[d].line===a&&(this.markers[d].dispose(),this.markers.splice(d--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let a=0;a<this.markers.length;a++)this.markers[a].dispose(),this.markers.splice(a--,1);this._isClearing=!1}addMarker(a){const d=new g.Marker(a);return this.markers.push(d),d.register(this.lines.onTrim(m=>{d.line-=m,d.line<0&&d.dispose()})),d.register(this.lines.onInsert(m=>{d.line>=m.index&&(d.line+=m.amount)})),d.register(this.lines.onDelete(m=>{d.line>=m.index&&d.line<m.index+m.amount&&d.dispose(),d.line>m.index&&(d.line-=m.amount)})),d.register(d.onDispose(()=>this._removeMarker(d))),d}_removeMarker(a){this._isClearing||this.markers.splice(this.markers.indexOf(a),1)}iterator(a,d,m,w,S){return new c(this,a,d,m,w,S)}};class c{constructor(d,m,w=0,S=d.lines.length,C=0,k=0){this._buffer=d,this._trimRight=m,this._startIndex=w,this._endIndex=S,this._startOverscan=C,this._endOverscan=k,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}hasNext(){return this._current<this._endIndex}next(){const d=this._buffer.getWrappedRangeForLine(this._current);d.first<this._startIndex-this._startOverscan&&(d.first=this._startIndex-this._startOverscan),d.last>this._endIndex+this._endOverscan&&(d.last=this._endIndex+this._endOverscan),d.first=Math.max(d.first,0),d.last=Math.min(d.last,this._buffer.lines.length);let m="";for(let w=d.first;w<=d.last;++w)m+=this._buffer.translateBufferLineToString(w,this._trimRight);return this._current=d.last+1,{range:d,content:m}}}i.BufferStringIterator=c},8437:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferLine=i.DEFAULT_ATTR_DATA=void 0;const n=o(482),u=o(643),f=o(511),_=o(3734);i.DEFAULT_ATTR_DATA=Object.freeze(new _.AttributeData);const v={startIndex:0};class g{constructor(s,c,a=!1){this.isWrapped=a,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*s);const d=c||f.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]);for(let m=0;m<s;++m)this.setCell(m,d);this.length=s}get(s){const c=this._data[3*s+0],a=2097151&c;return[this._data[3*s+1],2097152&c?this._combined[s]:a?(0,n.stringFromCodePoint)(a):"",c>>22,2097152&c?this._combined[s].charCodeAt(this._combined[s].length-1):a]}set(s,c){this._data[3*s+1]=c[u.CHAR_DATA_ATTR_INDEX],c[u.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[s]=c[1],this._data[3*s+0]=2097152|s|c[u.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*s+0]=c[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|c[u.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(s){return this._data[3*s+0]>>22}hasWidth(s){return 12582912&this._data[3*s+0]}getFg(s){return this._data[3*s+1]}getBg(s){return this._data[3*s+2]}hasContent(s){return 4194303&this._data[3*s+0]}getCodePoint(s){const c=this._data[3*s+0];return 2097152&c?this._combined[s].charCodeAt(this._combined[s].length-1):2097151&c}isCombined(s){return 2097152&this._data[3*s+0]}getString(s){const c=this._data[3*s+0];return 2097152&c?this._combined[s]:2097151&c?(0,n.stringFromCodePoint)(2097151&c):""}isProtected(s){return 536870912&this._data[3*s+2]}loadCell(s,c){return v.startIndex=3*s,c.content=this._data[v.startIndex+0],c.fg=this._data[v.startIndex+1],c.bg=this._data[v.startIndex+2],2097152&c.content&&(c.combinedData=this._combined[s]),268435456&c.bg&&(c.extended=this._extendedAttrs[s]),c}setCell(s,c){2097152&c.content&&(this._combined[s]=c.combinedData),268435456&c.bg&&(this._extendedAttrs[s]=c.extended),this._data[3*s+0]=c.content,this._data[3*s+1]=c.fg,this._data[3*s+2]=c.bg}setCellFromCodePoint(s,c,a,d,m,w){268435456&m&&(this._extendedAttrs[s]=w),this._data[3*s+0]=c|a<<22,this._data[3*s+1]=d,this._data[3*s+2]=m}addCodepointToCell(s,c){let a=this._data[3*s+0];2097152&a?this._combined[s]+=(0,n.stringFromCodePoint)(c):(2097151&a?(this._combined[s]=(0,n.stringFromCodePoint)(2097151&a)+(0,n.stringFromCodePoint)(c),a&=-2097152,a|=2097152):a=c|4194304,this._data[3*s+0]=a)}insertCells(s,c,a,d){if((s%=this.length)&&this.getWidth(s-1)===2&&this.setCellFromCodePoint(s-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new _.ExtendedAttrs),c<this.length-s){const m=new f.CellData;for(let w=this.length-s-c-1;w>=0;--w)this.setCell(s+c+w,this.loadCell(s+w,m));for(let w=0;w<c;++w)this.setCell(s+w,a)}else for(let m=s;m<this.length;++m)this.setCell(m,a);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new _.ExtendedAttrs)}deleteCells(s,c,a,d){if(s%=this.length,c<this.length-s){const m=new f.CellData;for(let w=0;w<this.length-s-c;++w)this.setCell(s+w,this.loadCell(s+c+w,m));for(let w=this.length-c;w<this.length;++w)this.setCell(w,a)}else for(let m=s;m<this.length;++m)this.setCell(m,a);s&&this.getWidth(s-1)===2&&this.setCellFromCodePoint(s-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new _.ExtendedAttrs),this.getWidth(s)!==0||this.hasContent(s)||this.setCellFromCodePoint(s,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new _.ExtendedAttrs)}replaceCells(s,c,a,d,m=!1){if(m)for(s&&this.getWidth(s-1)===2&&!this.isProtected(s-1)&&this.setCellFromCodePoint(s-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new _.ExtendedAttrs),c<this.length&&this.getWidth(c-1)===2&&!this.isProtected(c)&&this.setCellFromCodePoint(c,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new _.ExtendedAttrs);s<c&&s<this.length;)this.isProtected(s)||this.setCell(s,a),s++;else for(s&&this.getWidth(s-1)===2&&this.setCellFromCodePoint(s-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new _.ExtendedAttrs),c<this.length&&this.getWidth(c-1)===2&&this.setCellFromCodePoint(c,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new _.ExtendedAttrs);s<c&&s<this.length;)this.setCell(s++,a)}resize(s,c){if(s!==this.length){if(s>this.length){const a=new Uint32Array(3*s);this.length&&(3*s<this._data.length?a.set(this._data.subarray(0,3*s)):a.set(this._data)),this._data=a;for(let d=this.length;d<s;++d)this.setCell(d,c)}else if(s){const a=new Uint32Array(3*s);a.set(this._data.subarray(0,3*s)),this._data=a;const d=Object.keys(this._combined);for(let m=0;m<d.length;m++){const w=parseInt(d[m],10);w>=s&&delete this._combined[w]}}else this._data=new Uint32Array(0),this._combined={};this.length=s}}fill(s,c=!1){if(c)for(let a=0;a<this.length;++a)this.isProtected(a)||this.setCell(a,s);else{this._combined={},this._extendedAttrs={};for(let a=0;a<this.length;++a)this.setCell(a,s)}}copyFrom(s){this.length!==s.length?this._data=new Uint32Array(s._data):this._data.set(s._data),this.length=s.length,this._combined={};for(const c in s._combined)this._combined[c]=s._combined[c];this._extendedAttrs={};for(const c in s._extendedAttrs)this._extendedAttrs[c]=s._extendedAttrs[c];this.isWrapped=s.isWrapped}clone(){const s=new g(0);s._data=new Uint32Array(this._data),s.length=this.length;for(const c in this._combined)s._combined[c]=this._combined[c];for(const c in this._extendedAttrs)s._extendedAttrs[c]=this._extendedAttrs[c];return s.isWrapped=this.isWrapped,s}getTrimmedLength(){for(let s=this.length-1;s>=0;--s)if(4194303&this._data[3*s+0])return s+(this._data[3*s+0]>>22);return 0}copyCellsFrom(s,c,a,d,m){const w=s._data;if(m)for(let C=d-1;C>=0;C--){for(let k=0;k<3;k++)this._data[3*(a+C)+k]=w[3*(c+C)+k];268435456&w[3*(c+C)+2]&&(this._extendedAttrs[a+C]=s._extendedAttrs[c+C])}else for(let C=0;C<d;C++){for(let k=0;k<3;k++)this._data[3*(a+C)+k]=w[3*(c+C)+k];268435456&w[3*(c+C)+2]&&(this._extendedAttrs[a+C]=s._extendedAttrs[c+C])}const S=Object.keys(s._combined);for(let C=0;C<S.length;C++){const k=parseInt(S[C],10);k>=c&&(this._combined[k-c+a]=s._combined[k])}}translateToString(s=!1,c=0,a=this.length){s&&(a=Math.min(a,this.getTrimmedLength()));let d="";for(;c<a;){const m=this._data[3*c+0],w=2097151&m;d+=2097152&m?this._combined[c]:w?(0,n.stringFromCodePoint)(w):u.WHITESPACE_CELL_CHAR,c+=m>>22||1}return d}}i.BufferLine=g},4841:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getRangeLength=void 0,i.getRangeLength=function(o,n){if(o.start.y>o.end.y)throw new Error(`Buffer range end (${o.end.x}, ${o.end.y}) cannot be before start (${o.start.x}, ${o.start.y})`);return n*(o.end.y-o.start.y)+(o.end.x-o.start.x+1)}},4634:(y,i)=>{function o(n,u,f){if(u===n.length-1)return n[u].getTrimmedLength();const _=!n[u].hasContent(f-1)&&n[u].getWidth(f-1)===1,v=n[u+1].getWidth(0)===2;return _&&v?f-1:f}Object.defineProperty(i,"__esModule",{value:!0}),i.getWrappedLineTrimmedLength=i.reflowSmallerGetNewLineLengths=i.reflowLargerApplyNewLayout=i.reflowLargerCreateNewLayout=i.reflowLargerGetLinesToRemove=void 0,i.reflowLargerGetLinesToRemove=function(n,u,f,_,v){const g=[];for(let p=0;p<n.length-1;p++){let s=p,c=n.get(++s);if(!c.isWrapped)continue;const a=[n.get(p)];for(;s<n.length&&c.isWrapped;)a.push(c),c=n.get(++s);if(_>=p&&_<s){p+=a.length-1;continue}let d=0,m=o(a,d,u),w=1,S=0;for(;w<a.length;){const k=o(a,w,u),R=k-S,A=f-m,D=Math.min(R,A);a[d].copyCellsFrom(a[w],S,m,D,!1),m+=D,m===f&&(d++,m=0),S+=D,S===k&&(w++,S=0),m===0&&d!==0&&a[d-1].getWidth(f-1)===2&&(a[d].copyCellsFrom(a[d-1],f-1,m++,1,!1),a[d-1].setCell(f-1,v))}a[d].replaceCells(m,f,v);let C=0;for(let k=a.length-1;k>0&&(k>d||a[k].getTrimmedLength()===0);k--)C++;C>0&&(g.push(p+a.length-C),g.push(C)),p+=a.length-1}return g},i.reflowLargerCreateNewLayout=function(n,u){const f=[];let _=0,v=u[_],g=0;for(let p=0;p<n.length;p++)if(v===p){const s=u[++_];n.onDeleteEmitter.fire({index:p-g,amount:s}),p+=s-1,g+=s,v=u[++_]}else f.push(p);return{layout:f,countRemoved:g}},i.reflowLargerApplyNewLayout=function(n,u){const f=[];for(let _=0;_<u.length;_++)f.push(n.get(u[_]));for(let _=0;_<f.length;_++)n.set(_,f[_]);n.length=u.length},i.reflowSmallerGetNewLineLengths=function(n,u,f){const _=[],v=n.map((c,a)=>o(n,a,u)).reduce((c,a)=>c+a);let g=0,p=0,s=0;for(;s<v;){if(v-s<f){_.push(v-s);break}g+=f;const c=o(n,p,u);g>c&&(g-=c,p++);const a=n[p].getWidth(g-1)===2;a&&g--;const d=a?f-1:f;_.push(d),s+=d}return _},i.getWrappedLineTrimmedLength=o},5295:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferSet=void 0;const n=o(9092),u=o(8460),f=o(844);class _ extends f.Disposable{constructor(g,p){super(),this._optionsService=g,this._bufferService=p,this._onBufferActivate=this.register(new u.EventEmitter),this.reset()}get onBufferActivate(){return this._onBufferActivate.event}reset(){this._normal=new n.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new n.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(g){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(g),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(g,p){this._normal.resize(g,p),this._alt.resize(g,p)}setupTabStops(g){this._normal.setupTabStops(g),this._alt.setupTabStops(g)}}i.BufferSet=_},511:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CellData=void 0;const n=o(482),u=o(643),f=o(3734);class _ extends f.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new f.ExtendedAttrs,this.combinedData=""}static fromCharData(g){const p=new _;return p.setFromCharData(g),p}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,n.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(g){this.fg=g[u.CHAR_DATA_ATTR_INDEX],this.bg=0;let p=!1;if(g[u.CHAR_DATA_CHAR_INDEX].length>2)p=!0;else if(g[u.CHAR_DATA_CHAR_INDEX].length===2){const s=g[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=s&&s<=56319){const c=g[u.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=c&&c<=57343?this.content=1024*(s-55296)+c-56320+65536|g[u.CHAR_DATA_WIDTH_INDEX]<<22:p=!0}else p=!0}else this.content=g[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|g[u.CHAR_DATA_WIDTH_INDEX]<<22;p&&(this.combinedData=g[u.CHAR_DATA_CHAR_INDEX],this.content=2097152|g[u.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}i.CellData=_},643:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WHITESPACE_CELL_CODE=i.WHITESPACE_CELL_WIDTH=i.WHITESPACE_CELL_CHAR=i.NULL_CELL_CODE=i.NULL_CELL_WIDTH=i.NULL_CELL_CHAR=i.CHAR_DATA_CODE_INDEX=i.CHAR_DATA_WIDTH_INDEX=i.CHAR_DATA_CHAR_INDEX=i.CHAR_DATA_ATTR_INDEX=i.DEFAULT_EXT=i.DEFAULT_ATTR=i.DEFAULT_COLOR=void 0,i.DEFAULT_COLOR=256,i.DEFAULT_ATTR=256|i.DEFAULT_COLOR<<9,i.DEFAULT_EXT=0,i.CHAR_DATA_ATTR_INDEX=0,i.CHAR_DATA_CHAR_INDEX=1,i.CHAR_DATA_WIDTH_INDEX=2,i.CHAR_DATA_CODE_INDEX=3,i.NULL_CELL_CHAR="",i.NULL_CELL_WIDTH=1,i.NULL_CELL_CODE=0,i.WHITESPACE_CELL_CHAR=" ",i.WHITESPACE_CELL_WIDTH=1,i.WHITESPACE_CELL_CODE=32},4863:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Marker=void 0;const n=o(8460),u=o(844);class f extends u.Disposable{constructor(v){super(),this.line=v,this._id=f._nextId++,this.isDisposed=!1,this._onDispose=new n.EventEmitter}get id(){return this._id}get onDispose(){return this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),super.dispose())}}i.Marker=f,f._nextId=1},7116:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_CHARSET=i.CHARSETS=void 0,i.CHARSETS={},i.DEFAULT_CHARSET=i.CHARSETS.B,i.CHARSETS[0]={"`":"\u25C6",a:"\u2592",b:"\u2409",c:"\u240C",d:"\u240D",e:"\u240A",f:"\xB0",g:"\xB1",h:"\u2424",i:"\u240B",j:"\u2518",k:"\u2510",l:"\u250C",m:"\u2514",n:"\u253C",o:"\u23BA",p:"\u23BB",q:"\u2500",r:"\u23BC",s:"\u23BD",t:"\u251C",u:"\u2524",v:"\u2534",w:"\u252C",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03C0","|":"\u2260","}":"\xA3","~":"\xB7"},i.CHARSETS.A={"#":"\xA3"},i.CHARSETS.B=void 0,i.CHARSETS[4]={"#":"\xA3","@":"\xBE","[":"ij","\\":"\xBD","]":"|","{":"\xA8","|":"f","}":"\xBC","~":"\xB4"},i.CHARSETS.C=i.CHARSETS[5]={"[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},i.CHARSETS.R={"#":"\xA3","@":"\xE0","[":"\xB0","\\":"\xE7","]":"\xA7","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xA8"},i.CHARSETS.Q={"@":"\xE0","[":"\xE2","\\":"\xE7","]":"\xEA","^":"\xEE","`":"\xF4","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xFB"},i.CHARSETS.K={"@":"\xA7","[":"\xC4","\\":"\xD6","]":"\xDC","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xDF"},i.CHARSETS.Y={"#":"\xA3","@":"\xA7","[":"\xB0","\\":"\xE7","]":"\xE9","`":"\xF9","{":"\xE0","|":"\xF2","}":"\xE8","~":"\xEC"},i.CHARSETS.E=i.CHARSETS[6]={"@":"\xC4","[":"\xC6","\\":"\xD8","]":"\xC5","^":"\xDC","`":"\xE4","{":"\xE6","|":"\xF8","}":"\xE5","~":"\xFC"},i.CHARSETS.Z={"#":"\xA3","@":"\xA7","[":"\xA1","\\":"\xD1","]":"\xBF","{":"\xB0","|":"\xF1","}":"\xE7"},i.CHARSETS.H=i.CHARSETS[7]={"@":"\xC9","[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},i.CHARSETS["="]={"#":"\xF9","@":"\xE0","[":"\xE9","\\":"\xE7","]":"\xEA","^":"\xEE",_:"\xE8","`":"\xF4","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xFB"}},2584:(y,i)=>{var o,n;Object.defineProperty(i,"__esModule",{value:!0}),i.C1_ESCAPED=i.C1=i.C0=void 0,function(u){u.NUL="\0",u.SOH="",u.STX="",u.ETX="",u.EOT="",u.ENQ="",u.ACK="",u.BEL="\x07",u.BS="\b",u.HT="	",u.LF=`
`,u.VT="\v",u.FF="\f",u.CR="\r",u.SO="",u.SI="",u.DLE="",u.DC1="",u.DC2="",u.DC3="",u.DC4="",u.NAK="",u.SYN="",u.ETB="",u.CAN="",u.EM="",u.SUB="",u.ESC="\x1B",u.FS="",u.GS="",u.RS="",u.US="",u.SP=" ",u.DEL="\x7F"}(o=i.C0||(i.C0={})),(n=i.C1||(i.C1={})).PAD="\x80",n.HOP="\x81",n.BPH="\x82",n.NBH="\x83",n.IND="\x84",n.NEL="\x85",n.SSA="\x86",n.ESA="\x87",n.HTS="\x88",n.HTJ="\x89",n.VTS="\x8A",n.PLD="\x8B",n.PLU="\x8C",n.RI="\x8D",n.SS2="\x8E",n.SS3="\x8F",n.DCS="\x90",n.PU1="\x91",n.PU2="\x92",n.STS="\x93",n.CCH="\x94",n.MW="\x95",n.SPA="\x96",n.EPA="\x97",n.SOS="\x98",n.SGCI="\x99",n.SCI="\x9A",n.CSI="\x9B",n.ST="\x9C",n.OSC="\x9D",n.PM="\x9E",n.APC="\x9F",(i.C1_ESCAPED||(i.C1_ESCAPED={})).ST=`${o.ESC}\\`},7399:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.evaluateKeyboardEvent=void 0;const n=o(2584),u={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};i.evaluateKeyboardEvent=function(f,_,v,g){const p={type:0,cancel:!1,key:void 0},s=(f.shiftKey?1:0)|(f.altKey?2:0)|(f.ctrlKey?4:0)|(f.metaKey?8:0);switch(f.keyCode){case 0:f.key==="UIKeyInputUpArrow"?p.key=_?n.C0.ESC+"OA":n.C0.ESC+"[A":f.key==="UIKeyInputLeftArrow"?p.key=_?n.C0.ESC+"OD":n.C0.ESC+"[D":f.key==="UIKeyInputRightArrow"?p.key=_?n.C0.ESC+"OC":n.C0.ESC+"[C":f.key==="UIKeyInputDownArrow"&&(p.key=_?n.C0.ESC+"OB":n.C0.ESC+"[B");break;case 8:if(f.altKey){p.key=n.C0.ESC+n.C0.DEL;break}p.key=n.C0.DEL;break;case 9:if(f.shiftKey){p.key=n.C0.ESC+"[Z";break}p.key=n.C0.HT,p.cancel=!0;break;case 13:p.key=f.altKey?n.C0.ESC+n.C0.CR:n.C0.CR,p.cancel=!0;break;case 27:p.key=n.C0.ESC,f.altKey&&(p.key=n.C0.ESC+n.C0.ESC),p.cancel=!0;break;case 37:if(f.metaKey)break;s?(p.key=n.C0.ESC+"[1;"+(s+1)+"D",p.key===n.C0.ESC+"[1;3D"&&(p.key=n.C0.ESC+(v?"b":"[1;5D"))):p.key=_?n.C0.ESC+"OD":n.C0.ESC+"[D";break;case 39:if(f.metaKey)break;s?(p.key=n.C0.ESC+"[1;"+(s+1)+"C",p.key===n.C0.ESC+"[1;3C"&&(p.key=n.C0.ESC+(v?"f":"[1;5C"))):p.key=_?n.C0.ESC+"OC":n.C0.ESC+"[C";break;case 38:if(f.metaKey)break;s?(p.key=n.C0.ESC+"[1;"+(s+1)+"A",v||p.key!==n.C0.ESC+"[1;3A"||(p.key=n.C0.ESC+"[1;5A")):p.key=_?n.C0.ESC+"OA":n.C0.ESC+"[A";break;case 40:if(f.metaKey)break;s?(p.key=n.C0.ESC+"[1;"+(s+1)+"B",v||p.key!==n.C0.ESC+"[1;3B"||(p.key=n.C0.ESC+"[1;5B")):p.key=_?n.C0.ESC+"OB":n.C0.ESC+"[B";break;case 45:f.shiftKey||f.ctrlKey||(p.key=n.C0.ESC+"[2~");break;case 46:p.key=s?n.C0.ESC+"[3;"+(s+1)+"~":n.C0.ESC+"[3~";break;case 36:p.key=s?n.C0.ESC+"[1;"+(s+1)+"H":_?n.C0.ESC+"OH":n.C0.ESC+"[H";break;case 35:p.key=s?n.C0.ESC+"[1;"+(s+1)+"F":_?n.C0.ESC+"OF":n.C0.ESC+"[F";break;case 33:f.shiftKey?p.type=2:f.ctrlKey?p.key=n.C0.ESC+"[5;"+(s+1)+"~":p.key=n.C0.ESC+"[5~";break;case 34:f.shiftKey?p.type=3:f.ctrlKey?p.key=n.C0.ESC+"[6;"+(s+1)+"~":p.key=n.C0.ESC+"[6~";break;case 112:p.key=s?n.C0.ESC+"[1;"+(s+1)+"P":n.C0.ESC+"OP";break;case 113:p.key=s?n.C0.ESC+"[1;"+(s+1)+"Q":n.C0.ESC+"OQ";break;case 114:p.key=s?n.C0.ESC+"[1;"+(s+1)+"R":n.C0.ESC+"OR";break;case 115:p.key=s?n.C0.ESC+"[1;"+(s+1)+"S":n.C0.ESC+"OS";break;case 116:p.key=s?n.C0.ESC+"[15;"+(s+1)+"~":n.C0.ESC+"[15~";break;case 117:p.key=s?n.C0.ESC+"[17;"+(s+1)+"~":n.C0.ESC+"[17~";break;case 118:p.key=s?n.C0.ESC+"[18;"+(s+1)+"~":n.C0.ESC+"[18~";break;case 119:p.key=s?n.C0.ESC+"[19;"+(s+1)+"~":n.C0.ESC+"[19~";break;case 120:p.key=s?n.C0.ESC+"[20;"+(s+1)+"~":n.C0.ESC+"[20~";break;case 121:p.key=s?n.C0.ESC+"[21;"+(s+1)+"~":n.C0.ESC+"[21~";break;case 122:p.key=s?n.C0.ESC+"[23;"+(s+1)+"~":n.C0.ESC+"[23~";break;case 123:p.key=s?n.C0.ESC+"[24;"+(s+1)+"~":n.C0.ESC+"[24~";break;default:if(!f.ctrlKey||f.shiftKey||f.altKey||f.metaKey)if(v&&!g||!f.altKey||f.metaKey)!v||f.altKey||f.ctrlKey||f.shiftKey||!f.metaKey?f.key&&!f.ctrlKey&&!f.altKey&&!f.metaKey&&f.keyCode>=48&&f.key.length===1?p.key=f.key:f.key&&f.ctrlKey&&(f.key==="_"&&(p.key=n.C0.US),f.key==="@"&&(p.key=n.C0.NUL)):f.keyCode===65&&(p.type=1);else{const c=u[f.keyCode],a=c==null?void 0:c[f.shiftKey?1:0];if(a)p.key=n.C0.ESC+a;else if(f.keyCode>=65&&f.keyCode<=90){const d=f.ctrlKey?f.keyCode-64:f.keyCode+32;let m=String.fromCharCode(d);f.shiftKey&&(m=m.toUpperCase()),p.key=n.C0.ESC+m}else if(f.key==="Dead"&&f.code.startsWith("Key")){let d=f.code.slice(3,4);f.shiftKey||(d=d.toLowerCase()),p.key=n.C0.ESC+d,p.cancel=!0}}else f.keyCode>=65&&f.keyCode<=90?p.key=String.fromCharCode(f.keyCode-64):f.keyCode===32?p.key=n.C0.NUL:f.keyCode>=51&&f.keyCode<=55?p.key=String.fromCharCode(f.keyCode-51+27):f.keyCode===56?p.key=n.C0.DEL:f.keyCode===219?p.key=n.C0.ESC:f.keyCode===220?p.key=n.C0.FS:f.keyCode===221&&(p.key=n.C0.GS)}return p}},482:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Utf8ToUtf32=i.StringToUtf32=i.utf32ToString=i.stringFromCodePoint=void 0,i.stringFromCodePoint=function(o){return o>65535?(o-=65536,String.fromCharCode(55296+(o>>10))+String.fromCharCode(o%1024+56320)):String.fromCharCode(o)},i.utf32ToString=function(o,n=0,u=o.length){let f="";for(let _=n;_<u;++_){let v=o[_];v>65535?(v-=65536,f+=String.fromCharCode(55296+(v>>10))+String.fromCharCode(v%1024+56320)):f+=String.fromCharCode(v)}return f},i.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(o,n){const u=o.length;if(!u)return 0;let f=0,_=0;if(this._interim){const v=o.charCodeAt(_++);56320<=v&&v<=57343?n[f++]=1024*(this._interim-55296)+v-56320+65536:(n[f++]=this._interim,n[f++]=v),this._interim=0}for(let v=_;v<u;++v){const g=o.charCodeAt(v);if(55296<=g&&g<=56319){if(++v>=u)return this._interim=g,f;const p=o.charCodeAt(v);56320<=p&&p<=57343?n[f++]=1024*(g-55296)+p-56320+65536:(n[f++]=g,n[f++]=p)}else g!==65279&&(n[f++]=g)}return f}},i.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(o,n){const u=o.length;if(!u)return 0;let f,_,v,g,p=0,s=0,c=0;if(this.interim[0]){let m=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let S,C=0;for(;(S=63&this.interim[++C])&&C<4;)w<<=6,w|=S;const k=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,R=k-C;for(;c<R;){if(c>=u)return 0;if(S=o[c++],(192&S)!=128){c--,m=!0;break}this.interim[C++]=S,w<<=6,w|=63&S}m||(k===2?w<128?c--:n[p++]=w:k===3?w<2048||w>=55296&&w<=57343||w===65279||(n[p++]=w):w<65536||w>1114111||(n[p++]=w)),this.interim.fill(0)}const a=u-4;let d=c;for(;d<u;){for(;!(!(d<a)||128&(f=o[d])||128&(_=o[d+1])||128&(v=o[d+2])||128&(g=o[d+3]));)n[p++]=f,n[p++]=_,n[p++]=v,n[p++]=g,d+=4;if(f=o[d++],f<128)n[p++]=f;else if((224&f)==192){if(d>=u)return this.interim[0]=f,p;if(_=o[d++],(192&_)!=128){d--;continue}if(s=(31&f)<<6|63&_,s<128){d--;continue}n[p++]=s}else if((240&f)==224){if(d>=u)return this.interim[0]=f,p;if(_=o[d++],(192&_)!=128){d--;continue}if(d>=u)return this.interim[0]=f,this.interim[1]=_,p;if(v=o[d++],(192&v)!=128){d--;continue}if(s=(15&f)<<12|(63&_)<<6|63&v,s<2048||s>=55296&&s<=57343||s===65279)continue;n[p++]=s}else if((248&f)==240){if(d>=u)return this.interim[0]=f,p;if(_=o[d++],(192&_)!=128){d--;continue}if(d>=u)return this.interim[0]=f,this.interim[1]=_,p;if(v=o[d++],(192&v)!=128){d--;continue}if(d>=u)return this.interim[0]=f,this.interim[1]=_,this.interim[2]=v,p;if(g=o[d++],(192&g)!=128){d--;continue}if(s=(7&f)<<18|(63&_)<<12|(63&v)<<6|63&g,s<65536||s>1114111)continue;n[p++]=s}}return p}}},225:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeV6=void 0;const n=o(8273),u=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],f=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let _;i.UnicodeV6=class{constructor(){if(this.version="6",!_){_=new Uint8Array(65536),(0,n.fill)(_,1),_[0]=0,(0,n.fill)(_,0,1,32),(0,n.fill)(_,0,127,160),(0,n.fill)(_,2,4352,4448),_[9001]=2,_[9002]=2,(0,n.fill)(_,2,11904,42192),_[12351]=1,(0,n.fill)(_,2,44032,55204),(0,n.fill)(_,2,63744,64256),(0,n.fill)(_,2,65040,65050),(0,n.fill)(_,2,65072,65136),(0,n.fill)(_,2,65280,65377),(0,n.fill)(_,2,65504,65511);for(let v=0;v<u.length;++v)(0,n.fill)(_,0,u[v][0],u[v][1]+1)}}wcwidth(v){return v<32?0:v<127?1:v<65536?_[v]:function(g,p){let s,c=0,a=p.length-1;if(g<p[0][0]||g>p[a][1])return!1;for(;a>=c;)if(s=c+a>>1,g>p[s][1])c=s+1;else{if(!(g<p[s][0]))return!0;a=s-1}return!1}(v,f)?0:v>=131072&&v<=196605||v>=196608&&v<=262141?2:1}}},5981:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WriteBuffer=void 0;const n=o(8460),u=typeof queueMicrotask>"u"?f=>{Promise.resolve().then(f)}:queueMicrotask;i.WriteBuffer=class{constructor(f){this._action=f,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._onWriteParsed=new n.EventEmitter}get onWriteParsed(){return this._onWriteParsed.event}writeSync(f,_){if(_!==void 0&&this._syncCalls>_)return void(this._syncCalls=0);if(this._pendingData+=f.length,this._writeBuffer.push(f),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let v;for(this._isSyncWriting=!0;v=this._writeBuffer.shift();){this._action(v);const g=this._callbacks.shift();g&&g()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(f,_){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout(()=>this._innerWrite())),this._pendingData+=f.length,this._writeBuffer.push(f),this._callbacks.push(_)}_innerWrite(f=0,_=!0){const v=f||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const g=this._writeBuffer[this._bufferOffset],p=this._action(g,_);if(p){const c=a=>Date.now()-v>=12?setTimeout(()=>this._innerWrite(0,a)):this._innerWrite(v,a);return void p.catch(a=>(u(()=>{throw a}),Promise.resolve(!1))).then(c)}const s=this._callbacks[this._bufferOffset];if(s&&s(),this._bufferOffset++,this._pendingData-=g.length,Date.now()-v>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}},5941:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.toRgbString=i.parseColor=void 0;const o=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,n=/^[\da-f]+$/;function u(f,_){const v=f.toString(16),g=v.length<2?"0"+v:v;switch(_){case 4:return v[0];case 8:return g;case 12:return(g+g).slice(0,3);default:return g+g}}i.parseColor=function(f){if(!f)return;let _=f.toLowerCase();if(_.indexOf("rgb:")===0){_=_.slice(4);const v=o.exec(_);if(v){const g=v[1]?15:v[4]?255:v[7]?4095:65535;return[Math.round(parseInt(v[1]||v[4]||v[7]||v[10],16)/g*255),Math.round(parseInt(v[2]||v[5]||v[8]||v[11],16)/g*255),Math.round(parseInt(v[3]||v[6]||v[9]||v[12],16)/g*255)]}}else if(_.indexOf("#")===0&&(_=_.slice(1),n.exec(_)&&[3,6,9,12].includes(_.length))){const v=_.length/3,g=[0,0,0];for(let p=0;p<3;++p){const s=parseInt(_.slice(v*p,v*p+v),16);g[p]=v===1?s<<4:v===2?s:v===3?s>>4:s>>8}return g}},i.toRgbString=function(f,_=16){const[v,g,p]=f;return`rgb:${u(v,_)}/${u(g,_)}/${u(p,_)}`}},5770:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PAYLOAD_LIMIT=void 0,i.PAYLOAD_LIMIT=1e7},6351:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DcsHandler=i.DcsParser=void 0;const n=o(482),u=o(8742),f=o(5770),_=[];i.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=_,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=_}registerHandler(g,p){this._handlers[g]===void 0&&(this._handlers[g]=[]);const s=this._handlers[g];return s.push(p),{dispose:()=>{const c=s.indexOf(p);c!==-1&&s.splice(c,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}reset(){if(this._active.length)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].unhook(!1);this._stack.paused=!1,this._active=_,this._ident=0}hook(g,p){if(this.reset(),this._ident=g,this._active=this._handlers[g]||_,this._active.length)for(let s=this._active.length-1;s>=0;s--)this._active[s].hook(p);else this._handlerFb(this._ident,"HOOK",p)}put(g,p,s){if(this._active.length)for(let c=this._active.length-1;c>=0;c--)this._active[c].put(g,p,s);else this._handlerFb(this._ident,"PUT",(0,n.utf32ToString)(g,p,s))}unhook(g,p=!0){if(this._active.length){let s=!1,c=this._active.length-1,a=!1;if(this._stack.paused&&(c=this._stack.loopPosition-1,s=p,a=this._stack.fallThrough,this._stack.paused=!1),!a&&s===!1){for(;c>=0&&(s=this._active[c].unhook(g),s!==!0);c--)if(s instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=c,this._stack.fallThrough=!1,s;c--}for(;c>=0;c--)if(s=this._active[c].unhook(!1),s instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=c,this._stack.fallThrough=!0,s}else this._handlerFb(this._ident,"UNHOOK",g);this._active=_,this._ident=0}};const v=new u.Params;v.addParam(0),i.DcsHandler=class{constructor(g){this._handler=g,this._data="",this._params=v,this._hitLimit=!1}hook(g){this._params=g.length>1||g.params[0]?g.clone():v,this._data="",this._hitLimit=!1}put(g,p,s){this._hitLimit||(this._data+=(0,n.utf32ToString)(g,p,s),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(g){let p=!1;if(this._hitLimit)p=!1;else if(g&&(p=this._handler(this._data,this._params),p instanceof Promise))return p.then(s=>(this._params=v,this._data="",this._hitLimit=!1,s));return this._params=v,this._data="",this._hitLimit=!1,p}}},2015:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.EscapeSequenceParser=i.VT500_TRANSITION_TABLE=i.TransitionTable=void 0;const n=o(844),u=o(8273),f=o(8742),_=o(6242),v=o(6351);class g{constructor(a){this.table=new Uint8Array(a)}setDefault(a,d){(0,u.fill)(this.table,a<<4|d)}add(a,d,m,w){this.table[d<<8|a]=m<<4|w}addMany(a,d,m,w){for(let S=0;S<a.length;S++)this.table[d<<8|a[S]]=m<<4|w}}i.TransitionTable=g;const p=160;i.VT500_TRANSITION_TABLE=function(){const c=new g(4095),a=Array.apply(null,Array(256)).map((k,R)=>R),d=(k,R)=>a.slice(k,R),m=d(32,127),w=d(0,24);w.push(25),w.push.apply(w,d(28,32));const S=d(0,14);let C;for(C in c.setDefault(1,0),c.addMany(m,0,2,0),S)c.addMany([24,26,153,154],C,3,0),c.addMany(d(128,144),C,3,0),c.addMany(d(144,152),C,3,0),c.add(156,C,0,0),c.add(27,C,11,1),c.add(157,C,4,8),c.addMany([152,158,159],C,0,7),c.add(155,C,11,3),c.add(144,C,11,9);return c.addMany(w,0,3,0),c.addMany(w,1,3,1),c.add(127,1,0,1),c.addMany(w,8,0,8),c.addMany(w,3,3,3),c.add(127,3,0,3),c.addMany(w,4,3,4),c.add(127,4,0,4),c.addMany(w,6,3,6),c.addMany(w,5,3,5),c.add(127,5,0,5),c.addMany(w,2,3,2),c.add(127,2,0,2),c.add(93,1,4,8),c.addMany(m,8,5,8),c.add(127,8,5,8),c.addMany([156,27,24,26,7],8,6,0),c.addMany(d(28,32),8,0,8),c.addMany([88,94,95],1,0,7),c.addMany(m,7,0,7),c.addMany(w,7,0,7),c.add(156,7,0,0),c.add(127,7,0,7),c.add(91,1,11,3),c.addMany(d(64,127),3,7,0),c.addMany(d(48,60),3,8,4),c.addMany([60,61,62,63],3,9,4),c.addMany(d(48,60),4,8,4),c.addMany(d(64,127),4,7,0),c.addMany([60,61,62,63],4,0,6),c.addMany(d(32,64),6,0,6),c.add(127,6,0,6),c.addMany(d(64,127),6,0,0),c.addMany(d(32,48),3,9,5),c.addMany(d(32,48),5,9,5),c.addMany(d(48,64),5,0,6),c.addMany(d(64,127),5,7,0),c.addMany(d(32,48),4,9,5),c.addMany(d(32,48),1,9,2),c.addMany(d(32,48),2,9,2),c.addMany(d(48,127),2,10,0),c.addMany(d(48,80),1,10,0),c.addMany(d(81,88),1,10,0),c.addMany([89,90,92],1,10,0),c.addMany(d(96,127),1,10,0),c.add(80,1,11,9),c.addMany(w,9,0,9),c.add(127,9,0,9),c.addMany(d(28,32),9,0,9),c.addMany(d(32,48),9,9,12),c.addMany(d(48,60),9,8,10),c.addMany([60,61,62,63],9,9,10),c.addMany(w,11,0,11),c.addMany(d(32,128),11,0,11),c.addMany(d(28,32),11,0,11),c.addMany(w,10,0,10),c.add(127,10,0,10),c.addMany(d(28,32),10,0,10),c.addMany(d(48,60),10,8,10),c.addMany([60,61,62,63],10,0,11),c.addMany(d(32,48),10,9,12),c.addMany(w,12,0,12),c.add(127,12,0,12),c.addMany(d(28,32),12,0,12),c.addMany(d(32,48),12,9,12),c.addMany(d(48,64),12,0,11),c.addMany(d(64,127),12,12,13),c.addMany(d(64,127),10,12,13),c.addMany(d(64,127),9,12,13),c.addMany(w,13,13,13),c.addMany(m,13,13,13),c.add(127,13,0,13),c.addMany([27,156,24,26],13,14,0),c.add(p,0,2,0),c.add(p,8,5,8),c.add(p,6,0,6),c.add(p,11,0,11),c.add(p,13,13,13),c}();class s extends n.Disposable{constructor(a=i.VT500_TRANSITION_TABLE){super(),this._transitions=a,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new f.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(d,m,w)=>{},this._executeHandlerFb=d=>{},this._csiHandlerFb=(d,m)=>{},this._escHandlerFb=d=>{},this._errorHandlerFb=d=>d,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser=new _.OscParser,this._dcsParser=new v.DcsParser,this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(a,d=[64,126]){let m=0;if(a.prefix){if(a.prefix.length>1)throw new Error("only one byte as prefix supported");if(m=a.prefix.charCodeAt(0),m&&60>m||m>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(a.intermediates){if(a.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let S=0;S<a.intermediates.length;++S){const C=a.intermediates.charCodeAt(S);if(32>C||C>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");m<<=8,m|=C}}if(a.final.length!==1)throw new Error("final must be a single byte");const w=a.final.charCodeAt(0);if(d[0]>w||w>d[1])throw new Error(`final must be in range ${d[0]} .. ${d[1]}`);return m<<=8,m|=w,m}identToString(a){const d=[];for(;a;)d.push(String.fromCharCode(255&a)),a>>=8;return d.reverse().join("")}dispose(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()}setPrintHandler(a){this._printHandler=a}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(a,d){const m=this._identifier(a,[48,126]);this._escHandlers[m]===void 0&&(this._escHandlers[m]=[]);const w=this._escHandlers[m];return w.push(d),{dispose:()=>{const S=w.indexOf(d);S!==-1&&w.splice(S,1)}}}clearEscHandler(a){this._escHandlers[this._identifier(a,[48,126])]&&delete this._escHandlers[this._identifier(a,[48,126])]}setEscHandlerFallback(a){this._escHandlerFb=a}setExecuteHandler(a,d){this._executeHandlers[a.charCodeAt(0)]=d}clearExecuteHandler(a){this._executeHandlers[a.charCodeAt(0)]&&delete this._executeHandlers[a.charCodeAt(0)]}setExecuteHandlerFallback(a){this._executeHandlerFb=a}registerCsiHandler(a,d){const m=this._identifier(a);this._csiHandlers[m]===void 0&&(this._csiHandlers[m]=[]);const w=this._csiHandlers[m];return w.push(d),{dispose:()=>{const S=w.indexOf(d);S!==-1&&w.splice(S,1)}}}clearCsiHandler(a){this._csiHandlers[this._identifier(a)]&&delete this._csiHandlers[this._identifier(a)]}setCsiHandlerFallback(a){this._csiHandlerFb=a}registerDcsHandler(a,d){return this._dcsParser.registerHandler(this._identifier(a),d)}clearDcsHandler(a){this._dcsParser.clearHandler(this._identifier(a))}setDcsHandlerFallback(a){this._dcsParser.setHandlerFallback(a)}registerOscHandler(a,d){return this._oscParser.registerHandler(a,d)}clearOscHandler(a){this._oscParser.clearHandler(a)}setOscHandlerFallback(a){this._oscParser.setHandlerFallback(a)}setErrorHandler(a){this._errorHandler=a}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(a,d,m,w,S){this._parseStack.state=a,this._parseStack.handlers=d,this._parseStack.handlerPos=m,this._parseStack.transition=w,this._parseStack.chunkPos=S}parse(a,d,m){let w,S=0,C=0,k=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,k=this._parseStack.chunkPos+1;else{if(m===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const R=this._parseStack.handlers;let A=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(m===!1&&A>-1){for(;A>=0&&(w=R[A](this._params),w!==!0);A--)if(w instanceof Promise)return this._parseStack.handlerPos=A,w}this._parseStack.handlers=[];break;case 4:if(m===!1&&A>-1){for(;A>=0&&(w=R[A](),w!==!0);A--)if(w instanceof Promise)return this._parseStack.handlerPos=A,w}this._parseStack.handlers=[];break;case 6:if(S=a[this._parseStack.chunkPos],w=this._dcsParser.unhook(S!==24&&S!==26,m),w)return w;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(S=a[this._parseStack.chunkPos],w=this._oscParser.end(S!==24&&S!==26,m),w)return w;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,k=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let R=k;R<d;++R){switch(S=a[R],C=this._transitions.table[this.currentState<<8|(S<160?S:p)],C>>4){case 2:for(let E=R+1;;++E){if(E>=d||(S=a[E])<32||S>126&&S<p){this._printHandler(a,R,E),R=E-1;break}if(++E>=d||(S=a[E])<32||S>126&&S<p){this._printHandler(a,R,E),R=E-1;break}if(++E>=d||(S=a[E])<32||S>126&&S<p){this._printHandler(a,R,E),R=E-1;break}if(++E>=d||(S=a[E])<32||S>126&&S<p){this._printHandler(a,R,E),R=E-1;break}}break;case 3:this._executeHandlers[S]?this._executeHandlers[S]():this._executeHandlerFb(S),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:R,code:S,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const A=this._csiHandlers[this._collect<<8|S];let D=A?A.length-1:-1;for(;D>=0&&(w=A[D](this._params),w!==!0);D--)if(w instanceof Promise)return this._preserveStack(3,A,D,C,R),w;D<0&&this._csiHandlerFb(this._collect<<8|S,this._params),this.precedingCodepoint=0;break;case 8:do switch(S){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(S-48)}while(++R<d&&(S=a[R])>47&&S<60);R--;break;case 9:this._collect<<=8,this._collect|=S;break;case 10:const T=this._escHandlers[this._collect<<8|S];let x=T?T.length-1:-1;for(;x>=0&&(w=T[x](),w!==!0);x--)if(w instanceof Promise)return this._preserveStack(4,T,x,C,R),w;x<0&&this._escHandlerFb(this._collect<<8|S),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|S,this._params);break;case 13:for(let E=R+1;;++E)if(E>=d||(S=a[E])===24||S===26||S===27||S>127&&S<p){this._dcsParser.put(a,R,E),R=E-1;break}break;case 14:if(w=this._dcsParser.unhook(S!==24&&S!==26),w)return this._preserveStack(6,[],0,C,R),w;S===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let E=R+1;;E++)if(E>=d||(S=a[E])<32||S>127&&S<p){this._oscParser.put(a,R,E),R=E-1;break}break;case 6:if(w=this._oscParser.end(S!==24&&S!==26),w)return this._preserveStack(5,[],0,C,R),w;S===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&C}}}i.EscapeSequenceParser=s},6242:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OscHandler=i.OscParser=void 0;const n=o(5770),u=o(482),f=[];i.OscParser=class{constructor(){this._state=0,this._active=f,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(_,v){this._handlers[_]===void 0&&(this._handlers[_]=[]);const g=this._handlers[_];return g.push(v),{dispose:()=>{const p=g.indexOf(v);p!==-1&&g.splice(p,1)}}}clearHandler(_){this._handlers[_]&&delete this._handlers[_]}setHandlerFallback(_){this._handlerFb=_}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=f}reset(){if(this._state===2)for(let _=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;_>=0;--_)this._active[_].end(!1);this._stack.paused=!1,this._active=f,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||f,this._active.length)for(let _=this._active.length-1;_>=0;_--)this._active[_].start();else this._handlerFb(this._id,"START")}_put(_,v,g){if(this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].put(_,v,g);else this._handlerFb(this._id,"PUT",(0,u.utf32ToString)(_,v,g))}start(){this.reset(),this._state=1}put(_,v,g){if(this._state!==3){if(this._state===1)for(;v<g;){const p=_[v++];if(p===59){this._state=2,this._start();break}if(p<48||57<p)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+p-48}this._state===2&&g-v>0&&this._put(_,v,g)}}end(_,v=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let g=!1,p=this._active.length-1,s=!1;if(this._stack.paused&&(p=this._stack.loopPosition-1,g=v,s=this._stack.fallThrough,this._stack.paused=!1),!s&&g===!1){for(;p>=0&&(g=this._active[p].end(_),g!==!0);p--)if(g instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!1,g;p--}for(;p>=0;p--)if(g=this._active[p].end(!1),g instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!0,g}else this._handlerFb(this._id,"END",_);this._active=f,this._id=-1,this._state=0}}},i.OscHandler=class{constructor(_){this._handler=_,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(_,v,g){this._hitLimit||(this._data+=(0,u.utf32ToString)(_,v,g),this._data.length>n.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(_){let v=!1;if(this._hitLimit)v=!1;else if(_&&(v=this._handler(this._data),v instanceof Promise))return v.then(g=>(this._data="",this._hitLimit=!1,g));return this._data="",this._hitLimit=!1,v}}},8742:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Params=void 0;const o=2147483647;class n{constructor(f=32,_=32){if(this.maxLength=f,this.maxSubParamsLength=_,_>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(f),this.length=0,this._subParams=new Int32Array(_),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(f),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(f){const _=new n;if(!f.length)return _;for(let v=Array.isArray(f[0])?1:0;v<f.length;++v){const g=f[v];if(Array.isArray(g))for(let p=0;p<g.length;++p)_.addSubParam(g[p]);else _.addParam(g)}return _}clone(){const f=new n(this.maxLength,this.maxSubParamsLength);return f.params.set(this.params),f.length=this.length,f._subParams.set(this._subParams),f._subParamsLength=this._subParamsLength,f._subParamsIdx.set(this._subParamsIdx),f._rejectDigits=this._rejectDigits,f._rejectSubDigits=this._rejectSubDigits,f._digitIsSub=this._digitIsSub,f}toArray(){const f=[];for(let _=0;_<this.length;++_){f.push(this.params[_]);const v=this._subParamsIdx[_]>>8,g=255&this._subParamsIdx[_];g-v>0&&f.push(Array.prototype.slice.call(this._subParams,v,g))}return f}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(f){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=f>o?o:f}}addSubParam(f){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=f>o?o:f,this._subParamsIdx[this.length-1]++}}hasSubParams(f){return(255&this._subParamsIdx[f])-(this._subParamsIdx[f]>>8)>0}getSubParams(f){const _=this._subParamsIdx[f]>>8,v=255&this._subParamsIdx[f];return v-_>0?this._subParams.subarray(_,v):null}getSubParamsAll(){const f={};for(let _=0;_<this.length;++_){const v=this._subParamsIdx[_]>>8,g=255&this._subParamsIdx[_];g-v>0&&(f[_]=this._subParams.slice(v,g))}return f}addDigit(f){let _;if(this._rejectDigits||!(_=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const v=this._digitIsSub?this._subParams:this.params,g=v[_-1];v[_-1]=~g?Math.min(10*g+f,o):f}}i.Params=n},5741:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AddonManager=void 0,i.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let o=this._addons.length-1;o>=0;o--)this._addons[o].instance.dispose()}loadAddon(o,n){const u={instance:n,dispose:n.dispose,isDisposed:!1};this._addons.push(u),n.dispose=()=>this._wrappedAddonDispose(u),n.activate(o)}_wrappedAddonDispose(o){if(o.isDisposed)return;let n=-1;for(let u=0;u<this._addons.length;u++)if(this._addons[u]===o){n=u;break}if(n===-1)throw new Error("Could not dispose an addon that has not been loaded");o.isDisposed=!0,o.dispose.apply(o.instance),this._addons.splice(n,1)}}},8771:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferApiView=void 0;const n=o(3785),u=o(511);i.BufferApiView=class{constructor(f,_){this._buffer=f,this.type=_}init(f){return this._buffer=f,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(f){const _=this._buffer.lines.get(f);if(_)return new n.BufferLineApiView(_)}getNullCell(){return new u.CellData}}},3785:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferLineApiView=void 0;const n=o(511);i.BufferLineApiView=class{constructor(u){this._line=u}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(u,f){if(!(u<0||u>=this._line.length))return f?(this._line.loadCell(u,f),f):this._line.loadCell(u,new n.CellData)}translateToString(u,f,_){return this._line.translateToString(u,f,_)}}},8285:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferNamespaceApi=void 0;const n=o(8771),u=o(8460);i.BufferNamespaceApi=class{constructor(f){this._core=f,this._onBufferChange=new u.EventEmitter,this._normal=new n.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new n.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get onBufferChange(){return this._onBufferChange.event}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ParserApi=void 0,i.ParserApi=class{constructor(o){this._core=o}registerCsiHandler(o,n){return this._core.registerCsiHandler(o,u=>n(u.toArray()))}addCsiHandler(o,n){return this.registerCsiHandler(o,n)}registerDcsHandler(o,n){return this._core.registerDcsHandler(o,(u,f)=>n(u,f.toArray()))}addDcsHandler(o,n){return this.registerDcsHandler(o,n)}registerEscHandler(o,n){return this._core.registerEscHandler(o,n)}addEscHandler(o,n){return this.registerEscHandler(o,n)}registerOscHandler(o,n){return this._core.registerOscHandler(o,n)}addOscHandler(o,n){return this.registerOscHandler(o,n)}}},7090:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeApi=void 0,i.UnicodeApi=class{constructor(o){this._core=o}register(o){this._core.unicodeService.register(o)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(o){this._core.unicodeService.activeVersion=o}}},744:function(y,i,o){var n=this&&this.__decorate||function(s,c,a,d){var m,w=arguments.length,S=w<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,a):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(s,c,a,d);else for(var C=s.length-1;C>=0;C--)(m=s[C])&&(S=(w<3?m(S):w>3?m(c,a,S):m(c,a))||S);return w>3&&S&&Object.defineProperty(c,a,S),S},u=this&&this.__param||function(s,c){return function(a,d){c(a,d,s)}};Object.defineProperty(i,"__esModule",{value:!0}),i.BufferService=i.MINIMUM_ROWS=i.MINIMUM_COLS=void 0;const f=o(2585),_=o(5295),v=o(8460),g=o(844);i.MINIMUM_COLS=2,i.MINIMUM_ROWS=1;let p=class extends g.Disposable{constructor(s){super(),this.isUserScrolling=!1,this._onResize=new v.EventEmitter,this._onScroll=new v.EventEmitter,this.cols=Math.max(s.rawOptions.cols||0,i.MINIMUM_COLS),this.rows=Math.max(s.rawOptions.rows||0,i.MINIMUM_ROWS),this.buffers=new _.BufferSet(s,this)}get onResize(){return this._onResize.event}get onScroll(){return this._onScroll.event}get buffer(){return this.buffers.active}dispose(){super.dispose(),this.buffers.dispose()}resize(s,c){this.cols=s,this.rows=c,this.buffers.resize(s,c),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:s,rows:c})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(s,c=!1){const a=this.buffer;let d;d=this._cachedBlankLine,d&&d.length===this.cols&&d.getFg(0)===s.fg&&d.getBg(0)===s.bg||(d=a.getBlankLine(s,c),this._cachedBlankLine=d),d.isWrapped=c;const m=a.ybase+a.scrollTop,w=a.ybase+a.scrollBottom;if(a.scrollTop===0){const S=a.lines.isFull;w===a.lines.length-1?S?a.lines.recycle().copyFrom(d):a.lines.push(d.clone()):a.lines.splice(w+1,0,d.clone()),S?this.isUserScrolling&&(a.ydisp=Math.max(a.ydisp-1,0)):(a.ybase++,this.isUserScrolling||a.ydisp++)}else{const S=w-m+1;a.lines.shiftElements(m+1,S-1,-1),a.lines.set(w,d.clone())}this.isUserScrolling||(a.ydisp=a.ybase),this._onScroll.fire(a.ydisp)}scrollLines(s,c,a){const d=this.buffer;if(s<0){if(d.ydisp===0)return;this.isUserScrolling=!0}else s+d.ydisp>=d.ybase&&(this.isUserScrolling=!1);const m=d.ydisp;d.ydisp=Math.max(Math.min(d.ydisp+s,d.ybase),0),m!==d.ydisp&&(c||this._onScroll.fire(d.ydisp))}scrollPages(s){this.scrollLines(s*(this.rows-1))}scrollToTop(){this.scrollLines(-this.buffer.ydisp)}scrollToBottom(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)}scrollToLine(s){const c=s-this.buffer.ydisp;c!==0&&this.scrollLines(c)}};p=n([u(0,f.IOptionsService)],p),i.BufferService=p},7994:(y,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CharsetService=void 0,i.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(o){this.glevel=o,this.charset=this._charsets[o]}setgCharset(o,n){this._charsets[o]=n,this.glevel===o&&(this.charset=n)}}},1753:function(y,i,o){var n=this&&this.__decorate||function(a,d,m,w){var S,C=arguments.length,k=C<3?d:w===null?w=Object.getOwnPropertyDescriptor(d,m):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(a,d,m,w);else for(var R=a.length-1;R>=0;R--)(S=a[R])&&(k=(C<3?S(k):C>3?S(d,m,k):S(d,m))||k);return C>3&&k&&Object.defineProperty(d,m,k),k},u=this&&this.__param||function(a,d){return function(m,w){d(m,w,a)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CoreMouseService=void 0;const f=o(2585),_=o(8460),v={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:a=>a.button!==4&&a.action===1&&(a.ctrl=!1,a.alt=!1,a.shift=!1,!0)},VT200:{events:19,restrict:a=>a.action!==32},DRAG:{events:23,restrict:a=>a.action!==32||a.button!==3},ANY:{events:31,restrict:a=>!0}};function g(a,d){let m=(a.ctrl?16:0)|(a.shift?4:0)|(a.alt?8:0);return a.button===4?(m|=64,m|=a.action):(m|=3&a.button,4&a.button&&(m|=64),8&a.button&&(m|=128),a.action===32?m|=32:a.action!==0||d||(m|=3)),m}const p=String.fromCharCode,s={DEFAULT:a=>{const d=[g(a,!1)+32,a.col+32,a.row+32];return d[0]>255||d[1]>255||d[2]>255?"":`\x1B[M${p(d[0])}${p(d[1])}${p(d[2])}`},SGR:a=>{const d=a.action===0&&a.button!==4?"m":"M";return`\x1B[<${g(a,!0)};${a.col};${a.row}${d}`},SGR_PIXELS:a=>{const d=a.action===0&&a.button!==4?"m":"M";return`\x1B[<${g(a,!0)};${a.x};${a.y}${d}`}};let c=class{constructor(a,d){this._bufferService=a,this._coreService=d,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new _.EventEmitter,this._lastEvent=null;for(const m of Object.keys(v))this.addProtocol(m,v[m]);for(const m of Object.keys(s))this.addEncoding(m,s[m]);this.reset()}addProtocol(a,d){this._protocols[a]=d}addEncoding(a,d){this._encodings[a]=d}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(a){if(!this._protocols[a])throw new Error(`unknown protocol "${a}"`);this._activeProtocol=a,this._onProtocolChange.fire(this._protocols[a].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(a){if(!this._encodings[a])throw new Error(`unknown encoding "${a}"`);this._activeEncoding=a}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}get onProtocolChange(){return this._onProtocolChange.event}triggerMouseEvent(a){if(a.col<0||a.col>=this._bufferService.cols||a.row<0||a.row>=this._bufferService.rows||a.button===4&&a.action===32||a.button===3&&a.action!==32||a.button!==4&&(a.action===2||a.action===3)||(a.col++,a.row++,a.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,a,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(a))return!1;const d=this._encodings[this._activeEncoding](a);return d&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(d):this._coreService.triggerDataEvent(d,!0)),this._lastEvent=a,!0}explainEvents(a){return{down:!!(1&a),up:!!(2&a),drag:!!(4&a),move:!!(8&a),wheel:!!(16&a)}}_equalEvents(a,d,m){if(m){if(a.x!==d.x||a.y!==d.y)return!1}else if(a.col!==d.col||a.row!==d.row)return!1;return a.button===d.button&&a.action===d.action&&a.ctrl===d.ctrl&&a.alt===d.alt&&a.shift===d.shift}};c=n([u(0,f.IBufferService),u(1,f.ICoreService)],c),i.CoreMouseService=c},6975:function(y,i,o){var n=this&&this.__decorate||function(a,d,m,w){var S,C=arguments.length,k=C<3?d:w===null?w=Object.getOwnPropertyDescriptor(d,m):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(a,d,m,w);else for(var R=a.length-1;R>=0;R--)(S=a[R])&&(k=(C<3?S(k):C>3?S(d,m,k):S(d,m))||k);return C>3&&k&&Object.defineProperty(d,m,k),k},u=this&&this.__param||function(a,d){return function(m,w){d(m,w,a)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CoreService=void 0;const f=o(2585),_=o(8460),v=o(1439),g=o(844),p=Object.freeze({insertMode:!1}),s=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let c=class extends g.Disposable{constructor(a,d,m,w){super(),this._bufferService=d,this._logService=m,this._optionsService=w,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new _.EventEmitter),this._onUserInput=this.register(new _.EventEmitter),this._onBinary=this.register(new _.EventEmitter),this._scrollToBottom=a,this.register({dispose:()=>this._scrollToBottom=void 0}),this.modes=(0,v.clone)(p),this.decPrivateModes=(0,v.clone)(s)}get onData(){return this._onData.event}get onUserInput(){return this._onUserInput.event}get onBinary(){return this._onBinary.event}reset(){this.modes=(0,v.clone)(p),this.decPrivateModes=(0,v.clone)(s)}triggerDataEvent(a,d=!1){if(this._optionsService.rawOptions.disableStdin)return;const m=this._bufferService.buffer;m.ybase!==m.ydisp&&this._scrollToBottom(),d&&this._onUserInput.fire(),this._logService.debug(`sending data "${a}"`,()=>a.split("").map(w=>w.charCodeAt(0))),this._onData.fire(a)}triggerBinaryEvent(a){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${a}"`,()=>a.split("").map(d=>d.charCodeAt(0))),this._onBinary.fire(a))}};c=n([u(1,f.IBufferService),u(2,f.ILogService),u(3,f.IOptionsService)],c),i.CoreService=c},9074:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DecorationService=void 0;const n=o(8055),u=o(8460),f=o(844),_=o(6106),v={xmin:0,xmax:0};class g extends f.Disposable{constructor(){super(...arguments),this._decorations=new _.SortedList(c=>c==null?void 0:c.marker.line),this._onDecorationRegistered=this.register(new u.EventEmitter),this._onDecorationRemoved=this.register(new u.EventEmitter)}get onDecorationRegistered(){return this._onDecorationRegistered.event}get onDecorationRemoved(){return this._onDecorationRemoved.event}get decorations(){return this._decorations.values()}registerDecoration(c){if(c.marker.isDisposed)return;const a=new p(c);if(a){const d=a.marker.onDispose(()=>a.dispose());a.onDispose(()=>{a&&(this._decorations.delete(a)&&this._onDecorationRemoved.fire(a),d.dispose())}),this._decorations.insert(a),this._onDecorationRegistered.fire(a)}return a}reset(){for(const c of this._decorations.values())c.dispose();this._decorations.clear()}*getDecorationsAtCell(c,a,d){var m,w,S;let C=0,k=0;for(const R of this._decorations.getKeyIterator(a))C=(m=R.options.x)!==null&&m!==void 0?m:0,k=C+((w=R.options.width)!==null&&w!==void 0?w:1),c>=C&&c<k&&(!d||((S=R.options.layer)!==null&&S!==void 0?S:"bottom")===d)&&(yield R)}forEachDecorationAtCell(c,a,d,m){this._decorations.forEachByKey(a,w=>{var S,C,k;v.xmin=(S=w.options.x)!==null&&S!==void 0?S:0,v.xmax=v.xmin+((C=w.options.width)!==null&&C!==void 0?C:1),c>=v.xmin&&c<v.xmax&&(!d||((k=w.options.layer)!==null&&k!==void 0?k:"bottom")===d)&&m(w)})}dispose(){for(const c of this._decorations.values())this._onDecorationRemoved.fire(c);this.reset()}}i.DecorationService=g;class p extends f.Disposable{constructor(c){super(),this.options=c,this.isDisposed=!1,this.onRenderEmitter=this.register(new u.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new u.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=c.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=n.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=n.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}dispose(){this._isDisposed||(this._isDisposed=!0,this._onDispose.fire(),super.dispose())}}},3730:function(y,i,o){var n=this&&this.__decorate||function(v,g,p,s){var c,a=arguments.length,d=a<3?g:s===null?s=Object.getOwnPropertyDescriptor(g,p):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(v,g,p,s);else for(var m=v.length-1;m>=0;m--)(c=v[m])&&(d=(a<3?c(d):a>3?c(g,p,d):c(g,p))||d);return a>3&&d&&Object.defineProperty(g,p,d),d},u=this&&this.__param||function(v,g){return function(p,s){g(p,s,v)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DirtyRowService=void 0;const f=o(2585);let _=class{constructor(v){this._bufferService=v,this.clearRange()}get start(){return this._start}get end(){return this._end}clearRange(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y}markDirty(v){v<this._start?this._start=v:v>this._end&&(this._end=v)}markRangeDirty(v,g){if(v>g){const p=v;v=g,g=p}v<this._start&&(this._start=v),g>this._end&&(this._end=g)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};_=n([u(0,f.IBufferService)],_),i.DirtyRowService=_},4348:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.InstantiationService=i.ServiceCollection=void 0;const n=o(2585),u=o(8343);class f{constructor(...v){this._entries=new Map;for(const[g,p]of v)this.set(g,p)}set(v,g){const p=this._entries.get(v);return this._entries.set(v,g),p}forEach(v){this._entries.forEach((g,p)=>v(p,g))}has(v){return this._entries.has(v)}get(v){return this._entries.get(v)}}i.ServiceCollection=f,i.InstantiationService=class{constructor(){this._services=new f,this._services.set(n.IInstantiationService,this)}setService(_,v){this._services.set(_,v)}getService(_){return this._services.get(_)}createInstance(_,...v){const g=(0,u.getServiceDependencies)(_).sort((c,a)=>c.index-a.index),p=[];for(const c of g){const a=this._services.get(c.id);if(!a)throw new Error(`[createInstance] ${_.name} depends on UNKNOWN service ${c.id}.`);p.push(a)}const s=g.length>0?g[0].index:v.length;if(v.length!==s)throw new Error(`[createInstance] First service dependency of ${_.name} at position ${s+1} conflicts with ${v.length} static arguments`);return new _(...v,...p)}}},7866:function(y,i,o){var n=this&&this.__decorate||function(g,p,s,c){var a,d=arguments.length,m=d<3?p:c===null?c=Object.getOwnPropertyDescriptor(p,s):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(g,p,s,c);else for(var w=g.length-1;w>=0;w--)(a=g[w])&&(m=(d<3?a(m):d>3?a(p,s,m):a(p,s))||m);return d>3&&m&&Object.defineProperty(p,s,m),m},u=this&&this.__param||function(g,p){return function(s,c){p(s,c,g)}};Object.defineProperty(i,"__esModule",{value:!0}),i.LogService=void 0;const f=o(2585),_={debug:f.LogLevelEnum.DEBUG,info:f.LogLevelEnum.INFO,warn:f.LogLevelEnum.WARN,error:f.LogLevelEnum.ERROR,off:f.LogLevelEnum.OFF};let v=class{constructor(g){this._optionsService=g,this.logLevel=f.LogLevelEnum.OFF,this._updateLogLevel(),this._optionsService.onOptionChange(p=>{p==="logLevel"&&this._updateLogLevel()})}_updateLogLevel(){this.logLevel=_[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(g){for(let p=0;p<g.length;p++)typeof g[p]=="function"&&(g[p]=g[p]())}_log(g,p,s){this._evalLazyOptionalParams(s),g.call(console,"xterm.js: "+p,...s)}debug(g,...p){this.logLevel<=f.LogLevelEnum.DEBUG&&this._log(console.log,g,p)}info(g,...p){this.logLevel<=f.LogLevelEnum.INFO&&this._log(console.info,g,p)}warn(g,...p){this.logLevel<=f.LogLevelEnum.WARN&&this._log(console.warn,g,p)}error(g,...p){this.logLevel<=f.LogLevelEnum.ERROR&&this._log(console.error,g,p)}};v=n([u(0,f.IOptionsService)],v),i.LogService=v},7302:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OptionsService=i.DEFAULT_OPTIONS=void 0;const n=o(8460),u=o(6114);i.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:u.isMac,windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const f=["normal","bold","100","200","300","400","500","600","700","800","900"];i.OptionsService=class{constructor(_){this._onOptionChange=new n.EventEmitter;const v=Object.assign({},i.DEFAULT_OPTIONS);for(const g in _)if(g in v)try{const p=_[g];v[g]=this._sanitizeAndValidateOption(g,p)}catch(p){console.error(p)}this.rawOptions=v,this.options=Object.assign({},v),this._setupOptions()}get onOptionChange(){return this._onOptionChange.event}_setupOptions(){const _=g=>{if(!(g in i.DEFAULT_OPTIONS))throw new Error(`No option with key "${g}"`);return this.rawOptions[g]},v=(g,p)=>{if(!(g in i.DEFAULT_OPTIONS))throw new Error(`No option with key "${g}"`);p=this._sanitizeAndValidateOption(g,p),this.rawOptions[g]!==p&&(this.rawOptions[g]=p,this._onOptionChange.fire(g))};for(const g in this.rawOptions){const p={get:_.bind(this,g),set:v.bind(this,g)};Object.defineProperty(this.options,g,p)}}_sanitizeAndValidateOption(_,v){switch(_){case"cursorStyle":if(v||(v=i.DEFAULT_OPTIONS[_]),!function(g){return g==="block"||g==="underline"||g==="bar"}(v))throw new Error(`"${v}" is not a valid value for ${_}`);break;case"wordSeparator":v||(v=i.DEFAULT_OPTIONS[_]);break;case"fontWeight":case"fontWeightBold":if(typeof v=="number"&&1<=v&&v<=1e3)break;v=f.includes(v)?v:i.DEFAULT_OPTIONS[_];break;case"cursorWidth":v=Math.floor(v);case"lineHeight":case"tabStopWidth":if(v<1)throw new Error(`${_} cannot be less than 1, value: ${v}`);break;case"minimumContrastRatio":v=Math.max(1,Math.min(21,Math.round(10*v)/10));break;case"scrollback":if((v=Math.min(v,4294967295))<0)throw new Error(`${_} cannot be less than 0, value: ${v}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(v<=0)throw new Error(`${_} cannot be less than or equal to 0, value: ${v}`);case"rows":case"cols":if(!v&&v!==0)throw new Error(`${_} must be numeric, value: ${v}`)}return v}}},2660:function(y,i,o){var n=this&&this.__decorate||function(v,g,p,s){var c,a=arguments.length,d=a<3?g:s===null?s=Object.getOwnPropertyDescriptor(g,p):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(v,g,p,s);else for(var m=v.length-1;m>=0;m--)(c=v[m])&&(d=(a<3?c(d):a>3?c(g,p,d):c(g,p))||d);return a>3&&d&&Object.defineProperty(g,p,d),d},u=this&&this.__param||function(v,g){return function(p,s){g(p,s,v)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OscLinkService=void 0;const f=o(2585);let _=class{constructor(v){this._bufferService=v,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(v){const g=this._bufferService.buffer;if(v.id===void 0){const m=g.addMarker(g.ybase+g.y),w={data:v,id:this._nextId++,lines:[m]};return m.onDispose(()=>this._removeMarkerFromLink(w,m)),this._dataByLinkId.set(w.id,w),w.id}const p=v,s=this._getEntryIdKey(p),c=this._entriesWithId.get(s);if(c)return this.addLineToLink(c.id,g.ybase+g.y),c.id;const a=g.addMarker(g.ybase+g.y),d={id:this._nextId++,key:this._getEntryIdKey(p),data:p,lines:[a]};return a.onDispose(()=>this._removeMarkerFromLink(d,a)),this._entriesWithId.set(d.key,d),this._dataByLinkId.set(d.id,d),d.id}addLineToLink(v,g){const p=this._dataByLinkId.get(v);if(p&&p.lines.every(s=>s.line!==g)){const s=this._bufferService.buffer.addMarker(g);p.lines.push(s),s.onDispose(()=>this._removeMarkerFromLink(p,s))}}getLinkData(v){var g;return(g=this._dataByLinkId.get(v))===null||g===void 0?void 0:g.data}_getEntryIdKey(v){return`${v.id};;${v.uri}`}_removeMarkerFromLink(v,g){const p=v.lines.indexOf(g);p!==-1&&(v.lines.splice(p,1),v.lines.length===0&&(v.data.id!==void 0&&this._entriesWithId.delete(v.key),this._dataByLinkId.delete(v.id)))}};_=n([u(0,f.IBufferService)],_),i.OscLinkService=_},8343:(y,i)=>{function o(n,u,f){u.di$target===u?u.di$dependencies.push({id:n,index:f}):(u.di$dependencies=[{id:n,index:f}],u.di$target=u)}Object.defineProperty(i,"__esModule",{value:!0}),i.createDecorator=i.getServiceDependencies=i.serviceRegistry=void 0,i.serviceRegistry=new Map,i.getServiceDependencies=function(n){return n.di$dependencies||[]},i.createDecorator=function(n){if(i.serviceRegistry.has(n))return i.serviceRegistry.get(n);const u=function(f,_,v){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");o(u,f,v)};return u.toString=()=>n,i.serviceRegistry.set(n,u),u}},2585:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.IDecorationService=i.IUnicodeService=i.IOscLinkService=i.IOptionsService=i.ILogService=i.LogLevelEnum=i.IInstantiationService=i.IDirtyRowService=i.ICharsetService=i.ICoreService=i.ICoreMouseService=i.IBufferService=void 0;const n=o(8343);var u;i.IBufferService=(0,n.createDecorator)("BufferService"),i.ICoreMouseService=(0,n.createDecorator)("CoreMouseService"),i.ICoreService=(0,n.createDecorator)("CoreService"),i.ICharsetService=(0,n.createDecorator)("CharsetService"),i.IDirtyRowService=(0,n.createDecorator)("DirtyRowService"),i.IInstantiationService=(0,n.createDecorator)("InstantiationService"),(u=i.LogLevelEnum||(i.LogLevelEnum={}))[u.DEBUG=0]="DEBUG",u[u.INFO=1]="INFO",u[u.WARN=2]="WARN",u[u.ERROR=3]="ERROR",u[u.OFF=4]="OFF",i.ILogService=(0,n.createDecorator)("LogService"),i.IOptionsService=(0,n.createDecorator)("OptionsService"),i.IOscLinkService=(0,n.createDecorator)("OscLinkService"),i.IUnicodeService=(0,n.createDecorator)("UnicodeService"),i.IDecorationService=(0,n.createDecorator)("DecorationService")},1480:(y,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeService=void 0;const n=o(8460),u=o(225);i.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new n.EventEmitter;const f=new u.UnicodeV6;this.register(f),this._active=f.version,this._activeProvider=f}get onChange(){return this._onChange.event}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(f){if(!this._providers[f])throw new Error(`unknown Unicode version "${f}"`);this._active=f,this._activeProvider=this._providers[f],this._onChange.fire(f)}register(f){this._providers[f.version]=f}wcwidth(f){return this._activeProvider.wcwidth(f)}getStringCellWidth(f){let _=0;const v=f.length;for(let g=0;g<v;++g){let p=f.charCodeAt(g);if(55296<=p&&p<=56319){if(++g>=v)return _+this.wcwidth(p);const s=f.charCodeAt(g);56320<=s&&s<=57343?p=1024*(p-55296)+s-56320+65536:_+=this.wcwidth(s)}_+=this.wcwidth(p)}return _}}}},l={};function h(y){var i=l[y];if(i!==void 0)return i.exports;var o=l[y]={exports:{}};return r[y].call(o.exports,o,o.exports,h),o.exports}var b={};return(()=>{var y=b;Object.defineProperty(y,"__esModule",{value:!0}),y.Terminal=void 0;const i=h(3236),o=h(9042),n=h(7975),u=h(7090),f=h(5741),_=h(8285),v=["cols","rows"];y.Terminal=class{constructor(g){this._core=new i.Terminal(g),this._addonManager=new f.AddonManager,this._publicOptions=Object.assign({},this._core.options);const p=c=>this._core.options[c],s=(c,a)=>{this._checkReadonlyOptions(c),this._core.options[c]=a};for(const c in this._core.options){const a={get:p.bind(this,c),set:s.bind(this,c)};Object.defineProperty(this._publicOptions,c,a)}}_checkReadonlyOptions(g){if(v.includes(g))throw new Error(`Option "${g}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._checkProposedApi(),this._parser||(this._parser=new n.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new u.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._checkProposedApi(),this._buffer||(this._buffer=new _.BufferNamespaceApi(this._core)),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const g=this._core.coreService.decPrivateModes;let p="none";switch(this._core.coreMouseService.activeProtocol){case"X10":p="x10";break;case"VT200":p="vt200";break;case"DRAG":p="drag";break;case"ANY":p="any"}return{applicationCursorKeysMode:g.applicationCursorKeys,applicationKeypadMode:g.applicationKeypad,bracketedPasteMode:g.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:p,originMode:g.origin,reverseWraparoundMode:g.reverseWraparound,sendFocusMode:g.sendFocus,wraparoundMode:g.wraparound}}get options(){return this._publicOptions}set options(g){for(const p in g)this._publicOptions[p]=g[p]}blur(){this._core.blur()}focus(){this._core.focus()}resize(g,p){this._verifyIntegers(g,p),this._core.resize(g,p)}open(g){this._core.open(g)}attachCustomKeyEventHandler(g){this._core.attachCustomKeyEventHandler(g)}registerLinkProvider(g){return this._checkProposedApi(),this._core.registerLinkProvider(g)}registerCharacterJoiner(g){return this._checkProposedApi(),this._core.registerCharacterJoiner(g)}deregisterCharacterJoiner(g){this._checkProposedApi(),this._core.deregisterCharacterJoiner(g)}registerMarker(g=0){return this._verifyIntegers(g),this._core.addMarker(g)}registerDecoration(g){var p,s,c;return this._checkProposedApi(),this._verifyPositiveIntegers((p=g.x)!==null&&p!==void 0?p:0,(s=g.width)!==null&&s!==void 0?s:0,(c=g.height)!==null&&c!==void 0?c:0),this._core.registerDecoration(g)}hasSelection(){return this._core.hasSelection()}select(g,p,s){this._verifyIntegers(g,p,s),this._core.select(g,p,s)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(g,p){this._verifyIntegers(g,p),this._core.selectLines(g,p)}dispose(){this._addonManager.dispose(),this._core.dispose()}scrollLines(g){this._verifyIntegers(g),this._core.scrollLines(g)}scrollPages(g){this._verifyIntegers(g),this._core.scrollPages(g)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(g){this._verifyIntegers(g),this._core.scrollToLine(g)}clear(){this._core.clear()}write(g,p){this._core.write(g,p)}writeln(g,p){this._core.write(g),this._core.write(`\r
`,p)}paste(g){this._core.paste(g)}refresh(g,p){this._verifyIntegers(g,p),this._core.refresh(g,p)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(g){return this._addonManager.loadAddon(this,g)}static get strings(){return o}_verifyIntegers(...g){for(const p of g)if(p===1/0||isNaN(p)||p%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...g){for(const p of g)if(p&&(p===1/0||isNaN(p)||p%1!=0||p<0))throw new Error("This API only accepts positive integers")}}})(),b})()})})($a);var za={exports:{}};(function(e,t){(function(r,l){e.exports=l()})(self,function(){return(()=>{var r={};return(()=>{var l=r;Object.defineProperty(l,"__esModule",{value:!0}),l.FitAddon=void 0,l.FitAddon=class{constructor(){}activate(h){this._terminal=h}dispose(){}fit(){const h=this.proposeDimensions();if(!h||!this._terminal||isNaN(h.cols)||isNaN(h.rows))return;const b=this._terminal._core;this._terminal.rows===h.rows&&this._terminal.cols===h.cols||(b._renderService.clear(),this._terminal.resize(h.cols,h.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const h=this._terminal._core;if(h._renderService.dimensions.actualCellWidth===0||h._renderService.dimensions.actualCellHeight===0)return;const b=this._terminal.options.scrollback===0?0:h.viewport.scrollBarWidth,y=window.getComputedStyle(this._terminal.element.parentElement),i=parseInt(y.getPropertyValue("height")),o=Math.max(0,parseInt(y.getPropertyValue("width"))),n=window.getComputedStyle(this._terminal.element),u=i-(parseInt(n.getPropertyValue("padding-top"))+parseInt(n.getPropertyValue("padding-bottom"))),f=o-(parseInt(n.getPropertyValue("padding-right"))+parseInt(n.getPropertyValue("padding-left")))-b;return{cols:Math.max(2,Math.floor(f/h._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(u/h._renderService.dimensions.actualCellHeight))}}}})(),r})()})})(za);const Fa="3.7.2",Hg=Fa,Ng=typeof atob=="function",Wg=typeof btoa=="function",Yr=typeof Buffer=="function",po=typeof TextDecoder=="function"?new TextDecoder:void 0,vo=typeof TextEncoder=="function"?new TextEncoder:void 0,Ug="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",si=Array.prototype.slice.call(Ug),Ei=(e=>{let t={};return e.forEach((r,l)=>t[r]=l),t})(si),jg=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,mt=String.fromCharCode.bind(String),go=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(e,t=r=>r)=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),Ha=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),Na=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),Wa=e=>{let t,r,l,h,b="";const y=e.length%3;for(let i=0;i<e.length;){if((r=e.charCodeAt(i++))>255||(l=e.charCodeAt(i++))>255||(h=e.charCodeAt(i++))>255)throw new TypeError("invalid character found");t=r<<16|l<<8|h,b+=si[t>>18&63]+si[t>>12&63]+si[t>>6&63]+si[t&63]}return y?b.slice(0,y-3)+"===".substring(y):b},hs=Wg?e=>btoa(e):Yr?e=>Buffer.from(e,"binary").toString("base64"):Wa,$n=Yr?e=>Buffer.from(e).toString("base64"):e=>{let r=[];for(let l=0,h=e.length;l<h;l+=4096)r.push(mt.apply(null,e.subarray(l,l+4096)));return hs(r.join(""))},Oi=(e,t=!1)=>t?Ha($n(e)):$n(e),Vg=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?mt(192|t>>>6)+mt(128|t&63):mt(224|t>>>12&15)+mt(128|t>>>6&63)+mt(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return mt(240|t>>>18&7)+mt(128|t>>>12&63)+mt(128|t>>>6&63)+mt(128|t&63)}},Kg=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Ua=e=>e.replace(Kg,Vg),_o=Yr?e=>Buffer.from(e,"utf8").toString("base64"):vo?e=>$n(vo.encode(e)):e=>hs(Ua(e)),zr=(e,t=!1)=>t?Ha(_o(e)):_o(e),mo=e=>zr(e,!0),qg=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Gg=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return mt((r>>>10)+55296)+mt((r&1023)+56320);case 3:return mt((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return mt((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},ja=e=>e.replace(qg,Gg),Va=e=>{if(e=e.replace(/\s+/g,""),!jg.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,r="",l,h;for(let b=0;b<e.length;)t=Ei[e.charAt(b++)]<<18|Ei[e.charAt(b++)]<<12|(l=Ei[e.charAt(b++)])<<6|(h=Ei[e.charAt(b++)]),r+=l===64?mt(t>>16&255):h===64?mt(t>>16&255,t>>8&255):mt(t>>16&255,t>>8&255,t&255);return r},fs=Ng?e=>atob(Na(e)):Yr?e=>Buffer.from(e,"base64").toString("binary"):Va,Ka=Yr?e=>go(Buffer.from(e,"base64")):e=>go(fs(e),t=>t.charCodeAt(0)),qa=e=>Ka(Ga(e)),Yg=Yr?e=>Buffer.from(e,"base64").toString("utf8"):po?e=>po.decode(Ka(e)):e=>ja(fs(e)),Ga=e=>Na(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),In=e=>Yg(Ga(e)),Xg=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},Ya=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),Xa=function(){const e=(t,r)=>Object.defineProperty(String.prototype,t,Ya(r));e("fromBase64",function(){return In(this)}),e("toBase64",function(t){return zr(this,t)}),e("toBase64URI",function(){return zr(this,!0)}),e("toBase64URL",function(){return zr(this,!0)}),e("toUint8Array",function(){return qa(this)})},Za=function(){const e=(t,r)=>Object.defineProperty(Uint8Array.prototype,t,Ya(r));e("toBase64",function(t){return Oi(this,t)}),e("toBase64URI",function(){return Oi(this,!0)}),e("toBase64URL",function(){return Oi(this,!0)})},Zg=()=>{Xa(),Za()},Jg={version:Fa,VERSION:Hg,atob:fs,atobPolyfill:Va,btoa:hs,btoaPolyfill:Wa,fromBase64:In,toBase64:zr,encode:zr,encodeURI:mo,encodeURL:mo,utob:Ua,btou:ja,decode:In,isValid:Xg,fromUint8Array:Oi,toUint8Array:qa,extendString:Xa,extendUint8Array:Za,extendBuiltins:Zg};var Mi=(e=>(e.UnknownInput="0",e.Input="1",e.Ping="2",e.ResizeTerminal="3",e.SetEncoding="4",e))(Mi||{}),Ja=(e=>(e.UnknownOutput="0",e.Output="1",e.Pong="2",e.SetWindowTitle="3",e.SetPreferences="4",e.SetReconnect="5",e.SetBufferSize="6",e))(Ja||{});const bo=de({__name:"div_xterm",props:{cmd:null,connected:{type:Boolean,default:!0}},emits:["update:connected"],setup(e,{emit:t}){const r=e,l=q(),h=new $a.exports.Terminal({rows:24,cols:80,convertEol:!0,scrollback:10,disableStdin:!1,fontSize:14,cursorBlink:!0,cursorStyle:"bar"}),b=new za.exports.FitAddon,{status:y,data:i,close:o,send:n,open:u}=zc(Fc+"pty",{immediate:!1});qe(()=>r.connected,v=>{if(v==!1&&y.value!=="CLOSED"){o();return}v&&y.value==="CLOSED"&&(u(),h.writeln(`
$ \x1B[1;3;31m${r.cmd}\x1B[0m`))}),qe(y,v=>{v=="CLOSED"&&(f.map(g=>g.dispose()),f.splice(0,f.length),t("update:connected",!1),h.writeln(`
\x1B[1;3;31mdisconnected\x1B[0m`)),v=="OPEN"&&(_(r.cmd),t("update:connected",!0))}),qe(i,v=>{const g=v.slice(0,1),p=Jg.decode(v.slice(1));switch(g){case Ja.Output:h.write(p);return}console.log(`${g} rx: ${v}  decode: ${p}`)});const f=[];function _(v){n(JSON.stringify({cmd:v})),f.push(h.onResize(c=>{n(Mi.ResizeTerminal+JSON.stringify({Columns:c.cols,Rows:c.rows})),console.log("resize")}));const g=100;let p="";f.push(h.onData(c=>{p.length>0?p+=c:(p=c,setTimeout(()=>{n(Mi.Input+p),p.length>1&&console.log(`send ${p}`),p=""},g))}));const s=setInterval(function(){n(Mi.Ping)},20*1e3);f.push({dispose:()=>{clearInterval(s)}})}return Hc(l,v=>{console.debug("resize",v),b.fit()}),Dt(()=>{u(),h.open(l.value),h.loadAddon(b),h.writeln(`$ \x1B[1;3;31m${r.cmd}\x1B[0m`)}),Gt(()=>{o(),h&&h.dispose()}),(v,g)=>(ie(),be("div",null,[he("div",{ref_key:"terminal",ref:l},null,512)]))}}),Qg=xe(" Disconnect "),e_=xe(" Connect "),t_=xe("Ping the node. Click to start/stop/hide"),r_=de({__name:"panel_xterm",props:{target:null,visible:null},emits:["close","update:visible"],setup(e,{emit:t}){const r=e,l=X({get:()=>r.visible,set:o=>{o<0&&t("close"),t("update:visible",o)}}),h=q(!1),b=q(!1),y=q(!1);function i(){if(y.value){y.value=!1;return}b.value=!b.value}return qe(l,o=>{o>0}),(o,n)=>(ie(),Te(rn,{visible:$(l),"onUpdate:visible":n[4]||(n[4]=u=>Lt(l)?l.value=u:null),title:"SSH "+r.target},{"header-extra":K(()=>[h.value?(ie(),Te($(Qe),{key:0,quaternary:"",onClick:n[0]||(n[0]=u=>h.value=!1)},{default:K(()=>[Z($(Je),{component:$(cd)},null,8,["component"]),Qg]),_:1})):(ie(),Te($(Qe),{key:1,quaternary:"",onClick:n[1]||(n[1]=u=>h.value=!0)},{default:K(()=>[Z($(Je),{component:$(xp)},null,8,["component"]),e_]),_:1})),Z(Li,{quaternary:"",onClick:i},{tooltip:K(()=>[t_]),default:K(()=>[Z($(Je),{component:$(yd)},null,8,["component"])]),_:1})]),default:K(()=>[b.value?(ie(),Te(bo,{key:0,connected:y.value,"onUpdate:connected":n[2]||(n[2]=u=>y.value=u),cmd:"ping "+r.target},null,8,["connected","cmd"])):Ke("",!0),Z(bo,{connected:h.value,"onUpdate:connected":n[3]||(n[3]=u=>h.value=u),cmd:"labctl color ssh "+r.target},null,8,["connected","cmd"])]),_:1},8,["visible","title"]))}});var i_=Object.defineProperty,n_=Object.defineProperties,s_=Object.getOwnPropertyDescriptors,yo=Object.getOwnPropertySymbols,o_=Object.prototype.hasOwnProperty,a_=Object.prototype.propertyIsEnumerable,wo=(e,t,r)=>t in e?i_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wn=(e,t)=>{for(var r in t||(t={}))o_.call(t,r)&&wo(e,r,t[r]);if(yo)for(var r of yo(t))a_.call(t,r)&&wo(e,r,t[r]);return e},l_=(e,t)=>n_(e,s_(t));function Qa(e,t){var r,l=1;e==null&&(e=0),t==null&&(t=0);function h(){var b,y=r.length,i,o=0,n=0;for(b=0;b<y;++b)i=r[b],o+=i.x,n+=i.y;for(o=(o/y-e)*l,n=(n/y-t)*l,b=0;b<y;++b)i=r[b],i.x-=o,i.y-=n}return h.initialize=function(b){r=b},h.x=function(b){return arguments.length?(e=+b,h):e},h.y=function(b){return arguments.length?(t=+b,h):t},h.strength=function(b){return arguments.length?(l=+b,h):l},h}function c_(e){const t=+this._x.call(null,e),r=+this._y.call(null,e);return el(this.cover(t,r),t,r,e)}function el(e,t,r,l){if(isNaN(t)||isNaN(r))return e;var h,b=e._root,y={data:l},i=e._x0,o=e._y0,n=e._x1,u=e._y1,f,_,v,g,p,s,c,a;if(!b)return e._root=y,e;for(;b.length;)if((p=t>=(f=(i+n)/2))?i=f:n=f,(s=r>=(_=(o+u)/2))?o=_:u=_,h=b,!(b=b[c=s<<1|p]))return h[c]=y,e;if(v=+e._x.call(null,b.data),g=+e._y.call(null,b.data),t===v&&r===g)return y.next=b,h?h[c]=y:e._root=y,e;do h=h?h[c]=new Array(4):e._root=new Array(4),(p=t>=(f=(i+n)/2))?i=f:n=f,(s=r>=(_=(o+u)/2))?o=_:u=_;while((c=s<<1|p)===(a=(g>=_)<<1|v>=f));return h[a]=b,h[c]=y,e}function d_(e){var t,r,l=e.length,h,b,y=new Array(l),i=new Array(l),o=1/0,n=1/0,u=-1/0,f=-1/0;for(r=0;r<l;++r)isNaN(h=+this._x.call(null,t=e[r]))||isNaN(b=+this._y.call(null,t))||(y[r]=h,i[r]=b,h<o&&(o=h),h>u&&(u=h),b<n&&(n=b),b>f&&(f=b));if(o>u||n>f)return this;for(this.cover(o,n).cover(u,f),r=0;r<l;++r)el(this,y[r],i[r],e[r]);return this}function u_(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,l=this._y0,h=this._x1,b=this._y1;if(isNaN(r))h=(r=Math.floor(e))+1,b=(l=Math.floor(t))+1;else{for(var y=h-r||1,i=this._root,o,n;r>e||e>=h||l>t||t>=b;)switch(n=(t<l)<<1|e<r,o=new Array(4),o[n]=i,i=o,y*=2,n){case 0:h=r+y,b=l+y;break;case 1:r=h-y,b=l+y;break;case 2:h=r+y,l=b-y;break;case 3:r=h-y,l=b-y;break}this._root&&this._root.length&&(this._root=i)}return this._x0=r,this._y0=l,this._x1=h,this._y1=b,this}function h_(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function f_(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function xt(e,t,r,l,h){this.node=e,this.x0=t,this.y0=r,this.x1=l,this.y1=h}function p_(e,t,r){var l,h=this._x0,b=this._y0,y,i,o,n,u=this._x1,f=this._y1,_=[],v=this._root,g,p;for(v&&_.push(new xt(v,h,b,u,f)),r==null?r=1/0:(h=e-r,b=t-r,u=e+r,f=t+r,r*=r);g=_.pop();)if(!(!(v=g.node)||(y=g.x0)>u||(i=g.y0)>f||(o=g.x1)<h||(n=g.y1)<b))if(v.length){var s=(y+o)/2,c=(i+n)/2;_.push(new xt(v[3],s,c,o,n),new xt(v[2],y,c,s,n),new xt(v[1],s,i,o,c),new xt(v[0],y,i,s,c)),(p=(t>=c)<<1|e>=s)&&(g=_[_.length-1],_[_.length-1]=_[_.length-1-p],_[_.length-1-p]=g)}else{var a=e-+this._x.call(null,v.data),d=t-+this._y.call(null,v.data),m=a*a+d*d;if(m<r){var w=Math.sqrt(r=m);h=e-w,b=t-w,u=e+w,f=t+w,l=v.data}}return l}function v_(e){if(isNaN(u=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,r=this._root,l,h,b,y=this._x0,i=this._y0,o=this._x1,n=this._y1,u,f,_,v,g,p,s,c;if(!r)return this;if(r.length)for(;;){if((g=u>=(_=(y+o)/2))?y=_:o=_,(p=f>=(v=(i+n)/2))?i=v:n=v,t=r,!(r=r[s=p<<1|g]))return this;if(!r.length)break;(t[s+1&3]||t[s+2&3]||t[s+3&3])&&(l=t,c=s)}for(;r.data!==e;)if(h=r,!(r=r.next))return this;return(b=r.next)&&delete r.next,h?(b?h.next=b:delete h.next,this):t?(b?t[s]=b:delete t[s],(r=t[0]||t[1]||t[2]||t[3])&&r===(t[3]||t[2]||t[1]||t[0])&&!r.length&&(l?l[c]=r:this._root=r),this):(this._root=b,this)}function g_(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this}function __(){return this._root}function m_(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function b_(e){var t=[],r,l=this._root,h,b,y,i,o;for(l&&t.push(new xt(l,this._x0,this._y0,this._x1,this._y1));r=t.pop();)if(!e(l=r.node,b=r.x0,y=r.y0,i=r.x1,o=r.y1)&&l.length){var n=(b+i)/2,u=(y+o)/2;(h=l[3])&&t.push(new xt(h,n,u,i,o)),(h=l[2])&&t.push(new xt(h,b,u,n,o)),(h=l[1])&&t.push(new xt(h,n,y,i,u)),(h=l[0])&&t.push(new xt(h,b,y,n,u))}return this}function y_(e){var t=[],r=[],l;for(this._root&&t.push(new xt(this._root,this._x0,this._y0,this._x1,this._y1));l=t.pop();){var h=l.node;if(h.length){var b,y=l.x0,i=l.y0,o=l.x1,n=l.y1,u=(y+o)/2,f=(i+n)/2;(b=h[0])&&t.push(new xt(b,y,i,u,f)),(b=h[1])&&t.push(new xt(b,u,i,o,f)),(b=h[2])&&t.push(new xt(b,y,f,u,n)),(b=h[3])&&t.push(new xt(b,u,f,o,n))}r.push(l)}for(;l=r.pop();)e(l.node,l.x0,l.y0,l.x1,l.y1);return this}function w_(e){return e[0]}function S_(e){return arguments.length?(this._x=e,this):this._x}function x_(e){return e[1]}function C_(e){return arguments.length?(this._y=e,this):this._y}function ps(e,t,r){var l=new vs(t==null?w_:t,r==null?x_:r,NaN,NaN,NaN,NaN);return e==null?l:l.addAll(e)}function vs(e,t,r,l,h,b){this._x=e,this._y=t,this._x0=r,this._y0=l,this._x1=h,this._y1=b,this._root=void 0}function So(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var kt=ps.prototype=vs.prototype;kt.copy=function(){var e=new vs(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,r,l;if(!t)return e;if(!t.length)return e._root=So(t),e;for(r=[{source:t,target:e._root=new Array(4)}];t=r.pop();)for(var h=0;h<4;++h)(l=t.source[h])&&(l.length?r.push({source:l,target:t.target[h]=new Array(4)}):t.target[h]=So(l));return e};kt.add=c_;kt.addAll=d_;kt.cover=u_;kt.data=h_;kt.extent=f_;kt.find=p_;kt.remove=v_;kt.removeAll=g_;kt.root=__;kt.size=m_;kt.visit=b_;kt.visitAfter=y_;kt.x=S_;kt.y=C_;function dt(e){return function(){return e}}function _r(e){return(e()-.5)*1e-6}function k_(e){return e.x+e.vx}function R_(e){return e.y+e.vy}function tl(e){var t,r,l,h=1,b=1;typeof e!="function"&&(e=dt(e==null?1:+e));function y(){for(var n,u=t.length,f,_,v,g,p,s,c=0;c<b;++c)for(f=ps(t,k_,R_).visitAfter(i),n=0;n<u;++n)_=t[n],p=r[_.index],s=p*p,v=_.x+_.vx,g=_.y+_.vy,f.visit(a);function a(d,m,w,S,C){var k=d.data,R=d.r,A=p+R;if(k){if(k.index>_.index){var D=v-k.x-k.vx,T=g-k.y-k.vy,x=D*D+T*T;x<A*A&&(D===0&&(D=_r(l),x+=D*D),T===0&&(T=_r(l),x+=T*T),x=(A-(x=Math.sqrt(x)))/x*h,_.vx+=(D*=x)*(A=(R*=R)/(s+R)),_.vy+=(T*=x)*A,k.vx-=D*(A=1-A),k.vy-=T*A)}return}return m>v+A||S<v-A||w>g+A||C<g-A}}function i(n){if(n.data)return n.r=r[n.data.index];for(var u=n.r=0;u<4;++u)n[u]&&n[u].r>n.r&&(n.r=n[u].r)}function o(){if(t){var n,u=t.length,f;for(r=new Array(u),n=0;n<u;++n)f=t[n],r[f.index]=+e(f,n,t)}}return y.initialize=function(n,u){t=n,l=u,o()},y.iterations=function(n){return arguments.length?(b=+n,y):b},y.strength=function(n){return arguments.length?(h=+n,y):h},y.radius=function(n){return arguments.length?(e=typeof n=="function"?n:dt(+n),o(),y):e},y}function E_(e){return e.index}function xo(e,t){var r=e.get(t);if(!r)throw new Error("node not found: "+t);return r}function rl(e){var t=E_,r=f,l,h=dt(30),b,y,i,o,n,u=1;e==null&&(e=[]);function f(s){return 1/Math.min(i[s.source.index],i[s.target.index])}function _(s){for(var c=0,a=e.length;c<u;++c)for(var d=0,m,w,S,C,k,R,A;d<a;++d)m=e[d],w=m.source,S=m.target,C=S.x+S.vx-w.x-w.vx||_r(n),k=S.y+S.vy-w.y-w.vy||_r(n),R=Math.sqrt(C*C+k*k),R=(R-b[d])/R*s*l[d],C*=R,k*=R,S.vx-=C*(A=o[d]),S.vy-=k*A,w.vx+=C*(A=1-A),w.vy+=k*A}function v(){if(y){var s,c=y.length,a=e.length,d=new Map(y.map((w,S)=>[t(w,S,y),w])),m;for(s=0,i=new Array(c);s<a;++s)m=e[s],m.index=s,typeof m.source!="object"&&(m.source=xo(d,m.source)),typeof m.target!="object"&&(m.target=xo(d,m.target)),i[m.source.index]=(i[m.source.index]||0)+1,i[m.target.index]=(i[m.target.index]||0)+1;for(s=0,o=new Array(a);s<a;++s)m=e[s],o[s]=i[m.source.index]/(i[m.source.index]+i[m.target.index]);l=new Array(a),g(),b=new Array(a),p()}}function g(){if(y)for(var s=0,c=e.length;s<c;++s)l[s]=+r(e[s],s,e)}function p(){if(y)for(var s=0,c=e.length;s<c;++s)b[s]=+h(e[s],s,e)}return _.initialize=function(s,c){y=s,n=c,v()},_.links=function(s){return arguments.length?(e=s,v(),_):e},_.id=function(s){return arguments.length?(t=s,_):t},_.iterations=function(s){return arguments.length?(u=+s,_):u},_.strength=function(s){return arguments.length?(r=typeof s=="function"?s:dt(+s),g(),_):r},_.distance=function(s){return arguments.length?(h=typeof s=="function"?s:dt(+s),p(),_):h},_}var T_={value:()=>{}};function il(){for(var e=0,t=arguments.length,r={},l;e<t;++e){if(!(l=arguments[e]+"")||l in r||/[\s.]/.test(l))throw new Error("illegal type: "+l);r[l]=[]}return new Pi(r)}function Pi(e){this._=e}function L_(e,t){return e.trim().split(/^|\s+/).map(function(r){var l="",h=r.indexOf(".");if(h>=0&&(l=r.slice(h+1),r=r.slice(0,h)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:l}})}Pi.prototype=il.prototype={constructor:Pi,on:function(e,t){var r=this._,l=L_(e+"",r),h,b=-1,y=l.length;if(arguments.length<2){for(;++b<y;)if((h=(e=l[b]).type)&&(h=A_(r[h],e.name)))return h;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++b<y;)if(h=(e=l[b]).type)r[h]=Co(r[h],e.name,t);else if(t==null)for(h in r)r[h]=Co(r[h],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Pi(e)},call:function(e,t){if((h=arguments.length-2)>0)for(var r=new Array(h),l=0,h,b;l<h;++l)r[l]=arguments[l+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(b=this._[e],l=0,h=b.length;l<h;++l)b[l].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var l=this._[e],h=0,b=l.length;h<b;++h)l[h].value.apply(t,r)}};function A_(e,t){for(var r=0,l=e.length,h;r<l;++r)if((h=e[r]).name===t)return h.value}function Co(e,t,r){for(var l=0,h=e.length;l<h;++l)if(e[l].name===t){e[l]=T_,e=e.slice(0,l).concat(e.slice(l+1));break}return r!=null&&e.push({name:t,value:r}),e}var jr=0,oi=0,ii=0,nl=1e3,qi,ai,Gi=0,Er=0,nn=0,pi=typeof performance=="object"&&performance.now?performance:Date,sl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ol(){return Er||(sl(B_),Er=pi.now()+nn)}function B_(){Er=0}function zn(){this._call=this._time=this._next=null}zn.prototype=al.prototype={constructor:zn,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?ol():+r)+(t==null?0:+t),!this._next&&ai!==this&&(ai?ai._next=this:qi=this,ai=this),this._call=e,this._time=r,Fn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fn())}};function al(e,t,r){var l=new zn;return l.restart(e,t,r),l}function D_(){ol(),++jr;for(var e=qi,t;e;)(t=Er-e._time)>=0&&e._call.call(void 0,t),e=e._next;--jr}function ko(){Er=(Gi=pi.now())+nn,jr=oi=0;try{D_()}finally{jr=0,M_(),Er=0}}function O_(){var e=pi.now(),t=e-Gi;t>nl&&(nn-=t,Gi=e)}function M_(){for(var e,t=qi,r,l=1/0;t;)t._call?(l>t._time&&(l=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:qi=r);ai=e,Fn(l)}function Fn(e){if(!jr){oi&&(oi=clearTimeout(oi));var t=e-Er;t>24?(e<1/0&&(oi=setTimeout(ko,e-pi.now()-nn)),ii&&(ii=clearInterval(ii))):(ii||(Gi=pi.now(),ii=setInterval(O_,nl)),jr=1,sl(ko))}}const P_=1664525,$_=1013904223,Ro=4294967296;function I_(){let e=1;return()=>(e=(P_*e+$_)%Ro)/Ro}function z_(e){return e.x}function F_(e){return e.y}var H_=10,N_=Math.PI*(3-Math.sqrt(5));function ll(e){var t,r=1,l=.001,h=1-Math.pow(l,1/300),b=0,y=.6,i=new Map,o=al(f),n=il("tick","end"),u=I_();e==null&&(e=[]);function f(){_(),n.call("tick",t),r<l&&(o.stop(),n.call("end",t))}function _(p){var s,c=e.length,a;p===void 0&&(p=1);for(var d=0;d<p;++d)for(r+=(b-r)*h,i.forEach(function(m){m(r)}),s=0;s<c;++s)a=e[s],a.fx==null?a.x+=a.vx*=y:(a.x=a.fx,a.vx=0),a.fy==null?a.y+=a.vy*=y:(a.y=a.fy,a.vy=0);return t}function v(){for(var p=0,s=e.length,c;p<s;++p){if(c=e[p],c.index=p,c.fx!=null&&(c.x=c.fx),c.fy!=null&&(c.y=c.fy),isNaN(c.x)||isNaN(c.y)){var a=H_*Math.sqrt(.5+p),d=p*N_;c.x=a*Math.cos(d),c.y=a*Math.sin(d)}(isNaN(c.vx)||isNaN(c.vy))&&(c.vx=c.vy=0)}}function g(p){return p.initialize&&p.initialize(e,u),p}return v(),t={tick:_,restart:function(){return o.restart(f),t},stop:function(){return o.stop(),t},nodes:function(p){return arguments.length?(e=p,v(),i.forEach(g),t):e},alpha:function(p){return arguments.length?(r=+p,t):r},alphaMin:function(p){return arguments.length?(l=+p,t):l},alphaDecay:function(p){return arguments.length?(h=+p,t):+h},alphaTarget:function(p){return arguments.length?(b=+p,t):b},velocityDecay:function(p){return arguments.length?(y=1-p,t):1-y},randomSource:function(p){return arguments.length?(u=p,i.forEach(g),t):u},force:function(p,s){return arguments.length>1?(s==null?i.delete(p):i.set(p,g(s)),t):i.get(p)},find:function(p,s,c){var a=0,d=e.length,m,w,S,C,k;for(c==null?c=1/0:c*=c,a=0;a<d;++a)C=e[a],m=p-C.x,w=s-C.y,S=m*m+w*w,S<c&&(k=C,c=S);return k},on:function(p,s){return arguments.length>1?(n.on(p,s),t):n.on(p)}}}function cl(){var e,t,r,l,h=dt(-30),b,y=1,i=1/0,o=.81;function n(v){var g,p=e.length,s=ps(e,z_,F_).visitAfter(f);for(l=v,g=0;g<p;++g)t=e[g],s.visit(_)}function u(){if(e){var v,g=e.length,p;for(b=new Array(g),v=0;v<g;++v)p=e[v],b[p.index]=+h(p,v,e)}}function f(v){var g=0,p,s,c=0,a,d,m;if(v.length){for(a=d=m=0;m<4;++m)(p=v[m])&&(s=Math.abs(p.value))&&(g+=p.value,c+=s,a+=s*p.x,d+=s*p.y);v.x=a/c,v.y=d/c}else{p=v,p.x=p.data.x,p.y=p.data.y;do g+=b[p.data.index];while(p=p.next)}v.value=g}function _(v,g,p,s){if(!v.value)return!0;var c=v.x-t.x,a=v.y-t.y,d=s-g,m=c*c+a*a;if(d*d/o<m)return m<i&&(c===0&&(c=_r(r),m+=c*c),a===0&&(a=_r(r),m+=a*a),m<y&&(m=Math.sqrt(y*m)),t.vx+=c*v.value*l/m,t.vy+=a*v.value*l/m),!0;if(!(v.length||m>=i)){(v.data!==t||v.next)&&(c===0&&(c=_r(r),m+=c*c),a===0&&(a=_r(r),m+=a*a),m<y&&(m=Math.sqrt(y*m)));do v.data!==t&&(d=b[v.data.index]*l/m,t.vx+=c*d,t.vy+=a*d);while(v=v.next)}}return n.initialize=function(v,g){e=v,r=g,u()},n.strength=function(v){return arguments.length?(h=typeof v=="function"?v:dt(+v),u(),n):h},n.distanceMin=function(v){return arguments.length?(y=v*v,n):Math.sqrt(y)},n.distanceMax=function(v){return arguments.length?(i=v*v,n):Math.sqrt(i)},n.theta=function(v){return arguments.length?(o=v*v,n):Math.sqrt(o)},n}function W_(e,t,r){var l,h=dt(.1),b,y;typeof e!="function"&&(e=dt(+e)),t==null&&(t=0),r==null&&(r=0);function i(n){for(var u=0,f=l.length;u<f;++u){var _=l[u],v=_.x-t||1e-6,g=_.y-r||1e-6,p=Math.sqrt(v*v+g*g),s=(y[u]-p)*b[u]*n/p;_.vx+=v*s,_.vy+=g*s}}function o(){if(l){var n,u=l.length;for(b=new Array(u),y=new Array(u),n=0;n<u;++n)y[n]=+e(l[n],n,l),b[n]=isNaN(y[n])?0:+h(l[n],n,l)}}return i.initialize=function(n){l=n,o()},i.strength=function(n){return arguments.length?(h=typeof n=="function"?n:dt(+n),o(),i):h},i.radius=function(n){return arguments.length?(e=typeof n=="function"?n:dt(+n),o(),i):e},i.x=function(n){return arguments.length?(t=+n,i):t},i.y=function(n){return arguments.length?(r=+n,i):r},i}function U_(e){var t=dt(.1),r,l,h;typeof e!="function"&&(e=dt(e==null?0:+e));function b(i){for(var o=0,n=r.length,u;o<n;++o)u=r[o],u.vx+=(h[o]-u.x)*l[o]*i}function y(){if(r){var i,o=r.length;for(l=new Array(o),h=new Array(o),i=0;i<o;++i)l[i]=isNaN(h[i]=+e(r[i],i,r))?0:+t(r[i],i,r)}}return b.initialize=function(i){r=i,y()},b.strength=function(i){return arguments.length?(t=typeof i=="function"?i:dt(+i),y(),b):t},b.x=function(i){return arguments.length?(e=typeof i=="function"?i:dt(+i),y(),b):e},b}function j_(e){var t=dt(.1),r,l,h;typeof e!="function"&&(e=dt(e==null?0:+e));function b(i){for(var o=0,n=r.length,u;o<n;++o)u=r[o],u.vy+=(h[o]-u.y)*l[o]*i}function y(){if(r){var i,o=r.length;for(l=new Array(o),h=new Array(o),i=0;i<o;++i)l[i]=isNaN(h[i]=+e(r[i],i,r))?0:+t(r[i],i,r)}}return b.initialize=function(i){r=i,y()},b.strength=function(i){return arguments.length?(t=typeof i=="function"?i:dt(+i),y(),b):t},b.y=function(i){return arguments.length?(e=typeof i=="function"?i:dt(+i),y(),b):e},b}const V_=Object.freeze(Object.defineProperty({__proto__:null,forceCenter:Qa,forceCollide:tl,forceLink:rl,forceManyBody:cl,forceRadial:W_,forceSimulation:ll,forceX:U_,forceY:j_},Symbol.toStringTag,{value:"Module"}));class K_{constructor(t={}){this.options=t}activate(t){const{nodePositions:r,nodes:l,edges:h,emitter:b,svgPanZoom:y}=t;let{nodeLayouts:i,nodeLayoutMap:o}=this.buildNodeLayouts(l.value,r,{x:0,y:0});const n=this.createSimulation(i,this.forceLayoutEdges(h.value,l.value));n.on("tick",()=>{var p,s,c;for(const a of i){const d=(p=r.value)==null?void 0:p[a.id];d&&(d.x=(s=a.x)!=null?s:0,d.y=(c=a.y)!=null?c:0)}});const u=()=>{n.alpha(.1).restart()},f=p=>{for(const[s,c]of Object.entries(p)){const a=o[s];a.fx=c.x,a.fy=c.y}u()},_=p=>{var s;for(const[c,a]of Object.entries(p)){const d=this.getNodeLayout(r,c),m=(s=o==null?void 0:o[c])!=null?s:{x:0,y:0};d.value.fixed||this.options.positionFixedByDrag?(m.fx=a.x,m.fy=a.y,d.value.fixed=!0):(m.x=a.x,m.y=a.y,delete m.fx,delete m.fy)}u()},v=({node:p,event:s})=>{if(this.options.positionFixedByClickWithAltKey&&s.altKey){const c=this.getNodeLayout(r,p);let a=o==null?void 0:o[p];a||(a={id:p,x:0,y:0},o[p]=a),c.value.fixed?(delete c.value.fixed,a.x=a.fx||a.x,a.y=a.fy||a.y,delete a.fx,delete a.fy):(c.value.fixed=!0,a.fx=a.x,a.fy=a.y),u()}},g=qe(()=>[Object.keys(l.value),Object.values(h.value).map(p=>`${p.source}=${p.target}`)],()=>{const p=y.getViewArea();({nodeLayouts:i,nodeLayoutMap:o}=this.buildNodeLayouts(l.value,r,p.center)),n.nodes(i);const s=n.force("edge");s&&s.links(this.forceLayoutEdges(h.value,l.value)),u()});b.on("node:dragstart",f),b.on("node:pointermove",f),b.on("node:dragend",_),b.on("node:click",v),this.onDeactivate=()=>{n.stop(),g(),b.off("node:dragstart",f),b.off("node:pointermove",f),b.off("node:dragend",_),b.off("node:click",v)}}deactivate(){this.onDeactivate&&this.onDeactivate()}createSimulation(t,r){if(this.options.createSimulation)return this.options.createSimulation(V_,t,r);{const l=rl(r).id(h=>h.id);return ll(t).force("edge",l.distance(100)).force("charge",cl()).force("collide",tl(50).strength(.2)).force("center",Qa().strength(.05)).alphaMin(.001)}}buildNodeLayouts(t,r,l){const h=Object.keys(t).filter(i=>!(i in r.value));for(const i of h)r.value[i]=wn({},l);const b=this.forceNodeLayouts(r.value),y=Object.fromEntries(b.map(i=>[i.id,i]));return{nodeLayouts:b,nodeLayoutMap:y}}forceNodeLayouts(t){return Object.entries(t).map(([r,l])=>l.fixed?l_(wn({id:r},l),{fx:l.x,fy:l.y}):wn({id:r},l))}forceLayoutEdges(t,r){return Object.values(t).filter(l=>l.source in r&&l.target in r).map(l=>({source:l.source,target:l.target}))}getNodeLayout(t,r){const l=Be(t.value,r);return l.value||(l.value={x:0,y:0}),l}}const q_=["font-size"],G_=["x","y","font-size","text-anchor","dominant-baseline","fill"],Y_=de({__name:"div_graph",props:{selectedNodes:null,selectedLinks:null,linkLabels:null,nodeLabels:null,nodeSize:{default:30}},emits:["update:selectedNodes","update:selectedLinks"],setup(e,{emit:t}){const r=e,l=X({get:()=>r.selectedNodes,set:a=>t("update:selectedNodes",a)}),h=X({get:()=>r.selectedLinks,set:a=>t("update:selectedLinks",a)}),b=sr(),{optLayout:y,optLayouts:i}=Jn(b),o=hi(Nc({view:{layoutHandler:c(),scalingObjects:!0,minZoomLevel:.5,maxZoomLevel:8,boxSelectionEnabled:!0,selection:{box:{color:"#0000ff20",strokeWidth:1,strokeColor:"#aaaaff",strokeDasharray:"0"}}},node:{normal:{radius:r.nodeSize/2},label:{visible:!0,fontFamily:void 0,fontSize:11,lineHeight:1.1,color:"#000000",margin:4,direction:a=>(a.name?n.value[a.name]:!1)||"south",text:"name"},selectable:!0},edge:{selectable:!0},path:{visible:!0,path:{width:10}}})),n=X(()=>jc(i.value.nodes,b.topo.links));qe(y,()=>{b.save(),o.view&&(o.view.layoutHandler=c())});const u=hi({});Ir.on(a=>{var d;if(a.action==="path"){const m=a.command;Object.keys(u).includes(m)?delete u[m]:u[m]={edges:m.split(",")}}a.action==="center"&&(console.debug("center"),(d=f.value)==null||d.fitToContents())});const f=q(),_=q(),v=q(""),g=X(()=>{if(!f.value||!_.value)return{x:0,y:0};if(!v.value)return{x:0,y:0};const a=b.optLayouts.nodes[v.value],d=f.value.translateFromSvgToDomCoordinates(a);return{left:d.x-_.value.offsetWidth/2+"px",top:d.y-r.nodeSize/2-_.value.offsetHeight-10+"px"}}),p=q(0),s={"node:pointerover":({node:a})=>{v.value=a,p.value=1},"node:pointerout":()=>{p.value=0},"node:pointermove":b.save,"view:zoom":()=>{},"*":(a,d)=>Ma.emit({msg:a,ev:d})};function c(){return y.value==="force"?new K_:y.value==="grid"?new Wc({grid:15}):new Uc}return(a,d)=>{var S,C,k,R,A,D;const m=En("v-edge-label"),w=En("v-network-graph");return ie(),be(Ye,null,[Z(w,{ref_key:"graph",ref:f,"selected-nodes":$(l),"onUpdate:selected-nodes":d[0]||(d[0]=T=>Lt(l)?l.value=T:null),"selected-edges":$(h),"onUpdate:selected-edges":d[1]||(d[1]=T=>Lt(h)?h.value=T:null),style:fi({height:`${$(b).optHeight}px`}),nodes:$(b).topo.nodes,edges:$(b).topo.links,paths:u,configs:o,layouts:$(i),"event-handlers":s},{"override-node-label":K(({nodeId:T,scale:x,x:E,y:L,config:O,textAnchor:M,dominantBaseline:V})=>[T in r.nodeLabels&&r.nodeLabels[T].label?(ie(),be("text",{key:0,x:"0",y:"0","font-size":9*x,"text-anchor":"middle","dominant-baseline":"central",fill:"#ffffff"},Pe(r.nodeLabels[T].label),9,q_)):Ke("",!0),T in r.nodeLabels&&r.nodeLabels[T].label_below?(ie(),be("text",{key:1,x:E,y:L,"font-size":O.fontSize*x,"text-anchor":M,"dominant-baseline":V,fill:O.color},Pe(r.nodeLabels[T].label_below),9,G_)):Ke("",!0)]),"edge-label":K(({edgeId:T,scale:x,...E})=>[T in r.linkLabels&&r.linkLabels[T].center_above?(ie(),Te(m,Rt({key:0,text:String(r.linkLabels[T].center_above),align:"center","vertical-align":"above"},E,{"font-size":12*x}),null,16,["text","font-size"])):Ke("",!0),T in r.linkLabels&&r.linkLabels[T].center_below?(ie(),Te(m,Rt({key:1,text:String(r.linkLabels[T].center_below),align:"center","vertical-align":"below"},E,{"font-size":12*x}),null,16,["text","font-size"])):Ke("",!0),T in r.linkLabels&&r.linkLabels[T].source_above?(ie(),Te(m,Rt({key:2,text:String(r.linkLabels[T].source_above),align:"source","vertical-align":"above"},E,{fill:"#ff5500","font-size":10*x}),null,16,["text","font-size"])):Ke("",!0),T in r.linkLabels&&r.linkLabels[T].source_below?(ie(),Te(m,Rt({key:3,text:String(r.linkLabels[T].source_below),align:"source","vertical-align":"below"},E,{fill:"#ff5500","font-size":10*x}),null,16,["text","font-size"])):Ke("",!0),T in r.linkLabels&&r.linkLabels[T].target_above?(ie(),Te(m,Rt({key:4,text:String(r.linkLabels[T].target_above),align:"target","vertical-align":"above"},E,{fill:"#ff5500","font-size":10*x}),null,16,["text","font-size"])):Ke("",!0),T in r.linkLabels&&r.linkLabels[T].target_below?(ie(),Te(m,Rt({key:5,text:String(r.linkLabels[T].target_below),align:"target","vertical-align":"below"},E,{fill:"#ff5500","font-size":10*x}),null,16,["text","font-size"])):Ke("",!0)]),_:1},8,["selected-nodes","selected-edges","style","nodes","edges","paths","configs","layouts"]),he("div",{ref_key:"tooltip",ref:_,class:"tooltip",style:fi({...$(g),opacity:p.value})},[he("div",null,Pe((C=(S=$(b).topo.nodes[v.value])==null?void 0:S.name)!=null?C:"")+" "+Pe((R=(k=r.nodeLabels[v.value])==null?void 0:k.label)!=null?R:"")+" "+Pe((D=(A=r.nodeLabels[v.value])==null?void 0:A.label_below)!=null?D:""),1)],4)],64)}}});var dl={exports:{}};(function(e,t){(function(r,l){e.exports=l()})(_a,function(){var r=1e3,l=6e4,h=36e5,b="millisecond",y="second",i="minute",o="hour",n="day",u="week",f="month",_="quarter",v="year",g="date",p="Invalid Date",s=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,a={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},d=function(x,E,L){var O=String(x);return!O||O.length>=E?x:""+Array(E+1-O.length).join(L)+x},m={s:d,z:function(x){var E=-x.utcOffset(),L=Math.abs(E),O=Math.floor(L/60),M=L%60;return(E<=0?"+":"-")+d(O,2,"0")+":"+d(M,2,"0")},m:function x(E,L){if(E.date()<L.date())return-x(L,E);var O=12*(L.year()-E.year())+(L.month()-E.month()),M=E.clone().add(O,f),V=L-M<0,F=E.clone().add(O+(V?-1:1),f);return+(-(O+(L-M)/(V?M-F:F-M))||0)},a:function(x){return x<0?Math.ceil(x)||0:Math.floor(x)},p:function(x){return{M:f,y:v,w:u,d:n,D:g,h:o,m:i,s:y,ms:b,Q:_}[x]||String(x||"").toLowerCase().replace(/s$/,"")},u:function(x){return x===void 0}},w="en",S={};S[w]=a;var C=function(x){return x instanceof D},k=function x(E,L,O){var M;if(!E)return w;if(typeof E=="string"){var V=E.toLowerCase();S[V]&&(M=V),L&&(S[V]=L,M=V);var F=E.split("-");if(!M&&F.length>1)return x(F[0])}else{var W=E.name;S[W]=E,M=W}return!O&&M&&(w=M),M||!O&&w},R=function(x,E){if(C(x))return x.clone();var L=typeof E=="object"?E:{};return L.date=x,L.args=arguments,new D(L)},A=m;A.l=k,A.i=C,A.w=function(x,E){return R(x,{locale:E.$L,utc:E.$u,x:E.$x,$offset:E.$offset})};var D=function(){function x(L){this.$L=k(L.locale,null,!0),this.parse(L)}var E=x.prototype;return E.parse=function(L){this.$d=function(O){var M=O.date,V=O.utc;if(M===null)return new Date(NaN);if(A.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var F=M.match(s);if(F){var W=F[2]-1||0,G=(F[7]||"0").substring(0,3);return V?new Date(Date.UTC(F[1],W,F[3]||1,F[4]||0,F[5]||0,F[6]||0,G)):new Date(F[1],W,F[3]||1,F[4]||0,F[5]||0,F[6]||0,G)}}return new Date(M)}(L),this.$x=L.x||{},this.init()},E.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},E.$utils=function(){return A},E.isValid=function(){return this.$d.toString()!==p},E.isSame=function(L,O){var M=R(L);return this.startOf(O)<=M&&M<=this.endOf(O)},E.isAfter=function(L,O){return R(L)<this.startOf(O)},E.isBefore=function(L,O){return this.endOf(O)<R(L)},E.$g=function(L,O,M){return A.u(L)?this[O]:this.set(M,L)},E.unix=function(){return Math.floor(this.valueOf()/1e3)},E.valueOf=function(){return this.$d.getTime()},E.startOf=function(L,O){var M=this,V=!!A.u(O)||O,F=A.p(L),W=function(oe,Q){var fe=A.w(M.$u?Date.UTC(M.$y,Q,oe):new Date(M.$y,Q,oe),M);return V?fe:fe.endOf(n)},G=function(oe,Q){return A.w(M.toDate()[oe].apply(M.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(Q)),M)},te=this.$W,P=this.$M,ae=this.$D,re="set"+(this.$u?"UTC":"");switch(F){case v:return V?W(1,0):W(31,11);case f:return V?W(1,P):W(0,P+1);case u:var I=this.$locale().weekStart||0,U=(te<I?te+7:te)-I;return W(V?ae-U:ae+(6-U),P);case n:case g:return G(re+"Hours",0);case o:return G(re+"Minutes",1);case i:return G(re+"Seconds",2);case y:return G(re+"Milliseconds",3);default:return this.clone()}},E.endOf=function(L){return this.startOf(L,!1)},E.$set=function(L,O){var M,V=A.p(L),F="set"+(this.$u?"UTC":""),W=(M={},M[n]=F+"Date",M[g]=F+"Date",M[f]=F+"Month",M[v]=F+"FullYear",M[o]=F+"Hours",M[i]=F+"Minutes",M[y]=F+"Seconds",M[b]=F+"Milliseconds",M)[V],G=V===n?this.$D+(O-this.$W):O;if(V===f||V===v){var te=this.clone().set(g,1);te.$d[W](G),te.init(),this.$d=te.set(g,Math.min(this.$D,te.daysInMonth())).$d}else W&&this.$d[W](G);return this.init(),this},E.set=function(L,O){return this.clone().$set(L,O)},E.get=function(L){return this[A.p(L)]()},E.add=function(L,O){var M,V=this;L=Number(L);var F=A.p(O),W=function(P){var ae=R(V);return A.w(ae.date(ae.date()+Math.round(P*L)),V)};if(F===f)return this.set(f,this.$M+L);if(F===v)return this.set(v,this.$y+L);if(F===n)return W(1);if(F===u)return W(7);var G=(M={},M[i]=l,M[o]=h,M[y]=r,M)[F]||1,te=this.$d.getTime()+L*G;return A.w(te,this)},E.subtract=function(L,O){return this.add(-1*L,O)},E.format=function(L){var O=this,M=this.$locale();if(!this.isValid())return M.invalidDate||p;var V=L||"YYYY-MM-DDTHH:mm:ssZ",F=A.z(this),W=this.$H,G=this.$m,te=this.$M,P=M.weekdays,ae=M.months,re=function(Q,fe,ce,Oe){return Q&&(Q[fe]||Q(O,V))||ce[fe].slice(0,Oe)},I=function(Q){return A.s(W%12||12,Q,"0")},U=M.meridiem||function(Q,fe,ce){var Oe=Q<12?"AM":"PM";return ce?Oe.toLowerCase():Oe},oe={YY:String(this.$y).slice(-2),YYYY:this.$y,M:te+1,MM:A.s(te+1,2,"0"),MMM:re(M.monthsShort,te,ae,3),MMMM:re(ae,te),D:this.$D,DD:A.s(this.$D,2,"0"),d:String(this.$W),dd:re(M.weekdaysMin,this.$W,P,2),ddd:re(M.weekdaysShort,this.$W,P,3),dddd:P[this.$W],H:String(W),HH:A.s(W,2,"0"),h:I(1),hh:I(2),a:U(W,G,!0),A:U(W,G,!1),m:String(G),mm:A.s(G,2,"0"),s:String(this.$s),ss:A.s(this.$s,2,"0"),SSS:A.s(this.$ms,3,"0"),Z:F};return V.replace(c,function(Q,fe){return fe||oe[Q]||F.replace(":","")})},E.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},E.diff=function(L,O,M){var V,F=A.p(O),W=R(L),G=(W.utcOffset()-this.utcOffset())*l,te=this-W,P=A.m(this,W);return P=(V={},V[v]=P/12,V[f]=P,V[_]=P/3,V[u]=(te-G)/6048e5,V[n]=(te-G)/864e5,V[o]=te/h,V[i]=te/l,V[y]=te/r,V)[F]||te,M?P:A.a(P)},E.daysInMonth=function(){return this.endOf(f).$D},E.$locale=function(){return S[this.$L]},E.locale=function(L,O){if(!L)return this.$L;var M=this.clone(),V=k(L,O,!0);return V&&(M.$L=V),M},E.clone=function(){return A.w(this.$d,this)},E.toDate=function(){return new Date(this.valueOf())},E.toJSON=function(){return this.isValid()?this.toISOString():null},E.toISOString=function(){return this.$d.toISOString()},E.toString=function(){return this.$d.toUTCString()},x}(),T=D.prototype;return R.prototype=T,[["$ms",b],["$s",y],["$m",i],["$H",o],["$W",n],["$M",f],["$y",v],["$D",g]].forEach(function(x){T[x[1]]=function(E){return this.$g(E,x[0],x[1])}}),R.extend=function(x,E){return x.$i||(x(E,D,R),x.$i=!0),R},R.locale=k,R.isDayjs=C,R.unix=function(x){return R(1e3*x)},R.en=S[w],R.Ls=S,R.p={},R})})(dl);const X_=dl.exports,Z_=e=>(Xc("data-v-442f1eea"),e=e(),Zc(),e),J_=xe(" Center graph view "),Q_=xe(" Select a single node to enable SSH "),em=xe(" Lab "),tm=xe(" Show the Lab Readme, topology file etc. "),rm=xe(" Config Engine "),im=xe(" Show the Config Engine. "),nm=xe(" Labels "),sm=Z_(()=>he("span",null,"Select all",-1)),om=xe(" Links "),am=xe(" Nodes "),lm=xe("Center the graph"),cm=xe(" F "),dm=xe("Toggle force layout"),um=xe(" Show logs "),hm=xe(" L "),fm=xe("Toggle logs"),pm=xe(" G "),vm=xe("Include graph events in the logs"),gm={class:"event-type"},_m=de({__name:"graphView",setup(e){Vc(ip()),Kv(np());const t=sr(),r=q([]),l=q([]),{optLayout:h}=Jn(t),b=q({}),y=q({}),i=Pr("ceVisible",-2),o=Pr("labVisible",2),n=Pr("showLogs",-1),u=Pr("showGraphLogs",!1),f=Pr("showSiderbar",!0),_=12,v=q({}),g=hi([]);Ma.on(A=>{u.value&&p(A.msg,A.ev)});function p(A,D){const T=X_().format("HH:mm:ss.SSS");g.length>_&&g.splice(_,g.length-_),D instanceof Object&&"event"in D&&Object.assign(D,{event:"(...)"}),g.unshift([T,A,JSON.stringify(D)])}function s(){Ir.emit({action:"center",command:""})}Dt(()=>{p("mounted",{}),gt(()=>{Da("select"),o.value<1&&(o.value=S(o.value)),s()})}),Kc.on(A=>{p("WS Tx",A)}),Go.on(A=>{console.debug("WS Rx",A),p("WS Rx",A),A.code===xr.uidata&&(p("WS load",{}),gt(s))}),Ko.on(A=>{console.debug("WS T",A),p("WS T",A),A.resulty&&m(A)});const c=q("base");function a(A){A&&(c.value=String(A))}const d=X(()=>{var A=[{label:"base",key:"base"}];const D=new Set;return Object.keys(t.optTemplates).forEach(T=>{const[x,E]=T.split(".");if(E&&(x==="node"||x==="link")){if(D.has(E))return;D.add(E),A.push({label:E,key:E})}}),A});Rn(t.optTemplates,w),Rn(c,w);function m(A){A.name==="link"&&A.resulty&&A.id in t.topo.links&&(b.value[A.id]={size:12,...A.resulty}),A.name==="node"&&A.resulty&&A.id in t.topo.nodes&&(y.value[A.id]={size:12,...A.resulty})}function w(){const A=c.value==="base"?"":"."+c.value;Object.keys(t.topo.links).forEach(D=>{var T;Ni({code:xr.template,template:{id:D,name:"link",template:(T=t.optTemplates["link"+A])!=null?T:"",vars:t.linkVars(D),result:""}})}),Object.keys(t.topo.nodes).forEach(D=>{var T;Ni({code:xr.template,template:{id:D,name:"node",template:(T=t.optTemplates["node"+A])!=null?T:"",vars:t.topo.vars[D],result:""}})})}function S(A){return A===0?2:-A}const C=q([]);function k(A,D){D<1?(C.value.includes(A)&&C.value.splice(C.value.indexOf(A),1),v.value[A]=-D):v.value[A]=D}function R(){if(r.value.length!==1)return;const A=r.value[0];if(C.value.includes(A)){console.log("focus",A);return}C.value.push(A),console.log(C)}return Ir.on(A=>{A.action==="config"&&i.value<1&&(i.value=S(i.value),gt(()=>Ir.emit(A)))}),(A,D)=>(ie(),be(Ye,null,[(ie(),Te(qc,{to:"#mtoolbar"},[Z($(Cr),{justify:"end"},{default:K(()=>[Z(Li,{onClick:s},{tooltip:K(()=>[J_]),default:K(()=>[Z($(Je),null,{default:K(()=>[Z($(ws))]),_:1})]),_:1}),Z(Li,{disabled:r.value.length!==1,onClick:R},{tooltip:K(()=>[xe(" SSH to "+Pe(r.value[0]),1)]),"tooltip-disabled":K(()=>[Q_]),default:K(()=>[Z($(Je),null,{default:K(()=>[Z($(Rd))]),_:1})]),_:1},8,["disabled"]),Z($(da),null,{default:K(()=>[Z(ar,{value:$(o)>0,"onUpdate:value":D[0]||(D[0]=T=>o.value=S($(o)))},{tooltip:K(()=>[tm]),default:K(()=>[em]),_:1},8,["value"]),Z(ar,{value:$(i)>0,"onUpdate:value":D[1]||(D[1]=T=>i.value=S($(i)))},{tooltip:K(()=>[im]),default:K(()=>[rm]),_:1},8,["value"])]),_:1})]),_:1})])),Z($(Yc),{"has-sider":""},{default:K(()=>[Z($(Qf),{collapsed:$(f),"onUpdate:collapsed":D[6]||(D[6]=T=>Lt(f)?f.value=T:null),"show-trigger":"arrow-circle","content-style":"padding: 24px;",bordered:"",static:"",embedded:""},{default:K(()=>[Z($(rp),null,{default:K(()=>[Z($(xi),null,{suffix:K(()=>[Z(Li,{circle:"",secondary:"",onClick:w},{tooltip:K(()=>[xe(" Refresh the labels using the node."+Pe(c.value)+" & link."+Pe(c.value)+" templates ",1)]),default:K(()=>[Z($(Je),null,{default:K(()=>[Z($(tu))]),_:1})]),_:1})]),default:K(()=>[nm,Z($(Pf),{options:$(d),trigger:"hover",onSelect:a},{default:K(()=>[Z($(Qe),{size:"small",secondary:"",round:""},{default:K(()=>[xe(Pe(c.value)+" layer ",1)]),_:1})]),_:1},8,["options"])]),_:1}),Z($(xi),null,{default:K(()=>[Z($(Cr),{justify:"space-between"},{default:K(()=>[sm,Z($(Qe),{size:"small",secondary:"",round:"",onClick:D[2]||(D[2]=T=>l.value=Object.keys($(t).topo.links))},{default:K(()=>[om]),_:1}),Z($(Qe),{size:"small",secondary:"",round:"",onClick:D[3]||(D[3]=T=>r.value=Object.keys($(t).topo.nodes))},{default:K(()=>[am]),_:1})]),_:1})]),_:1}),Z($(xi),null,{suffix:K(()=>[Z(ar,{value:$(h)==="force","onUpdate:value":D[4]||(D[4]=T=>h.value=T?"force":"grid")},{tooltip:K(()=>[dm]),default:K(()=>[cm]),_:1},8,["value"])]),default:K(()=>[Z($(Cr),{justify:"space-between"},{default:K(()=>[xe(" Layout: "+Pe($(h))+" ",1),Z(ar,{"onUpdate:value":s},{tooltip:K(()=>[lm]),default:K(()=>[Z($(Je),null,{default:K(()=>[Z($(ws))]),_:1})]),_:1})]),_:1})]),_:1}),Z($(xi),null,{suffix:K(()=>[Z(ar,{value:$(n)>0,"onUpdate:value":D[5]||(D[5]=T=>n.value=S($(n)))},{tooltip:K(()=>[fm]),default:K(()=>[hm]),_:1},8,["value"])]),default:K(()=>[um]),_:1})]),_:1})]),_:1},8,["collapsed"]),Z($(Gc),{embedded:"","native-scrollbar":!1},{default:K(()=>[Z(Y_,{selectedNodes:r.value,"onUpdate:selectedNodes":D[7]||(D[7]=T=>r.value=T),selectedLinks:l.value,"onUpdate:selectedLinks":D[8]||(D[8]=T=>l.value=T),"node-labels":y.value,"link-labels":b.value},null,8,["selectedNodes","selectedLinks","node-labels","link-labels"])]),_:1})]),_:1}),Z($(Ur),{cols:"2 1210:4 2420:6","x-gap":10,"y-gap":10},{default:K(()=>[$(o)>0?(ie(),Te($(Bt),{key:0,span:$(o)},{default:K(()=>[Z(Fg,{visible:$(o),"onUpdate:visible":D[9]||(D[9]=T=>Lt(o)?o.value=T:null)},null,8,["visible"])]),_:1},8,["span"])):Ke("",!0),$(i)>0?(ie(),Te($(Bt),{key:1,span:$(i)},{default:K(()=>[Z(Eg,{visible:$(i),"onUpdate:visible":D[10]||(D[10]=T=>Lt(i)?i.value=T:null),selected:r.value,"onUpdate:selected":D[11]||(D[11]=T=>r.value=T),selectedLinks:l.value,"onUpdate:selectedLinks":D[12]||(D[12]=T=>l.value=T)},null,8,["visible","selected","selectedLinks"])]),_:1},8,["span"])):Ke("",!0),(ie(!0),be(Ye,null,Et(C.value,T=>{var x;return ie(),Te($(Bt),{key:"ssh_"+T,span:(x=v.value[T])!=null?x:2},{default:K(()=>{var E;return[Z(r_,{target:`clab-${$(t).topo.name}-${T}`,visible:(E=v.value[T])!=null?E:2,"onUpdate:visible":L=>k(T,L)},null,8,["target","visible","onUpdate:visible"])]}),_:2},1032,["span"])}),128)),$(n)>0?(ie(),Te($(Bt),{key:2,span:$(n)},{default:K(()=>[Z(rn,{visible:$(n),"onUpdate:visible":D[14]||(D[14]=T=>Lt(n)?n.value=T:null),title:"Logs","min-v":1,"max-v":2},{"header-extra":K(()=>[Z(ar,{value:$(u),"onUpdate:value":D[13]||(D[13]=T=>Lt(u)?u.value=T:null)},{tooltip:K(()=>[vm]),default:K(()=>[pm]),_:1},8,["value"])]),default:K(()=>[(ie(!0),be(Ye,null,Et(g,([T,x,E],L)=>(ie(),be("div",{key:`${T}/${x}/${E}`,style:fi({"background-color":L%2?"white":"#f4f0ec"})},[Z($(ha),{"line-clamp":4},{default:K(()=>[xe(Pe(T)+" ",1),he("b",gm,Pe(x),1),xe(" "+Pe(E),1)]),_:2},1024)],4))),128))]),_:1},8,["visible"])]),_:1},8,["span"])):Ke("",!0)]),_:1})],64))}});const bm=Pa(_m,[["__scopeId","data-v-442f1eea"]]);export{bm as default};
