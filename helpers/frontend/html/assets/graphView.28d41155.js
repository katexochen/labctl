import{e as ue,q as ne,l as ye,o as he,v as kr,r as Y,t as qe,x as Fn,y as hi,z as ar,A as Hn,B as Ki,C as Gt,D as lr,g as ee,E as ai,G as Nn,H as Wn,I as Bt,J as Hl,K as Nl,L as wt,M as Ft,N as Lt,i as A,O as Et,V as zr,P as $r,Q as Ro,R as bt,S as tr,T as gs,U as jr,W as nt,X as at,Y as Yt,Z as Wl,_ as Mi,$ as Ul,a0 as jl,c as j,b as H,a1 as X,u as ot,f as We,a2 as Vl,a3 as Un,a4 as Kl,a5 as ve,h as gt,a6 as ir,a7 as jn,a8 as mt,a9 as Vr,d as re,a as ct,aa as Fr,ab as Oe,ac as ql,ad as li,ae as Gl,af as Qe,ag as qi,ah as Gi,ai as dr,aj as Kr,ak as Pi,al as Vn,am as Yl,an as $i,ao as Xl,ap as ci,aq as Er,F as et,ar as To,as as Kn,at as Lo,au as Zl,av as yr,aw as Ao,ax as hr,ay as Bo,az as Be,aA as Jl,aB as di,aC as yn,aD as Do,aE as Ql,aF as gi,aG as Oo,aH as Yi,aI as qn,aJ as ec,aK as Gn,aL as Yn,aM as tc,aN as rc,aO as ic,aP as Hr,aQ as nc,aR as pi,aS as sc,aT as wn,aU as Mo,aV as Sn,aW as Po,aX as $o,aY as Io,aZ as Cn,a_ as zo,a$ as oc,b0 as ac,b1 as Xn,b2 as Je,b3 as Fo,b4 as Ho,b5 as lc,b6 as cc,b7 as No,b8 as Ii,b9 as Wo,ba as dc,bb as uc,bc as _s,bd as hc,be as fc,bf as pc,bg as Uo,bh as vc,bi as zi,bj as gc,bk as _c,bl as mc,bm as bc,bn as yc,bo as Ri,bp as wc,bq as Sc,br as Cc,bs as xc,bt as tn,bu as kc,bv as Ec,bw as Rc,bx as Tc,by as Lc,bz as Ac,bA as Bc,bB as Dc,bC as Oc,bD as Mc,bE as jo,bF as Te,w as K,m as J,bG as ui,n as $,bH as Ke,bI as Vo,k as fr,bJ as xn,bK as xr,bL as Fi,bM as Ko,bN as kn,bO as mr,bP as Kt,p as xe,bQ as Pc,bR as ms,bS as Ie,s as Ar,bT as Tt,bU as Pr,bV as En,bW as bs,bX as Zn,bY as qo,bZ as $c,b_ as Ic,b$ as zc,c0 as Fc,c1 as Hc,c2 as Nc,c3 as Wc,c4 as rn,c5 as Uc,c6 as jc,c7 as Vc,c8 as Kc,c9 as qc,ca as Gc,cb as Yc,cc as Xc,cd as Zc,ce as Jc}from"./index.ff1bebb9.js";const Qc={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ed=he("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",fill:"currentColor"},null,-1),td=[ed],rd=ue({name:"AddTwotone",render:function(t,r){return ne(),ye("svg",Qc,td)}}),id={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},nd=he("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8l-8 8z",fill:"currentColor"},null,-1),sd=[nd],od=ue({name:"ArrowUpwardTwotone",render:function(t,r){return ne(),ye("svg",id,sd)}}),ad={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ld=he("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8zm3.59-13L12 10.59L8.41 7L7 8.41L10.59 12L7 15.59L8.41 17L12 13.41L15.59 17L17 15.59L13.41 12L17 8.41z",fill:"currentColor"},null,-1),cd=[ld],dd=ue({name:"CancelOutlined",render:function(t,r){return ne(),ye("svg",ad,cd)}}),ud={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},hd=he("path",{d:"M5 15H3v6h6v-2H5v-4zM5 5h4V3H3v6h2V5zm16-2h-6v2h4v4h2V3zm-2 16h-4v2h6v-6h-2v4zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4s4-1.79 4-4s-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2s2 .9 2 2s-.9 2-2 2z",fill:"currentColor"},null,-1),fd=[hd],ys=ue({name:"CenterFocusWeakSharp",render:function(t,r){return ne(),ye("svg",ud,fd)}}),pd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},vd=he("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42l-6.59 6.59l-2.58-2.57l-1.42 1.41l4 3.99z",fill:"currentColor"},null,-1),gd=[vd],_d=ue({name:"CheckBoxOutlined",render:function(t,r){return ne(),ye("svg",pd,gd)}}),md={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},bd=he("path",{d:"M7 4c0-1.11-.89-2-2-2s-2 .89-2 2s.89 2 2 2s2-.89 2-2zm3.19.5c-.41 0-.76.25-.92.63A2.973 2.973 0 0 1 6.5 7h-3C2.67 7 2 7.67 2 8.5V11h6V8.74a4.955 4.955 0 0 0 3.12-2.91c.26-.64-.24-1.33-.93-1.33zM19 17c1.11 0 2-.89 2-2s-.89-2-2-2s-2 .89-2 2s.89 2 2 2zm1.5 1h-3c-1.26 0-2.33-.77-2.77-1.87a.986.986 0 0 0-.92-.63c-.69 0-1.19.69-.94 1.33a4.98 4.98 0 0 0 3.12 2.91V22h6v-2.5c.01-.83-.66-1.5-1.49-1.5zm-3.25-6.91s0-.01.01 0a3.02 3.02 0 0 0-2.17 2.17v-.01c-.11.43-.51.75-.98.75c-.55 0-1-.45-1-1c0-.05.02-.14.02-.14a4.99 4.99 0 0 1 3.75-3.73c.04 0 .08-.01.12-.01c.55 0 1 .45 1 1c0 .46-.32.86-.75.97zM18 6.06c0 .51-.37.92-.86.99c-3.19.39-5.7 2.91-6.09 6.1A1.002 1.002 0 0 1 9.06 13v-.09c.5-4.12 3.79-7.38 7.92-7.85h.01c.56 0 1.01.45 1.01 1z",fill:"currentColor"},null,-1),yd=[bd],wd=ue({name:"ConnectWithoutContactRound",render:function(t,r){return ne(),ye("svg",md,yd)}}),Sd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Cd=he("path",{d:"M8.57 16H10c0-2.76-2.24-5-5-5v1.43c1.97 0 3.57 1.6 3.57 3.57z",fill:"currentColor"},null,-1),xd=he("path",{d:"M11.55 16H13c0-4.42-3.59-8-8-8v1.45c3.61 0 6.55 2.93 6.55 6.55zM5 14v2h2c0-1.11-.89-2-2-2z",fill:"currentColor"},null,-1),kd=he("path",{d:"M22 3H2v16h6v2h8v-2h6V3zm-2 14H4V5h16v12z",fill:"currentColor"},null,-1),Ed=[Cd,xd,kd],Rd=ue({name:"ConnectedTvSharp",render:function(t,r){return ne(),ye("svg",Sd,Ed)}}),Td={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Ld=he("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z",fill:"currentColor"},null,-1),Ad=[Ld],Go=ue({name:"DescriptionOutlined",render:function(t,r){return ne(),ye("svg",Td,Ad)}}),Bd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Dd=he("path",{opacity:".3",d:"M8 10h8v4H8z",fill:"currentColor"},null,-1),Od=he("path",{d:"M6 16h12V8H6v8zm2-6h8v4H8v-4zm-4 5H2v3c0 1.1.9 2 2 2h3v-2H4v-3zm0-9h3V4H4c-1.1 0-2 .9-2 2v3h2V6zm16-2h-3v2h3v3h2V6c0-1.1-.9-2-2-2zm0 14h-3v2h3c1.1 0 2-.9 2-2v-3h-2v3z",fill:"currentColor"},null,-1),Md=[Dd,Od],Pd=ue({name:"FitScreenTwotone",render:function(t,r){return ne(),ye("svg",Bd,Md)}}),$d={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Id=he("path",{d:"M12 5.69l5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z",fill:"currentColor"},null,-1),zd=[Id],Yo=ue({name:"HomeOutlined",render:function(t,r){return ne(),ye("svg",$d,zd)}}),Fd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Hd=he("path",{d:"M20 4v12H8V4h12m0-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7.53 12L9 10.5l1.4-1.41l2.07 2.08L17.6 6L19 7.41L12.47 14zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z",fill:"currentColor"},null,-1),Nd=[Hd],Wd=ue({name:"LibraryAddCheckOutlined",render:function(t,r){return ne(),ye("svg",Fd,Nd)}}),Ud={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},jd=he("path",{opacity:".3",d:"M5 18.08V19h.92l9.06-9.06l-.92-.92z",fill:"currentColor"},null,-1),Vd=he("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06l.92.92L5.92 19zM20.71 5.63l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83l3.75 3.75l1.83-1.83a.996.996 0 0 0 0-1.41z",fill:"currentColor"},null,-1),Kd=[jd,Vd],qd=ue({name:"ModeEditOutlineTwotone",render:function(t,r){return ne(),ye("svg",Ud,Kd)}}),Gd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Yd=he("path",{opacity:".3",d:"M10 8.64v6.72L15.27 12z",fill:"currentColor"},null,-1),Xd=he("path",{d:"M8 19l11-7L8 5v14zm2-10.36L15.27 12L10 15.36V8.64z",fill:"currentColor"},null,-1),Zd=[Yd,Xd],Rn=ue({name:"PlayArrowTwotone",render:function(t,r){return ne(),ye("svg",Gd,Zd)}}),Jd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Qd=he("path",{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"currentColor"},null,-1),eu=[Qd],tu=ue({name:"RefreshSharp",render:function(t,r){return ne(),ye("svg",Jd,eu)}}),ru={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},iu=he("path",{d:"M19 15.18V7c0-2.21-1.79-4-4-4s-4 1.79-4 4v10c0 1.1-.9 2-2 2s-2-.9-2-2V8.82C8.16 8.4 9 7.3 9 6c0-1.66-1.34-3-3-3S3 4.34 3 6c0 1.3.84 2.4 2 2.82V17c0 2.21 1.79 4 4 4s4-1.79 4-4V7c0-1.1.9-2 2-2s2 .9 2 2v8.18A2.996 2.996 0 0 0 18 21c1.66 0 3-1.34 3-3c0-1.3-.84-2.4-2-2.82z",fill:"currentColor"},null,-1),nu=[iu],su=ue({name:"RouteFilled",render:function(t,r){return ne(),ye("svg",ru,nu)}}),ou={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},au=he("path",{d:"M7.77 6.76L6.23 5.48L.82 12l5.41 6.52l1.54-1.28L3.42 12l4.35-5.24zM7 13h2v-2H7v2zm10-2h-2v2h2v-2zm-6 2h2v-2h-2v2zm6.77-7.52l-1.54 1.28L20.58 12l-4.35 5.24l1.54 1.28L23.18 12l-5.41-6.52z",fill:"currentColor"},null,-1),lu=[au],Xo=ue({name:"SettingsEthernetOutlined",render:function(t,r){return ne(),ye("svg",ou,lu)}}),cu={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},du=he("path",{opacity:".3",d:"M6 4h12v5H6zm0 11h12v5H6z",fill:"currentColor"},null,-1),uu=he("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 7H6V4h12v5zm0 4H6c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2zm0 7H6v-5h12v5z",fill:"currentColor"},null,-1),hu=[du,uu],fu=ue({name:"SplitscreenTwotone",render:function(t,r){return ne(),ye("svg",cu,hu)}});function Nr(e,t){let{target:r}=e;for(;r;){if(r.dataset&&r.dataset[t]!==void 0)return!0;r=r.parentElement}return!1}function pu(e){if(typeof e=="number")return{"":e.toString()};const t={};return e.split(/ +/).forEach(r=>{if(r==="")return;const[l,h]=r.split(":");h===void 0?t[""]=l:t[l]=h}),t}function Zr(e,t){var r;if(e==null)return;const l=pu(e);if(t===void 0)return l[""];if(typeof t=="string")return(r=l[t])!==null&&r!==void 0?r:l[""];if(Array.isArray(t)){for(let h=t.length-1;h>=0;--h){const y=t[h];if(y in l)return l[y]}return l[""]}else{let h,y=-1;return Object.keys(l).forEach(b=>{const i=Number(b);!Number.isNaN(i)&&t>=i&&i>=y&&(y=i,h=l[b])}),h}}function Zo(e){switch(typeof e){case"string":return e||void 0;case"number":return String(e);default:return}}function vu(e){return t=>{t?e.value=t.$el:e.value=null}}function nn(e){const t=e.filter(r=>r!==void 0);if(t.length!==0)return t.length===1?t[0]:r=>{e.forEach(l=>{l&&l(r)})}}function gu(e){var t;const r=(t=e.dirs)===null||t===void 0?void 0:t.find(({dir:l})=>l===kr);return!!(r&&r.value===!1)}const Jo=new WeakSet;function _u(e){Jo.add(e)}function mu(e){return!Jo.has(e)}function bu(e,t,r){if(!t)return e;const l=Y(e.value);let h=null;return qe(e,y=>{h!==null&&window.clearTimeout(h),y===!0?r&&!r.value?l.value=!0:h=window.setTimeout(()=>{l.value=!0},t):l.value=!1}),l}const ii=Y(null);function ws(e){if(e.clientX>0||e.clientY>0)ii.value={x:e.clientX,y:e.clientY};else{const{target:t}=e;if(t instanceof Element){const{left:r,top:l,width:h,height:y}=t.getBoundingClientRect();r>0||l>0?ii.value={x:r+h/2,y:l+y/2}:ii.value={x:0,y:0}}else ii.value=null}}let _i=0,Ss=!0;function yu(){if(!Fn)return hi(Y(null));_i===0&&ar("click",document,ws,!0);const e=()=>{_i+=1};return Ss&&(Ss=Hn())?(Ki(e),Gt(()=>{_i-=1,_i===0&&lr("click",document,ws,!0)})):e(),hi(ii)}const wu=Y(void 0);let mi=0;function Cs(){wu.value=Date.now()}let xs=!0;function Su(e){if(!Fn)return hi(Y(!1));const t=Y(!1);let r=null;function l(){r!==null&&window.clearTimeout(r)}function h(){l(),t.value=!0,r=window.setTimeout(()=>{t.value=!1},e)}mi===0&&ar("click",window,Cs,!0);const y=()=>{mi+=1,ar("click",window,h,!0)};return xs&&(xs=Hn())?(Ki(y),Gt(()=>{mi-=1,mi===0&&lr("click",window,Cs,!0),lr("click",window,h,!0),l()})):y(),hi(t)}const Cu={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function xu(e){return`(min-width: ${e}px)`}const Jr={};function ku(e=Cu){if(!Fn)return ee(()=>[]);if(typeof window.matchMedia!="function")return ee(()=>[]);const t=Y({}),r=Object.keys(e),l=(h,y)=>{h.matches?t.value[y]=!0:t.value[y]=!1};return r.forEach(h=>{const y=e[h];let b,i;Jr[y]===void 0?(b=window.matchMedia(xu(y)),b.addEventListener?b.addEventListener("change",o=>{i.forEach(n=>{n(o,h)})}):b.addListener&&b.addListener(o=>{i.forEach(n=>{n(o,h)})}),i=new Set,Jr[y]={mql:b,cbs:i}):(b=Jr[y].mql,i=Jr[y].cbs),i.add(l),b.matches&&i.forEach(o=>{o(b,h)})}),Gt(()=>{r.forEach(h=>{const{cbs:y}=Jr[e[h]];y.has(l)&&y.delete(l)})}),ee(()=>{const{value:h}=t;return r.filter(y=>h[y])})}function Eu(e={},t){const r=ai({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:l,keyup:h}=e,y=o=>{switch(o.key){case"Control":r.ctrl=!0;break;case"Meta":r.command=!0,r.win=!0;break;case"Shift":r.shift=!0;break;case"Tab":r.tab=!0;break}l!==void 0&&Object.keys(l).forEach(n=>{if(n!==o.key)return;const u=l[n];if(typeof u=="function")u(o);else{const{stop:f=!1,prevent:_=!1}=u;f&&o.stopPropagation(),_&&o.preventDefault(),u.handler(o)}})},b=o=>{switch(o.key){case"Control":r.ctrl=!1;break;case"Meta":r.command=!1,r.win=!1;break;case"Shift":r.shift=!1;break;case"Tab":r.tab=!1;break}h!==void 0&&Object.keys(h).forEach(n=>{if(n!==o.key)return;const u=h[n];if(typeof u=="function")u(o);else{const{stop:f=!1,prevent:_=!1}=u;f&&o.stopPropagation(),_&&o.preventDefault(),u.handler(o)}})},i=()=>{(t===void 0||t.value)&&(ar("keydown",document,y),ar("keyup",document,b)),t!==void 0&&qe(t,o=>{o?(ar("keydown",document,y),ar("keyup",document,b)):(lr("keydown",document,y),lr("keyup",document,b))})};return Hn()?(Ki(i),Gt(()=>{(t===void 0||t.value)&&(lr("keydown",document,y),lr("keyup",document,b))})):i(),hi(r)}function ks(e){return e&-e}class Ru{constructor(t,r){this.l=t,this.min=r;const l=new Array(t+1);for(let h=0;h<t+1;++h)l[h]=0;this.ft=l}add(t,r){if(r===0)return;const{l,ft:h}=this;for(t+=1;t<=l;)h[t]+=r,t+=ks(t)}get(t){return this.sum(t+1)-this.sum(t)}sum(t){if(t===void 0&&(t=this.l),t<=0)return 0;const{ft:r,min:l,l:h}=this;if(t>h)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let y=t*l;for(;t>0;)y+=r[t],t-=ks(t);return y}getBound(t){let r=0,l=this.l;for(;l>r;){const h=Math.floor((r+l)/2),y=this.sum(h);if(y>t){l=h;continue}else if(y<t){if(r===h)return this.sum(r+1)<=t?r+1:h;r=h}else return h}return r}}let bi;function Tu(){return bi===void 0&&("matchMedia"in window?bi=window.matchMedia("(pointer:coarse)").matches:bi=!1),bi}let sn;function Es(){return sn===void 0&&(sn="chrome"in window?window.devicePixelRatio:1),sn}const Lu=$r(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[$r("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[$r("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),Au=ue({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(e){const t=Nn();Lu.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:Wn,ssr:t}),Bt(()=>{const{defaultScrollIndex:P,defaultScrollKey:B}=e;P!=null?g({index:P}):B!=null&&g({key:B})});let r=!1,l=!1;Hl(()=>{if(r=!1,!l){l=!0;return}g({top:f.value,left:u})}),Nl(()=>{r=!0,l||(l=!0)});const h=ee(()=>{const P=new Map,{keyField:B}=e;return e.items.forEach((x,R)=>{P.set(x[B],R)}),P}),y=Y(null),b=Y(void 0),i=new Map,o=ee(()=>{const{items:P,itemSize:B,keyField:x}=e,R=new Ru(P.length,B);return P.forEach((T,O)=>{const M=T[x],V=i.get(M);V!==void 0&&R.add(O,V)}),R}),n=Y(0);let u=0;const f=Y(0),_=wt(()=>Math.max(o.value.getBound(f.value-Ft(e.paddingTop))-1,0)),v=ee(()=>{const{value:P}=b;if(P===void 0)return[];const{items:B,itemSize:x}=e,R=_.value,T=Math.min(R+Math.ceil(P/x+1),B.length-1),O=[];for(let M=R;M<=T;++M)O.push(B[M]);return O}),g=(P,B)=>{if(typeof P=="number"){a(P,B,"auto");return}const{left:x,top:R,index:T,key:O,position:M,behavior:V,debounce:F=!0}=P;if(x!==void 0||R!==void 0)a(x,R,V);else if(T!==void 0)c(T,V,F);else if(O!==void 0){const W=h.value.get(O);W!==void 0&&c(W,V,F)}else M==="bottom"?a(0,Number.MAX_SAFE_INTEGER,V):M==="top"&&a(0,0,V)};let p,s=null;function c(P,B,x){const{value:R}=o,T=R.sum(P)+Ft(e.paddingTop);if(!x)y.value.scrollTo({left:0,top:T,behavior:B});else{p=P,s!==null&&window.clearTimeout(s),s=window.setTimeout(()=>{p=void 0,s=null},16);const{scrollTop:O,offsetHeight:M}=y.value;if(T>O){const V=R.get(P);T+V<=O+M||y.value.scrollTo({left:0,top:T+V-M,behavior:B})}else y.value.scrollTo({left:0,top:T,behavior:B})}}function a(P,B,x){y.value.scrollTo({left:P,top:B,behavior:x})}function d(P,B){var x,R,T;if(r||e.ignoreItemResize||D(B.target))return;const{value:O}=o,M=h.value.get(P),V=O.get(M),F=(T=(R=(x=B.borderBoxSize)===null||x===void 0?void 0:x[0])===null||R===void 0?void 0:R.blockSize)!==null&&T!==void 0?T:B.contentRect.height;if(F===V)return;F-e.itemSize===0?i.delete(P):i.set(P,F-e.itemSize);const G=F-V;if(G===0)return;O.add(M,G);const ie=y.value;if(ie!=null){if(p===void 0){const L=O.sum(M);ie.scrollTop>L&&ie.scrollBy(0,G)}else if(M<p)ie.scrollBy(0,G);else if(M===p){const L=O.sum(M);F+L>ie.scrollTop+ie.offsetHeight&&ie.scrollBy(0,G)}E()}n.value++}const m=!Tu();let w=!1;function S(P){var B;(B=e.onScroll)===null||B===void 0||B.call(e,P),(!m||!w)&&E()}function k(P){var B;if((B=e.onWheel)===null||B===void 0||B.call(e,P),m){const x=y.value;if(x!=null){if(P.deltaX===0&&(x.scrollTop===0&&P.deltaY<=0||x.scrollTop+x.offsetHeight>=x.scrollHeight&&P.deltaY>=0))return;P.preventDefault(),x.scrollTop+=P.deltaY/Es(),x.scrollLeft+=P.deltaX/Es(),E(),w=!0,Ro(()=>{w=!1})}}}function C(P){if(r||D(P.target)||P.contentRect.height===b.value)return;b.value=P.contentRect.height;const{onResize:B}=e;B!==void 0&&B(P)}function E(){const{value:P}=y;P!=null&&(f.value=P.scrollTop,u=P.scrollLeft)}function D(P){let B=P;for(;B!==null;){if(B.style.display==="none")return!0;B=B.parentElement}return!1}return{listHeight:b,listStyle:{overflow:"auto"},keyToIndex:h,itemsStyle:ee(()=>{const{itemResizable:P}=e,B=Lt(o.value.sum());return n.value,[e.itemsStyle,{boxSizing:"content-box",height:P?"":B,minHeight:P?B:"",paddingTop:Lt(e.paddingTop),paddingBottom:Lt(e.paddingBottom)}]}),visibleItemsStyle:ee(()=>(n.value,{transform:`translateY(${Lt(o.value.sum(_.value))})`})),viewportItems:v,listElRef:y,itemsElRef:Y(null),scrollTo:g,handleListResize:C,handleListScroll:S,handleListWheel:k,handleItemResize:d}},render(){const{itemResizable:e,keyField:t,keyToIndex:r,visibleItemsTag:l}=this;return A(zr,{onResize:this.handleListResize},{default:()=>{var h,y;return A("div",Et(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?A("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[A(l,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>this.viewportItems.map(b=>{const i=b[t],o=r.get(i),n=this.$slots.default({item:b,index:o})[0];return e?A(zr,{key:i,onResize:u=>this.handleItemResize(i,u)},{default:()=>n}):(n.key=i,n)})})]):(y=(h=this.$slots).empty)===null||y===void 0?void 0:y.call(h)])}})}}),Bu=$r(".v-x-scroll",{overflow:"auto",scrollbarWidth:"none"},[$r("&::-webkit-scrollbar",{width:0,height:0})]),Du=ue({name:"XScroll",props:{disabled:Boolean,onScroll:Function},setup(){const e=Y(null);function t(h){!(h.currentTarget.offsetWidth<h.currentTarget.scrollWidth)||h.deltaY===0||(h.currentTarget.scrollLeft+=h.deltaY+h.deltaX,h.preventDefault())}const r=Nn();return Bu.mount({id:"vueuc/x-scroll",head:!0,anchorMetaName:Wn,ssr:r}),Object.assign({selfRef:e,handleWheel:t},{scrollTo(...h){var y;(y=e.value)===null||y===void 0||y.scrollTo(...h)}})},render(){return A("div",{ref:"selfRef",onScroll:this.onScroll,onWheel:this.disabled?void 0:this.handleWheel,class:"v-x-scroll"},this.$slots)}}),wr="v-hidden",Ou=$r("[v-hidden]",{display:"none!important"}),Rs=ue({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateOverflow:Function},setup(e,{slots:t}){const r=Y(null),l=Y(null);function h(){const{value:b}=r,{getCounter:i,getTail:o}=e;let n;if(i!==void 0?n=i():n=l.value,!b||!n)return;n.hasAttribute(wr)&&n.removeAttribute(wr);const{children:u}=b,f=b.offsetWidth,_=[],v=t.tail?o==null?void 0:o():null;let g=v?v.offsetWidth:0,p=!1;const s=b.children.length-(t.tail?1:0);for(let a=0;a<s-1;++a){if(a<0)continue;const d=u[a];if(p){d.hasAttribute(wr)||d.setAttribute(wr,"");continue}else d.hasAttribute(wr)&&d.removeAttribute(wr);const m=d.offsetWidth;if(g+=m,_[a]=m,g>f){const{updateCounter:w}=e;for(let S=a;S>=0;--S){const k=s-1-S;w!==void 0?w(k):n.textContent=`${k}`;const C=n.offsetWidth;if(g-=_[S],g+C<=f||S===0){p=!0,a=S-1,v&&(a===-1?(v.style.maxWidth=`${f-C}px`,v.style.boxSizing="border-box"):v.style.maxWidth="");break}}}}const{onUpdateOverflow:c}=e;p?c!==void 0&&c(!0):(c!==void 0&&c(!1),n.setAttribute(wr,""))}const y=Nn();return Ou.mount({id:"vueuc/overflow",head:!0,anchorMetaName:Wn,ssr:y}),Bt(h),{selfRef:r,counterRef:l,sync:h}},render(){const{$slots:e}=this;return bt(this.sync),A("div",{class:"v-overflow",ref:"selfRef"},[tr(e,"default"),e.counter?e.counter():A("span",{style:{display:"inline-block"},ref:"counterRef"}),e.tail?e.tail():null])}});function Qo(e,t){t&&(Bt(()=>{const{value:r}=e;r&&gs.registerHandler(r,t)}),Gt(()=>{const{value:r}=e;r&&gs.unregisterHandler(r)}))}let Br=0,Ts="",Ls="",As="",Bs="";const Ds=Y("0px");function Mu(e){if(typeof document>"u")return;const t=document.documentElement;let r,l=!1;const h=()=>{t.style.marginRight=Ts,t.style.overflow=Ls,t.style.overflowX=As,t.style.overflowY=Bs,Ds.value="0px"};Bt(()=>{r=qe(e,y=>{if(y){if(!Br){const b=window.innerWidth-t.offsetWidth;b>0&&(Ts=t.style.marginRight,t.style.marginRight=`${b}px`,Ds.value=`${b}px`),Ls=t.style.overflow,As=t.style.overflowX,Bs=t.style.overflowY,t.style.overflow="hidden",t.style.overflowX="hidden",t.style.overflowY="hidden"}l=!0,Br++}else Br--,Br||h(),l=!1},{immediate:!0})}),Gt(()=>{r==null||r(),l&&(Br--,Br||h(),l=!1)})}const Jn=Y(!1),Os=()=>{Jn.value=!0},Ms=()=>{Jn.value=!1};let Qr=0;const Pu=()=>(jr&&(Ki(()=>{Qr||(window.addEventListener("compositionstart",Os),window.addEventListener("compositionend",Ms)),Qr++}),Gt(()=>{Qr<=1?(window.removeEventListener("compositionstart",Os),window.removeEventListener("compositionend",Ms),Qr=0):Qr--})),Jn),Ps=Yt("n-form-item");function Xi(e,{defaultSize:t="medium",mergedSize:r,mergedDisabled:l}={}){const h=nt(Ps,null);at(Ps,null);const y=ee(r?()=>r(h):()=>{const{size:o}=e;if(o)return o;if(h){const{mergedSize:n}=h;if(n.value!==void 0)return n.value}return t}),b=ee(l?()=>l(h):()=>{const{disabled:o}=e;return o!==void 0?o:h?h.disabled.value:!1}),i=ee(()=>{const{status:o}=e;return o||(h==null?void 0:h.mergedValidationStatus.value)});return Gt(()=>{h&&h.restoreValidation()}),{mergedSizeRef:y,mergedDisabledRef:b,mergedStatusRef:i,nTriggerFormBlur(){h&&h.handleContentBlur()},nTriggerFormChange(){h&&h.handleContentChange()},nTriggerFormFocus(){h&&h.handleContentFocus()},nTriggerFormInput(){h&&h.handleContentInput()}}}var $u=/\s/;function Iu(e){for(var t=e.length;t--&&$u.test(e.charAt(t)););return t}var zu=/^\s+/;function Fu(e){return e&&e.slice(0,Iu(e)+1).replace(zu,"")}var $s=0/0,Hu=/^[-+]0x[0-9a-f]+$/i,Nu=/^0b[01]+$/i,Wu=/^0o[0-7]+$/i,Uu=parseInt;function Is(e){if(typeof e=="number")return e;if(Wl(e))return $s;if(Mi(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Mi(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Fu(e);var r=Nu.test(e);return r||Wu.test(e)?Uu(e.slice(2),r?2:8):Hu.test(e)?$s:+e}var ju=function(){return Ul.Date.now()};const on=ju;var Vu="Expected a function",Ku=Math.max,qu=Math.min;function Gu(e,t,r){var l,h,y,b,i,o,n=0,u=!1,f=!1,_=!0;if(typeof e!="function")throw new TypeError(Vu);t=Is(t)||0,Mi(r)&&(u=!!r.leading,f="maxWait"in r,y=f?Ku(Is(r.maxWait)||0,t):y,_="trailing"in r?!!r.trailing:_);function v(S){var k=l,C=h;return l=h=void 0,n=S,b=e.apply(C,k),b}function g(S){return n=S,i=setTimeout(c,t),u?v(S):b}function p(S){var k=S-o,C=S-n,E=t-k;return f?qu(E,y-C):E}function s(S){var k=S-o,C=S-n;return o===void 0||k>=t||k<0||f&&C>=y}function c(){var S=on();if(s(S))return a(S);i=setTimeout(c,p(S))}function a(S){return i=void 0,_&&l?v(S):(l=h=void 0,b)}function d(){i!==void 0&&clearTimeout(i),n=0,l=o=h=i=void 0}function m(){return i===void 0?b:a(on())}function w(){var S=on(),k=s(S);if(l=arguments,h=this,o=S,k){if(i===void 0)return g(o);if(f)return clearTimeout(i),i=setTimeout(c,t),v(o)}return i===void 0&&(i=setTimeout(c,t)),b}return w.cancel=d,w.flush=m,w}var Yu="Expected a function";function an(e,t,r){var l=!0,h=!0;if(typeof e!="function")throw new TypeError(Yu);return Mi(r)&&(l="leading"in r?!!r.leading:l,h="trailing"in r?!!r.trailing:h),Gu(e,t,{leading:l,maxWait:t,trailing:h})}const Xu=ue({name:"Add",render(){return A("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}}),Zu=ue({name:"Checkmark",render(){return A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},A("g",{fill:"none"},A("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),Ju=ue({name:"ChevronLeft",render(){return A("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A("path",{d:"M10.3536 3.14645C10.5488 3.34171 10.5488 3.65829 10.3536 3.85355L6.20711 8L10.3536 12.1464C10.5488 12.3417 10.5488 12.6583 10.3536 12.8536C10.1583 13.0488 9.84171 13.0488 9.64645 12.8536L5.14645 8.35355C4.95118 8.15829 4.95118 7.84171 5.14645 7.64645L9.64645 3.14645C9.84171 2.95118 10.1583 2.95118 10.3536 3.14645Z",fill:"currentColor"}))}}),Qn=ue({name:"ChevronRight",render(){return A("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"}))}}),Qu=ue({name:"Eye",render(){return A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},A("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),A("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),eh=ue({name:"EyeOff",render(){return A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},A("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),A("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),A("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),A("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),A("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),th=ue({name:"Empty",render(){return A("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),A("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),rh=ue({name:"ChevronDown",render(){return A("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A("path",{d:"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",fill:"currentColor"}))}}),ih=jl("clear",A("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},A("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},A("g",{fill:"currentColor","fill-rule":"nonzero"},A("path",{d:"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"}))))),nh=ue({props:{onFocus:Function,onBlur:Function},setup(e){return()=>A("div",{style:"width: 0; height: 0",tabindex:0,onFocus:e.onFocus,onBlur:e.onBlur})}});function zs(e){return Array.isArray(e)?e:[e]}const Tn={STOP:"STOP"};function ea(e,t){const r=t(e);e.children!==void 0&&r!==Tn.STOP&&e.children.forEach(l=>ea(l,t))}function sh(e,t={}){const{preserveGroup:r=!1}=t,l=[],h=r?b=>{b.isLeaf||(l.push(b.key),y(b.children))}:b=>{b.isLeaf||(b.isGroup||l.push(b.key),y(b.children))};function y(b){b.forEach(h)}return y(e),l}function oh(e,t){const{isLeaf:r}=e;return r!==void 0?r:!t(e)}function ah(e){return e.children}function lh(e){return e.key}function ch(){return!1}function dh(e,t){const{isLeaf:r}=e;return!(r===!1&&!Array.isArray(t(e)))}function uh(e){return e.disabled===!0}function hh(e,t){return e.isLeaf===!1&&!Array.isArray(t(e))}function ln(e){var t;return e==null?[]:Array.isArray(e)?e:(t=e.checkedKeys)!==null&&t!==void 0?t:[]}function cn(e){var t;return e==null||Array.isArray(e)?[]:(t=e.indeterminateKeys)!==null&&t!==void 0?t:[]}function fh(e,t){const r=new Set(e);return t.forEach(l=>{r.has(l)||r.add(l)}),Array.from(r)}function ph(e,t){const r=new Set(e);return t.forEach(l=>{r.has(l)&&r.delete(l)}),Array.from(r)}function vh(e){return(e==null?void 0:e.type)==="group"}function gh(e){const t=new Map;return e.forEach((r,l)=>{t.set(r.key,l)}),r=>{var l;return(l=t.get(r))!==null&&l!==void 0?l:null}}class _h extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function mh(e,t,r,l){return Hi(t.concat(e),r,l,!1)}function bh(e,t){const r=new Set;return e.forEach(l=>{const h=t.treeNodeMap.get(l);if(h!==void 0){let y=h.parent;for(;y!==null&&!(y.disabled||r.has(y.key));)r.add(y.key),y=y.parent}}),r}function yh(e,t,r,l){const h=Hi(t,r,l,!1),y=Hi(e,r,l,!0),b=bh(e,r),i=[];return h.forEach(o=>{(y.has(o)||b.has(o))&&i.push(o)}),i.forEach(o=>h.delete(o)),h}function dn(e,t){const{checkedKeys:r,keysToCheck:l,keysToUncheck:h,indeterminateKeys:y,cascade:b,leafOnly:i,checkStrategy:o,allowNotLoaded:n}=e;if(!b)return l!==void 0?{checkedKeys:fh(r,l),indeterminateKeys:Array.from(y)}:h!==void 0?{checkedKeys:ph(r,h),indeterminateKeys:Array.from(y)}:{checkedKeys:Array.from(r),indeterminateKeys:Array.from(y)};const{levelTreeNodeMap:u}=t;let f;h!==void 0?f=yh(h,r,t,n):l!==void 0?f=mh(l,r,t,n):f=Hi(r,t,n,!1);const _=o==="parent",v=o==="child"||i,g=f,p=new Set,s=Math.max.apply(null,Array.from(u.keys()));for(let c=s;c>=0;c-=1){const a=c===0,d=u.get(c);for(const m of d){if(m.isLeaf)continue;const{key:w,shallowLoaded:S}=m;if(v&&S&&m.children.forEach(D=>{!D.disabled&&!D.isLeaf&&D.shallowLoaded&&g.has(D.key)&&g.delete(D.key)}),m.disabled||!S)continue;let k=!0,C=!1,E=!0;for(const D of m.children){const P=D.key;if(!D.disabled){if(E&&(E=!1),g.has(P))C=!0;else if(p.has(P)){C=!0,k=!1;break}else if(k=!1,C)break}}k&&!E?(_&&m.children.forEach(D=>{!D.disabled&&g.has(D.key)&&g.delete(D.key)}),g.add(w)):C&&p.add(w),a&&v&&g.has(w)&&g.delete(w)}}return{checkedKeys:Array.from(g),indeterminateKeys:Array.from(p)}}function Hi(e,t,r,l){const{treeNodeMap:h,getChildren:y}=t,b=new Set,i=new Set(e);return e.forEach(o=>{const n=h.get(o);n!==void 0&&ea(n,u=>{if(u.disabled)return Tn.STOP;const{key:f}=u;if(!b.has(f)&&(b.add(f),i.add(f),hh(u.rawNode,y))){if(l)return Tn.STOP;if(!r)throw new _h}})}),i}function wh(e,{includeGroup:t=!1,includeSelf:r=!0},l){var h;const y=l.treeNodeMap;let b=e==null?null:(h=y.get(e))!==null&&h!==void 0?h:null;const i={keyPath:[],treeNodePath:[],treeNode:b};if(b!=null&&b.ignored)return i.treeNode=null,i;for(;b;)!b.ignored&&(t||!b.isGroup)&&i.treeNodePath.push(b),b=b.parent;return i.treeNodePath.reverse(),r||i.treeNodePath.pop(),i.keyPath=i.treeNodePath.map(o=>o.key),i}function Sh(e){if(e.length===0)return null;const t=e[0];return t.isGroup||t.ignored||t.disabled?t.getNext():t}function Ch(e,t){const r=e.siblings,l=r.length,{index:h}=e;return t?r[(h+1)%l]:h===r.length-1?null:r[h+1]}function Fs(e,t,{loop:r=!1,includeDisabled:l=!1}={}){const h=t==="prev"?xh:Ch,y={reverse:t==="prev"};let b=!1,i=null;function o(n){if(n!==null){if(n===e){if(!b)b=!0;else if(!e.disabled&&!e.isGroup){i=e;return}}else if((!n.disabled||l)&&!n.ignored&&!n.isGroup){i=n;return}if(n.isGroup){const u=es(n,y);u!==null?i=u:o(h(n,r))}else{const u=h(n,!1);if(u!==null)o(u);else{const f=kh(n);f!=null&&f.isGroup?o(h(f,r)):r&&o(h(n,!0))}}}}return o(e),i}function xh(e,t){const r=e.siblings,l=r.length,{index:h}=e;return t?r[(h-1+l)%l]:h===0?null:r[h-1]}function kh(e){return e.parent}function es(e,t={}){const{reverse:r=!1}=t,{children:l}=e;if(l){const{length:h}=l,y=r?h-1:0,b=r?-1:h,i=r?-1:1;for(let o=y;o!==b;o+=i){const n=l[o];if(!n.disabled&&!n.ignored)if(n.isGroup){const u=es(n,t);if(u!==null)return u}else return n}}return null}const Eh={getChild(){return this.ignored?null:es(this)},getParent(){const{parent:e}=this;return e!=null&&e.isGroup?e.getParent():e},getNext(e={}){return Fs(this,"next",e)},getPrev(e={}){return Fs(this,"prev",e)}};function Rh(e,t){const r=t?new Set(t):void 0,l=[];function h(y){y.forEach(b=>{l.push(b),!(b.isLeaf||!b.children||b.ignored)&&(b.isGroup||r===void 0||r.has(b.key))&&h(b.children)})}return h(e),l}function Th(e,t){const r=e.key;for(;t;){if(t.key===r)return!0;t=t.parent}return!1}function ta(e,t,r,l,h,y=null,b=0){const i=[];return e.forEach((o,n)=>{var u;const f=Object.create(l);if(f.rawNode=o,f.siblings=i,f.level=b,f.index=n,f.isFirstChild=n===0,f.isLastChild=n+1===e.length,f.parent=y,!f.ignored){const _=h(o);Array.isArray(_)&&(f.children=ta(_,t,r,l,h,f,b+1))}i.push(f),t.set(f.key,f),r.has(b)||r.set(b,[]),(u=r.get(b))===null||u===void 0||u.push(f)}),i}function ra(e,t={}){var r;const l=new Map,h=new Map,{getDisabled:y=uh,getIgnored:b=ch,getIsGroup:i=vh,getKey:o=lh}=t,n=(r=t.getChildren)!==null&&r!==void 0?r:ah,u=t.ignoreEmptyChildren?m=>{const w=n(m);return Array.isArray(w)?w.length?w:null:w}:n,f=Object.assign({get key(){return o(this.rawNode)},get disabled(){return y(this.rawNode)},get isGroup(){return i(this.rawNode)},get isLeaf(){return oh(this.rawNode,u)},get shallowLoaded(){return dh(this.rawNode,u)},get ignored(){return b(this.rawNode)},contains(m){return Th(this,m)}},Eh),_=ta(e,l,h,f,u);function v(m){if(m==null)return null;const w=l.get(m);return w&&!w.isGroup&&!w.ignored?w:null}function g(m){if(m==null)return null;const w=l.get(m);return w&&!w.ignored?w:null}function p(m,w){const S=g(m);return S?S.getPrev(w):null}function s(m,w){const S=g(m);return S?S.getNext(w):null}function c(m){const w=g(m);return w?w.getParent():null}function a(m){const w=g(m);return w?w.getChild():null}const d={treeNodes:_,treeNodeMap:l,levelTreeNodeMap:h,maxLevel:Math.max(...h.keys()),getChildren:u,getFlattenedNodes(m){return Rh(_,m)},getNode:v,getPrev:p,getNext:s,getParent:c,getChild:a,getFirstAvailableNode(){return Sh(_)},getPath(m,w={}){return wh(m,w,d)},getCheckedKeys(m,w={}){const{cascade:S=!0,leafOnly:k=!1,checkStrategy:C="all",allowNotLoaded:E=!1}=w;return dn({checkedKeys:ln(m),indeterminateKeys:cn(m),cascade:S,leafOnly:k,checkStrategy:C,allowNotLoaded:E},d)},check(m,w,S={}){const{cascade:k=!0,leafOnly:C=!1,checkStrategy:E="all",allowNotLoaded:D=!1}=S;return dn({checkedKeys:ln(w),indeterminateKeys:cn(w),keysToCheck:m==null?[]:zs(m),cascade:k,leafOnly:C,checkStrategy:E,allowNotLoaded:D},d)},uncheck(m,w,S={}){const{cascade:k=!0,leafOnly:C=!1,checkStrategy:E="all",allowNotLoaded:D=!1}=S;return dn({checkedKeys:ln(w),indeterminateKeys:cn(w),keysToUncheck:m==null?[]:zs(m),cascade:k,leafOnly:C,checkStrategy:E,allowNotLoaded:D},d)},getNonLeafKeys(m={}){return sh(_,m)}};return d}const Lh=j("empty",`
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`,[H("icon",`
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `,[X("+",[H("description",`
 margin-top: 8px;
 `)])]),H("description",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),H("extra",`
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]),Ah=Object.assign(Object.assign({},We.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),Bh=ue({name:"Empty",props:Ah,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:r}=ot(e),l=We("Empty","-empty",Lh,Vl,e,t),{localeRef:h}=Un("Empty"),y=nt(Kl,null),b=ee(()=>{var u,f,_;return(u=e.description)!==null&&u!==void 0?u:(_=(f=y==null?void 0:y.mergedComponentPropsRef.value)===null||f===void 0?void 0:f.Empty)===null||_===void 0?void 0:_.description}),i=ee(()=>{var u,f;return((f=(u=y==null?void 0:y.mergedComponentPropsRef.value)===null||u===void 0?void 0:u.Empty)===null||f===void 0?void 0:f.renderIcon)||(()=>A(th,null))}),o=ee(()=>{const{size:u}=e,{common:{cubicBezierEaseInOut:f},self:{[ve("iconSize",u)]:_,[ve("fontSize",u)]:v,textColor:g,iconColor:p,extraTextColor:s}}=l.value;return{"--n-icon-size":_,"--n-font-size":v,"--n-bezier":f,"--n-text-color":g,"--n-icon-color":p,"--n-extra-text-color":s}}),n=r?gt("empty",ee(()=>{let u="";const{size:f}=e;return u+=f[0],u}),o,e):void 0;return{mergedClsPrefix:t,mergedRenderIcon:i,localizedDescription:ee(()=>b.value||h.value.description),cssVars:r?void 0:o,themeClass:n==null?void 0:n.themeClass,onRender:n==null?void 0:n.onRender}},render(){const{$slots:e,mergedClsPrefix:t,onRender:r}=this;return r==null||r(),A("div",{class:[`${t}-empty`,this.themeClass],style:this.cssVars},this.showIcon?A("div",{class:`${t}-empty__icon`},e.icon?e.icon():A(ir,{clsPrefix:t},{default:this.mergedRenderIcon})):null,this.showDescription?A("div",{class:`${t}-empty__description`},e.default?e.default():this.localizedDescription):null,e.extra?A("div",{class:`${t}-empty__extra`},e.extra()):null)}});function Dh(e,t){return A(Vr,{name:"fade-in-scale-up-transition"},{default:()=>e?A(ir,{clsPrefix:t,class:`${t}-base-select-option__check`},{default:()=>A(Zu)}):null})}const Hs=ue({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:t,pendingTmNodeRef:r,multipleRef:l,valueSetRef:h,renderLabelRef:y,renderOptionRef:b,labelFieldRef:i,valueFieldRef:o,showCheckmarkRef:n,nodePropsRef:u,handleOptionClick:f,handleOptionMouseEnter:_}=nt(jn),v=wt(()=>{const{value:c}=r;return c?e.tmNode.key===c.key:!1});function g(c){const{tmNode:a}=e;a.disabled||f(c,a)}function p(c){const{tmNode:a}=e;a.disabled||_(c,a)}function s(c){const{tmNode:a}=e,{value:d}=v;a.disabled||d||_(c,a)}return{multiple:l,isGrouped:wt(()=>{const{tmNode:c}=e,{parent:a}=c;return a&&a.rawNode.type==="group"}),showCheckmark:n,nodeProps:u,isPending:v,isSelected:wt(()=>{const{value:c}=t,{value:a}=l;if(c===null)return!1;const d=e.tmNode.rawNode[o.value];if(a){const{value:m}=h;return m.has(d)}else return c===d}),labelField:i,renderLabel:y,renderOption:b,handleMouseMove:s,handleMouseEnter:p,handleClick:g}},render(){const{clsPrefix:e,tmNode:{rawNode:t},isSelected:r,isPending:l,isGrouped:h,showCheckmark:y,nodeProps:b,renderOption:i,renderLabel:o,handleClick:n,handleMouseEnter:u,handleMouseMove:f}=this,_=Dh(r,e),v=o?[o(t,r),y&&_]:[mt(t[this.labelField],t,r),y&&_],g=b==null?void 0:b(t),p=A("div",Object.assign({},g,{class:[`${e}-base-select-option`,t.class,g==null?void 0:g.class,{[`${e}-base-select-option--disabled`]:t.disabled,[`${e}-base-select-option--selected`]:r,[`${e}-base-select-option--grouped`]:h,[`${e}-base-select-option--pending`]:l,[`${e}-base-select-option--show-checkmark`]:y}],style:[(g==null?void 0:g.style)||"",t.style||""],onClick:nn([n,g==null?void 0:g.onClick]),onMouseenter:nn([u,g==null?void 0:g.onMouseenter]),onMousemove:nn([f,g==null?void 0:g.onMousemove])}),A("div",{class:`${e}-base-select-option__content`},v));return t.render?t.render({node:p,option:t,selected:r}):i?i({node:p,option:t,selected:r}):p}}),Ns=ue({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:t,labelFieldRef:r,nodePropsRef:l}=nt(jn);return{labelField:r,nodeProps:l,renderLabel:e,renderOption:t}},render(){const{clsPrefix:e,renderLabel:t,renderOption:r,nodeProps:l,tmNode:{rawNode:h}}=this,y=l==null?void 0:l(h),b=t?t(h,!1):mt(h[this.labelField],h,!1),i=A("div",Object.assign({},y,{class:[`${e}-base-select-group-header`,y==null?void 0:y.class]}),b);return h.render?h.render({node:i,option:h}):r?r({node:i,option:h,selected:!1}):i}}),Oh=j("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[j("scrollbar",`
 max-height: var(--n-height);
 `),j("virtual-list",`
 max-height: var(--n-height);
 `),j("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[H("content",`
 z-index: 1;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),j("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),j("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),H("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),H("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),H("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),j("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),j("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[re("show-checkmark",`
 padding-right: calc(var(--n-option-padding-right) + 20px);
 `),X("&::before",`
 content: "";
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),X("&:active",`
 color: var(--n-option-text-color-pressed);
 `),re("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),re("pending",[X("&::before",`
 background-color: var(--n-option-color-pending);
 `)]),re("selected",`
 color: var(--n-option-text-color-active);
 `,[X("&::before",`
 background-color: var(--n-option-color-active);
 `),re("pending",[X("&::before",`
 background-color: var(--n-option-color-active-pending);
 `)])]),re("disabled",`
 cursor: not-allowed;
 `,[ct("selected",`
 color: var(--n-option-text-color-disabled);
 `),re("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),H("check",`
 font-size: 16px;
 position: absolute;
 right: calc(var(--n-option-padding-right) - 4px);
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[Fr({enterScale:"0.5"})])])]),Mh=ue({name:"InternalSelectMenu",props:Object.assign(Object.assign({},We.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(e){const t=We("InternalSelectMenu","-internal-select-menu",Oh,ql,e,Oe(e,"clsPrefix")),r=Y(null),l=Y(null),h=Y(null),y=ee(()=>e.treeMate.getFlattenedNodes()),b=ee(()=>gh(y.value)),i=Y(null);function o(){const{treeMate:F}=e;let W=null;const{value:G}=e;G===null?W=F.getFirstAvailableNode():(e.multiple?W=F.getNode((G||[])[(G||[]).length-1]):W=F.getNode(G),(!W||W.disabled)&&(W=F.getFirstAvailableNode())),P(W||null)}function n(){const{value:F}=i;F&&!e.treeMate.getNode(F.key)&&(i.value=null)}let u;qe(()=>e.show,F=>{F?u=qe(()=>e.treeMate,()=>{e.resetMenuOnOptionsChange?(e.autoPending?o():n(),bt(B)):n()},{immediate:!0}):u==null||u()},{immediate:!0}),Gt(()=>{u==null||u()});const f=ee(()=>Ft(t.value.self[ve("optionHeight",e.size)])),_=ee(()=>li(t.value.self[ve("padding",e.size)])),v=ee(()=>e.multiple&&Array.isArray(e.value)?new Set(e.value):new Set),g=ee(()=>{const F=y.value;return F&&F.length===0});function p(F){const{onToggle:W}=e;W&&W(F)}function s(F){const{onScroll:W}=e;W&&W(F)}function c(F){var W;(W=h.value)===null||W===void 0||W.sync(),s(F)}function a(){var F;(F=h.value)===null||F===void 0||F.sync()}function d(){const{value:F}=i;return F||null}function m(F,W){W.disabled||P(W,!1)}function w(F,W){W.disabled||p(W)}function S(F){var W;Nr(F,"action")||(W=e.onKeyup)===null||W===void 0||W.call(e,F)}function k(F){var W;Nr(F,"action")||(W=e.onKeydown)===null||W===void 0||W.call(e,F)}function C(F){var W;(W=e.onMousedown)===null||W===void 0||W.call(e,F),!e.focusable&&F.preventDefault()}function E(){const{value:F}=i;F&&P(F.getNext({loop:!0}),!0)}function D(){const{value:F}=i;F&&P(F.getPrev({loop:!0}),!0)}function P(F,W=!1){i.value=F,W&&B()}function B(){var F,W;const G=i.value;if(!G)return;const ie=b.value(G.key);ie!==null&&(e.virtualScroll?(F=l.value)===null||F===void 0||F.scrollTo({index:ie}):(W=h.value)===null||W===void 0||W.scrollTo({index:ie,elSize:f.value}))}function x(F){var W,G;!((W=r.value)===null||W===void 0)&&W.contains(F.target)&&((G=e.onFocus)===null||G===void 0||G.call(e,F))}function R(F){var W,G;!((W=r.value)===null||W===void 0)&&W.contains(F.relatedTarget)||(G=e.onBlur)===null||G===void 0||G.call(e,F)}at(jn,{handleOptionMouseEnter:m,handleOptionClick:w,valueSetRef:v,pendingTmNodeRef:i,nodePropsRef:Oe(e,"nodeProps"),showCheckmarkRef:Oe(e,"showCheckmark"),multipleRef:Oe(e,"multiple"),valueRef:Oe(e,"value"),renderLabelRef:Oe(e,"renderLabel"),renderOptionRef:Oe(e,"renderOption"),labelFieldRef:Oe(e,"labelField"),valueFieldRef:Oe(e,"valueField")}),at(Gl,r),Bt(()=>{const{value:F}=h;F&&F.sync()});const T=ee(()=>{const{size:F}=e,{common:{cubicBezierEaseInOut:W},self:{height:G,borderRadius:ie,color:L,groupHeaderTextColor:q,actionDividerColor:Q,optionTextColorPressed:I,optionTextColor:z,optionTextColorDisabled:se,optionTextColorActive:Z,optionOpacityDisabled:fe,optionCheckColor:le,actionTextColor:Le,optionColorPending:pe,optionColorActive:Pe,loadingColor:ce,loadingSize:_e,optionColorActivePending:ke,[ve("optionFontSize",F)]:Ae,[ve("optionHeight",F)]:Xe,[ve("optionPadding",F)]:Me}}=t.value;return{"--n-height":G,"--n-action-divider-color":Q,"--n-action-text-color":Le,"--n-bezier":W,"--n-border-radius":ie,"--n-color":L,"--n-option-font-size":Ae,"--n-group-header-text-color":q,"--n-option-check-color":le,"--n-option-color-pending":pe,"--n-option-color-active":Pe,"--n-option-color-active-pending":ke,"--n-option-height":Xe,"--n-option-opacity-disabled":fe,"--n-option-text-color":z,"--n-option-text-color-active":Z,"--n-option-text-color-disabled":se,"--n-option-text-color-pressed":I,"--n-option-padding":Me,"--n-option-padding-left":li(Me,"left"),"--n-option-padding-right":li(Me,"right"),"--n-loading-color":ce,"--n-loading-size":_e}}),{inlineThemeDisabled:O}=e,M=O?gt("internal-select-menu",ee(()=>e.size[0]),T,e):void 0,V={selfRef:r,next:E,prev:D,getPendingTmNode:d};return Qo(r,e.onResize),Object.assign({mergedTheme:t,virtualListRef:l,scrollbarRef:h,itemSize:f,padding:_,flattenedNodes:y,empty:g,virtualListContainer(){const{value:F}=l;return F==null?void 0:F.listElRef},virtualListContent(){const{value:F}=l;return F==null?void 0:F.itemsElRef},doScroll:s,handleFocusin:x,handleFocusout:R,handleKeyUp:S,handleKeyDown:k,handleMouseDown:C,handleVirtualListResize:a,handleVirtualListScroll:c,cssVars:O?void 0:T,themeClass:M==null?void 0:M.themeClass,onRender:M==null?void 0:M.onRender},V)},render(){const{$slots:e,virtualScroll:t,clsPrefix:r,mergedTheme:l,themeClass:h,onRender:y}=this;return y==null||y(),A("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${r}-base-select-menu`,h,this.multiple&&`${r}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},this.loading?A("div",{class:`${r}-base-select-menu__loading`},A(qi,{clsPrefix:r,strokeWidth:20})):this.empty?A("div",{class:`${r}-base-select-menu__empty`,"data-empty":!0},dr(e.empty,()=>[A(Bh,{theme:l.peers.Empty,themeOverrides:l.peerOverrides.Empty})])):A(Gi,{ref:"scrollbarRef",theme:l.peers.Scrollbar,themeOverrides:l.peerOverrides.Scrollbar,scrollable:this.scrollable,container:t?this.virtualListContainer:void 0,content:t?this.virtualListContent:void 0,onScroll:t?void 0:this.doScroll},{default:()=>t?A(Au,{ref:"virtualListRef",class:`${r}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:b})=>b.isGroup?A(Ns,{key:b.key,clsPrefix:r,tmNode:b}):b.ignored?null:A(Hs,{clsPrefix:r,key:b.key,tmNode:b})}):A("div",{class:`${r}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(b=>b.isGroup?A(Ns,{key:b.key,clsPrefix:r,tmNode:b}):A(Hs,{clsPrefix:r,key:b.key,tmNode:b})))}),Qe(e.action,b=>b&&[A("div",{class:`${r}-base-select-menu__action`,"data-action":!0,key:"action"},b),A(nh,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),Ph=j("base-wave",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
`),ia=ue({name:"BaseWave",props:{clsPrefix:{type:String,required:!0}},setup(e){Kr("-base-wave",Ph,Oe(e,"clsPrefix"));const t=Y(null),r=Y(!1);let l=null;return Gt(()=>{l!==null&&window.clearTimeout(l)}),{active:r,selfRef:t,play(){l!==null&&(window.clearTimeout(l),r.value=!1,l=null),bt(()=>{var h;(h=t.value)===null||h===void 0||h.offsetHeight,r.value=!0,l=window.setTimeout(()=>{r.value=!1,l=null},1e3)})}}},render(){const{clsPrefix:e}=this;return A("div",{ref:"selfRef","aria-hidden":!0,class:[`${e}-base-wave`,this.active&&`${e}-base-wave--active`]})}}),$h=j("base-clear",`
 flex-shrink: 0;
 height: 1em;
 width: 1em;
 position: relative;
`,[X(">",[H("clear",`
 font-size: var(--n-clear-size);
 height: 1em;
 width: 1em;
 cursor: pointer;
 color: var(--n-clear-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 `,[X("&:hover",`
 color: var(--n-clear-color-hover)!important;
 `),X("&:active",`
 color: var(--n-clear-color-pressed)!important;
 `)]),H("placeholder",`
 display: flex;
 `),H("clear, placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Pi({originalTransform:"translateX(-50%) translateY(-50%)",left:"50%",top:"50%"})])])]),Ln=ue({name:"BaseClear",props:{clsPrefix:{type:String,required:!0},show:Boolean,onClear:Function},setup(e){return Kr("-base-clear",$h,Oe(e,"clsPrefix")),{handleMouseDown(t){t.preventDefault()}}},render(){const{clsPrefix:e}=this;return A("div",{class:`${e}-base-clear`},A(Vn,null,{default:()=>{var t,r;return this.show?A("div",{key:"dismiss",class:`${e}-base-clear__clear`,onClick:this.onClear,onMousedown:this.handleMouseDown,"data-clear":!0},dr(this.$slots.icon,()=>[A(ir,{clsPrefix:e},{default:()=>A(ih,null)})])):A("div",{key:"icon",class:`${e}-base-clear__placeholder`},(r=(t=this.$slots).placeholder)===null||r===void 0?void 0:r.call(t))}}))}}),na=ue({name:"InternalSelectionSuffix",props:{clsPrefix:{type:String,required:!0},showArrow:{type:Boolean,default:void 0},showClear:{type:Boolean,default:void 0},loading:{type:Boolean,default:!1},onClear:Function},setup(e,{slots:t}){return()=>{const{clsPrefix:r}=e;return A(qi,{clsPrefix:r,class:`${r}-base-suffix`,strokeWidth:24,scale:.85,show:e.loading},{default:()=>e.showArrow?A(Ln,{clsPrefix:r,show:e.showClear,onClear:e.onClear},{placeholder:()=>A(ir,{clsPrefix:r,class:`${r}-base-suffix__arrow`},{default:()=>dr(t.default,()=>[A(rh,null)])})}):null})}}}),Ih=X([j("base-selection",`
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[j("base-loading",`
 color: var(--n-loading-color);
 `),j("base-selection-tags","min-height: var(--n-height);"),H("border, state-border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),H("state-border",`
 z-index: 1;
 border-color: #0000;
 `),j("base-suffix",`
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `,[H("arrow",`
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]),j("base-selection-overlay",`
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `,[H("wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),j("base-selection-placeholder",`
 color: var(--n-placeholder-color);
 `,[H("inner",`
 max-width: 100%;
 overflow: hidden;
 `)]),j("base-selection-tags",`
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),j("base-selection-label",`
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `,[j("base-selection-input",`
 font-size: inherit;
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `,[H("content",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]),H("render-label",`
 color: var(--n-text-color);
 `)]),ct("disabled",[X("&:hover",[H("state-border",`
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]),re("focus",[H("state-border",`
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]),re("active",[H("state-border",`
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `),j("base-selection-label","background-color: var(--n-color-active);"),j("base-selection-tags","background-color: var(--n-color-active);")])]),re("disabled","cursor: not-allowed;",[H("arrow",`
 color: var(--n-arrow-color-disabled);
 `),j("base-selection-label",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[j("base-selection-input",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `),H("render-label",`
 color: var(--n-text-color-disabled);
 `)]),j("base-selection-tags",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `),j("base-selection-placeholder",`
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]),j("base-selection-input-tag",`
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `,[H("input",`
 font-size: inherit;
 font-family: inherit;
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `),H("mirror",`
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 -webkit-user-select: none;
 opacity: 0;
 `)]),["warning","error"].map(e=>re(`${e}-status`,[H("state-border",`border: var(--n-border-${e});`),ct("disabled",[X("&:hover",[H("state-border",`
 box-shadow: var(--n-box-shadow-hover-${e});
 border: var(--n-border-hover-${e});
 `)]),re("active",[H("state-border",`
 box-shadow: var(--n-box-shadow-active-${e});
 border: var(--n-border-active-${e});
 `),j("base-selection-label",`background-color: var(--n-color-active-${e});`),j("base-selection-tags",`background-color: var(--n-color-active-${e});`)]),re("focus",[H("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)])])]))]),j("base-selection-popover",`
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 margin-right: -8px;
 `),j("base-selection-tag-wrapper",`
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `,[X("&:last-child","padding-right: 0;"),j("tag",`
 font-size: 14px;
 max-width: 100%;
 `,[H("content",`
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]),zh=ue({name:"InternalSelection",props:Object.assign(Object.assign({},We.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,onResize:Function}),setup(e){const t=Y(null),r=Y(null),l=Y(null),h=Y(null),y=Y(null),b=Y(null),i=Y(null),o=Y(null),n=Y(null),u=Y(null),f=Y(!1),_=Y(!1),v=Y(!1),g=We("InternalSelection","-internal-selection",Ih,Yl,e,Oe(e,"clsPrefix")),p=ee(()=>e.clearable&&!e.disabled&&(v.value||e.active)),s=ee(()=>e.selectedOption?e.renderTag?e.renderTag({option:e.selectedOption,handleClose:()=>{}}):e.renderLabel?e.renderLabel(e.selectedOption,!0):mt(e.selectedOption[e.labelField],e.selectedOption,!0):e.placeholder),c=ee(()=>{const ae=e.selectedOption;if(!!ae)return ae[e.labelField]}),a=ee(()=>e.multiple?!!(Array.isArray(e.selectedOptions)&&e.selectedOptions.length):e.selectedOption!==null);function d(){var ae;const{value:ge}=t;if(ge){const{value:je}=r;je&&(je.style.width=`${ge.offsetWidth}px`,e.maxTagCount!=="responsive"&&((ae=n.value)===null||ae===void 0||ae.sync()))}}function m(){const{value:ae}=u;ae&&(ae.style.display="none")}function w(){const{value:ae}=u;ae&&(ae.style.display="inline-block")}qe(Oe(e,"active"),ae=>{ae||m()}),qe(Oe(e,"pattern"),()=>{e.multiple&&bt(d)});function S(ae){const{onFocus:ge}=e;ge&&ge(ae)}function k(ae){const{onBlur:ge}=e;ge&&ge(ae)}function C(ae){const{onDeleteOption:ge}=e;ge&&ge(ae)}function E(ae){const{onClear:ge}=e;ge&&ge(ae)}function D(ae){const{onPatternInput:ge}=e;ge&&ge(ae)}function P(ae){var ge;(!ae.relatedTarget||!(!((ge=l.value)===null||ge===void 0)&&ge.contains(ae.relatedTarget)))&&S(ae)}function B(ae){var ge;!((ge=l.value)===null||ge===void 0)&&ge.contains(ae.relatedTarget)||k(ae)}function x(ae){E(ae)}function R(){v.value=!0}function T(){v.value=!1}function O(ae){!e.active||!e.filterable||ae.target!==r.value&&ae.preventDefault()}function M(ae){C(ae)}function V(ae){if(ae.key==="Backspace"&&!F.value&&!e.pattern.length){const{selectedOptions:ge}=e;ge!=null&&ge.length&&M(ge[ge.length-1])}}const F=Y(!1);let W=null;function G(ae){const{value:ge}=t;if(ge){const je=ae.target.value;ge.textContent=je,d()}F.value?W=ae:D(ae)}function ie(){F.value=!0}function L(){F.value=!1,D(W),W=null}function q(ae){var ge;_.value=!0,(ge=e.onPatternFocus)===null||ge===void 0||ge.call(e,ae)}function Q(ae){var ge;_.value=!1,(ge=e.onPatternBlur)===null||ge===void 0||ge.call(e,ae)}function I(){var ae,ge;if(e.filterable)_.value=!1,(ae=b.value)===null||ae===void 0||ae.blur(),(ge=r.value)===null||ge===void 0||ge.blur();else if(e.multiple){const{value:je}=h;je==null||je.blur()}else{const{value:je}=y;je==null||je.blur()}}function z(){var ae,ge,je;e.filterable?(_.value=!1,(ae=b.value)===null||ae===void 0||ae.focus()):e.multiple?(ge=h.value)===null||ge===void 0||ge.focus():(je=y.value)===null||je===void 0||je.focus()}function se(){const{value:ae}=r;ae&&(w(),ae.focus())}function Z(){const{value:ae}=r;ae&&ae.blur()}function fe(ae){const{value:ge}=i;ge&&ge.setTextContent(`+${ae}`)}function le(){const{value:ae}=o;return ae}function Le(){return r.value}let pe=null;function Pe(){pe!==null&&window.clearTimeout(pe)}function ce(){e.disabled||e.active||(Pe(),pe=window.setTimeout(()=>{f.value=!0},100))}function _e(){Pe()}function ke(ae){ae||(Pe(),f.value=!1)}Bt(()=>{$i(()=>{const ae=b.value;!ae||(ae.tabIndex=e.disabled||_.value?-1:0)})}),Qo(l,e.onResize);const{inlineThemeDisabled:Ae}=e,Xe=ee(()=>{const{size:ae}=e,{common:{cubicBezierEaseInOut:ge},self:{borderRadius:je,color:ut,placeholderColor:Zt,textColor:Jt,paddingSingle:Qt,paddingMultiple:Ht,caretColor:Nt,colorDisabled:Dt,textColorDisabled:Ot,placeholderColorDisabled:yt,colorActive:Mt,boxShadowFocus:Pt,boxShadowActive:st,boxShadowHover:te,border:me,borderFocus:Se,borderHover:ze,borderActive:Fe,arrowColor:He,arrowColorDisabled:$e,loadingColor:Ze,colorActiveWarning:$t,boxShadowFocusWarning:sr,boxShadowActiveWarning:Wt,boxShadowHoverWarning:er,borderWarning:Yr,borderFocusWarning:Rt,borderHoverWarning:pr,borderActiveWarning:Ut,colorActiveError:U,boxShadowFocusError:oe,boxShadowActiveError:Ee,boxShadowHoverError:Ve,borderError:tt,borderFocusError:rt,borderHoverError:It,borderActiveError:zt,clearColor:jt,clearColorHover:Ce,clearColorPressed:N,clearSize:de,arrowSize:be,[ve("height",ae)]:Ue,[ve("fontSize",ae)]:ht}}=g.value;return{"--n-bezier":ge,"--n-border":me,"--n-border-active":Fe,"--n-border-focus":Se,"--n-border-hover":ze,"--n-border-radius":je,"--n-box-shadow-active":st,"--n-box-shadow-focus":Pt,"--n-box-shadow-hover":te,"--n-caret-color":Nt,"--n-color":ut,"--n-color-active":Mt,"--n-color-disabled":Dt,"--n-font-size":ht,"--n-height":Ue,"--n-padding-single":Qt,"--n-padding-multiple":Ht,"--n-placeholder-color":Zt,"--n-placeholder-color-disabled":yt,"--n-text-color":Jt,"--n-text-color-disabled":Ot,"--n-arrow-color":He,"--n-arrow-color-disabled":$e,"--n-loading-color":Ze,"--n-color-active-warning":$t,"--n-box-shadow-focus-warning":sr,"--n-box-shadow-active-warning":Wt,"--n-box-shadow-hover-warning":er,"--n-border-warning":Yr,"--n-border-focus-warning":Rt,"--n-border-hover-warning":pr,"--n-border-active-warning":Ut,"--n-color-active-error":U,"--n-box-shadow-focus-error":oe,"--n-box-shadow-active-error":Ee,"--n-box-shadow-hover-error":Ve,"--n-border-error":tt,"--n-border-focus-error":rt,"--n-border-hover-error":It,"--n-border-active-error":zt,"--n-clear-size":de,"--n-clear-color":jt,"--n-clear-color-hover":Ce,"--n-clear-color-pressed":N,"--n-arrow-size":be}}),Me=Ae?gt("internal-selection",ee(()=>e.size[0]),Xe,e):void 0;return{mergedTheme:g,mergedClearable:p,patternInputFocused:_,filterablePlaceholder:s,label:c,selected:a,showTagsPanel:f,isCompositing:F,counterRef:i,counterWrapperRef:o,patternInputMirrorRef:t,patternInputRef:r,selfRef:l,multipleElRef:h,singleElRef:y,patternInputWrapperRef:b,overflowRef:n,inputTagElRef:u,handleMouseDown:O,handleFocusin:P,handleClear:x,handleMouseEnter:R,handleMouseLeave:T,handleDeleteOption:M,handlePatternKeyDown:V,handlePatternInputInput:G,handlePatternInputBlur:Q,handlePatternInputFocus:q,handleMouseEnterCounter:ce,handleMouseLeaveCounter:_e,handleFocusout:B,handleCompositionEnd:L,handleCompositionStart:ie,onPopoverUpdateShow:ke,focus:z,focusInput:se,blur:I,blurInput:Z,updateCounter:fe,getCounter:le,getTail:Le,renderLabel:e.renderLabel,cssVars:Ae?void 0:Xe,themeClass:Me==null?void 0:Me.themeClass,onRender:Me==null?void 0:Me.onRender}},render(){const{status:e,multiple:t,size:r,disabled:l,filterable:h,maxTagCount:y,bordered:b,clsPrefix:i,onRender:o,renderTag:n,renderLabel:u}=this;o==null||o();const f=y==="responsive",_=typeof y=="number",v=f||_,g=A(Xl,null,{default:()=>A(na,{clsPrefix:i,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var s,c;return(c=(s=this.$slots).arrow)===null||c===void 0?void 0:c.call(s)}})});let p;if(t){const{labelField:s}=this,c=B=>A("div",{class:`${i}-base-selection-tag-wrapper`,key:B.value},n?n({option:B,handleClose:()=>this.handleDeleteOption(B)}):A(ci,{size:r,closable:!B.disabled,disabled:l,onClose:()=>this.handleDeleteOption(B),internalCloseFocusable:!1},{default:()=>u?u(B,!0):mt(B[s],B,!0)})),a=(_?this.selectedOptions.slice(0,y):this.selectedOptions).map(c),d=h?A("div",{class:`${i}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},A("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:l,value:this.pattern,autofocus:this.autofocus,class:`${i}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),A("span",{ref:"patternInputMirrorRef",class:`${i}-base-selection-input-tag__mirror`},this.pattern)):null,m=f?()=>A("div",{class:`${i}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},A(ci,{size:r,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:l})):void 0;let w;if(_){const B=this.selectedOptions.length-y;B>0&&(w=A("div",{class:`${i}-base-selection-tag-wrapper`,key:"__counter__"},A(ci,{size:r,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:l},{default:()=>`+${B}`})))}const S=f?h?A(Rs,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:()=>a,counter:m,tail:()=>d}):A(Rs,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:()=>a,counter:m}):_?a.concat(w):a,k=v?()=>A("div",{class:`${i}-base-selection-popover`},f?a:this.selectedOptions.map(c)):void 0,C=v?{show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover}:null,D=(this.selected?!1:this.active?!this.pattern&&!this.isCompositing:!0)?A("div",{class:`${i}-base-selection-placeholder ${i}-base-selection-overlay`},A("div",{class:`${i}-base-selection-placeholder__inner`},this.placeholder)):null,P=h?A("div",{ref:"patternInputWrapperRef",class:`${i}-base-selection-tags`},S,f?null:d,g):A("div",{ref:"multipleElRef",class:`${i}-base-selection-tags`,tabindex:l?void 0:0},S,g);p=A(et,null,v?A(Er,Object.assign({},C,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>P,default:k}):P,D)}else if(h){const s=this.pattern||this.isCompositing,c=this.active?!s:!this.selected,a=this.active?!1:this.selected;p=A("div",{ref:"patternInputWrapperRef",class:`${i}-base-selection-label`},A("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${i}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:l,disabled:l,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),a?A("div",{class:`${i}-base-selection-label__render-label ${i}-base-selection-overlay`,key:"input"},A("div",{class:`${i}-base-selection-overlay__wrapper`},n?n({option:this.selectedOption,handleClose:()=>{}}):u?u(this.selectedOption,!0):mt(this.label,this.selectedOption,!0))):null,c?A("div",{class:`${i}-base-selection-placeholder ${i}-base-selection-overlay`,key:"placeholder"},A("div",{class:`${i}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,g)}else p=A("div",{ref:"singleElRef",class:`${i}-base-selection-label`,tabindex:this.disabled?void 0:0},this.label!==void 0?A("div",{class:`${i}-base-selection-input`,title:Zo(this.label),key:"input"},A("div",{class:`${i}-base-selection-input__content`},n?n({option:this.selectedOption,handleClose:()=>{}}):u?u(this.selectedOption,!0):mt(this.label,this.selectedOption,!0))):A("div",{class:`${i}-base-selection-placeholder ${i}-base-selection-overlay`,key:"placeholder"},A("div",{class:`${i}-base-selection-placeholder__inner`},this.placeholder)),g);return A("div",{ref:"selfRef",class:[`${i}-base-selection`,this.themeClass,e&&`${i}-base-selection--${e}-status`,{[`${i}-base-selection--active`]:this.active,[`${i}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${i}-base-selection--disabled`]:this.disabled,[`${i}-base-selection--multiple`]:this.multiple,[`${i}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},p,b?A("div",{class:`${i}-base-selection__border`}):null,b?A("div",{class:`${i}-base-selection__state-border`}):null)}}),Ws=ue({name:"SlotMachineNumber",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],required:!0},oldOriginalNumber:{type:Number,default:void 0},newOriginalNumber:{type:Number,default:void 0}},setup(e){const t=Y(null),r=Y(e.value),l=Y(e.value),h=Y("up"),y=Y(!1),b=ee(()=>y.value?`${e.clsPrefix}-base-slot-machine-current-number--${h.value}-scroll`:null),i=ee(()=>y.value?`${e.clsPrefix}-base-slot-machine-old-number--${h.value}-scroll`:null);qe(Oe(e,"value"),(u,f)=>{r.value=f,l.value=u,bt(o)});function o(){const u=e.newOriginalNumber,f=e.oldOriginalNumber;f===void 0||u===void 0||(u>f?n("up"):f>u&&n("down"))}function n(u){h.value=u,y.value=!1,bt(()=>{var f;(f=t.value)===null||f===void 0||f.offsetWidth,y.value=!0})}return()=>{const{clsPrefix:u}=e;return A("span",{ref:t,class:`${u}-base-slot-machine-number`},r.value!==null?A("span",{class:[`${u}-base-slot-machine-old-number ${u}-base-slot-machine-old-number--top`,i.value]},r.value):null,A("span",{class:[`${u}-base-slot-machine-current-number`,b.value]},A("span",{ref:"numberWrapper",class:[`${u}-base-slot-machine-current-number__inner`,typeof e.value!="number"&&`${u}-base-slot-machine-current-number__inner--not-number`]},l.value)),r.value!==null?A("span",{class:[`${u}-base-slot-machine-old-number ${u}-base-slot-machine-old-number--bottom`,i.value]},r.value):null)}}}),{cubicBezierEaseInOut:vr}=To;function sa({duration:e=".2s",delay:t=".1s"}={}){return[X("&.fade-in-width-expand-transition-leave-from, &.fade-in-width-expand-transition-enter-to",{opacity:1}),X("&.fade-in-width-expand-transition-leave-to, &.fade-in-width-expand-transition-enter-from",`
 opacity: 0!important;
 margin-left: 0!important;
 margin-right: 0!important;
 `),X("&.fade-in-width-expand-transition-leave-active",`
 overflow: hidden;
 transition:
 opacity ${e} ${vr},
 max-width ${e} ${vr} ${t},
 margin-left ${e} ${vr} ${t},
 margin-right ${e} ${vr} ${t};
 `),X("&.fade-in-width-expand-transition-enter-active",`
 overflow: hidden;
 transition:
 opacity ${e} ${vr} ${t},
 max-width ${e} ${vr},
 margin-left ${e} ${vr},
 margin-right ${e} ${vr};
 `)]}const{cubicBezierEaseOut:Dr}=To;function Fh({duration:e=".2s"}={}){return[X("&.fade-up-width-expand-transition-leave-active",{transition:`
 opacity ${e} ${Dr},
 max-width ${e} ${Dr},
 transform ${e} ${Dr}
 `}),X("&.fade-up-width-expand-transition-enter-active",{transition:`
 opacity ${e} ${Dr},
 max-width ${e} ${Dr},
 transform ${e} ${Dr}
 `}),X("&.fade-up-width-expand-transition-enter-to",{opacity:1,transform:"translateX(0) translateY(0)"}),X("&.fade-up-width-expand-transition-enter-from",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"}),X("&.fade-up-width-expand-transition-leave-from",{opacity:1,transform:"translateY(0)"}),X("&.fade-up-width-expand-transition-leave-to",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"})]}const Hh=X([X("@keyframes n-base-slot-machine-fade-up-in",`
 from {
 transform: translateY(60%);
 opacity: 0;
 }
 to {
 transform: translateY(0);
 opacity: 1;
 }
 `),X("@keyframes n-base-slot-machine-fade-down-in",`
 from {
 transform: translateY(-60%);
 opacity: 0;
 }
 to {
 transform: translateY(0);
 opacity: 1;
 }
 `),X("@keyframes n-base-slot-machine-fade-up-out",`
 from {
 transform: translateY(0%);
 opacity: 1;
 }
 to {
 transform: translateY(-60%);
 opacity: 0;
 }
 `),X("@keyframes n-base-slot-machine-fade-down-out",`
 from {
 transform: translateY(0%);
 opacity: 1;
 }
 to {
 transform: translateY(60%);
 opacity: 0;
 }
 `),j("base-slot-machine",`
 overflow: hidden;
 white-space: nowrap;
 display: inline-block;
 height: 18px;
 line-height: 18px;
 `,[j("base-slot-machine-number",`
 display: inline-block;
 position: relative;
 height: 18px;
 width: .6em;
 max-width: .6em;
 `,[Fh({duration:".2s"}),sa({duration:".2s",delay:"0s"}),j("base-slot-machine-old-number",`
 display: inline-block;
 opacity: 0;
 position: absolute;
 left: 0;
 right: 0;
 `,[re("top",{transform:"translateY(-100%)"}),re("bottom",{transform:"translateY(100%)"}),re("down-scroll",{animation:"n-base-slot-machine-fade-down-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),re("up-scroll",{animation:"n-base-slot-machine-fade-up-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1})]),j("base-slot-machine-current-number",`
 display: inline-block;
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 1;
 transform: translateY(0);
 width: .6em;
 `,[re("down-scroll",{animation:"n-base-slot-machine-fade-down-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),re("up-scroll",{animation:"n-base-slot-machine-fade-up-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),H("inner",`
 display: inline-block;
 position: absolute;
 right: 0;
 top: 0;
 width: .6em;
 `,[re("not-number",`
 right: unset;
 left: 0;
 `)])])])])]),Nh=ue({name:"BaseSlotMachine",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],default:0},max:{type:Number,default:void 0},appeared:{type:Boolean,required:!0}},setup(e){Kr("-base-slot-machine",Hh,Oe(e,"clsPrefix"));const t=Y(),r=Y(),l=ee(()=>{if(typeof e.value=="string")return[];if(e.value<1)return[0];const h=[];let y=e.value;for(e.max!==void 0&&(y=Math.min(e.max,y));y>=1;)h.push(y%10),y/=10,y=Math.floor(y);return h.reverse(),h});return qe(Oe(e,"value"),(h,y)=>{typeof h=="string"?(r.value=void 0,t.value=void 0):typeof y=="string"?(r.value=h,t.value=void 0):(r.value=h,t.value=y)}),()=>{const{value:h,clsPrefix:y}=e;return typeof h=="number"?A("span",{class:`${y}-base-slot-machine`},A(Lo,{name:"fade-up-width-expand-transition",tag:"span"},{default:()=>l.value.map((b,i)=>A(Ws,{clsPrefix:y,key:l.value.length-i-1,oldOriginalNumber:t.value,newOriginalNumber:r.value,value:b}))}),A(Kn,{key:"+",width:!0},{default:()=>e.max!==void 0&&e.max<h?A(Ws,{clsPrefix:y,value:"+"}):null})):A("span",{class:`${y}-base-slot-machine`},h)}}});function Ni(e){return e.type==="group"}function oa(e){return e.type==="ignored"}function un(e,t){try{return!!(1+t.toString().toLowerCase().indexOf(e.trim().toLowerCase()))}catch{return!1}}function Wh(e,t){return{getIsGroup:Ni,getIgnored:oa,getKey(l){return Ni(l)?l.name||l.key||"key-required":l[e]},getChildren(l){return l[t]}}}function Uh(e,t,r,l){if(!t)return e;function h(y){if(!Array.isArray(y))return[];const b=[];for(const i of y)if(Ni(i)){const o=h(i[l]);o.length&&b.push(Object.assign({},i,{[l]:o}))}else{if(oa(i))continue;t(r,i)&&b.push(i)}return b}return h(e)}function jh(e,t,r){const l=new Map;return e.forEach(h=>{Ni(h)?h[r].forEach(y=>{l.set(y[t],y)}):l.set(h[t],h)}),l}const Vh=jr&&"chrome"in window;jr&&navigator.userAgent.includes("Firefox");const aa=jr&&navigator.userAgent.includes("Safari")&&!Vh,la=Yt("n-input");function Kh(e){let t=0;for(const r of e)t++;return t}function yi(e){return e===""||e==null}function qh(e){const t=Y(null);function r(){const{value:y}=e;if(!(y!=null&&y.focus)){h();return}const{selectionStart:b,selectionEnd:i,value:o}=y;if(b==null||i==null){h();return}t.value={start:b,end:i,beforeText:o.slice(0,b),afterText:o.slice(i)}}function l(){var y;const{value:b}=t,{value:i}=e;if(!b||!i)return;const{value:o}=i,{start:n,beforeText:u,afterText:f}=b;let _=o.length;if(o.endsWith(f))_=o.length-f.length;else if(o.startsWith(u))_=u.length;else{const v=u[n-1],g=o.indexOf(v,n-1);g!==-1&&(_=g+1)}(y=i.setSelectionRange)===null||y===void 0||y.call(i,_,_)}function h(){t.value=null}return qe(e,h),{recordCursor:r,restoreCursor:l}}const Us=ue({name:"InputWordCount",setup(e,{slots:t}){const{mergedValueRef:r,maxlengthRef:l,mergedClsPrefixRef:h}=nt(la),y=ee(()=>{const{value:b}=r;return b===null||Array.isArray(b)?0:Kh(b)});return()=>{const{value:b}=l,{value:i}=r;return A("span",{class:`${h.value}-input-word-count`},Zl(t.default,{value:i===null||Array.isArray(i)?"":i},()=>[b===void 0?y.value:`${y.value} / ${b}`]))}}}),Gh=j("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);
`,[H("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),H("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 -webkit-text-fill-color .3s var(--n-bezier),
 caret-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 `),H("input-el, textarea-el",`
 -webkit-appearance: none;
 scrollbar-width: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--n-text-decoration-color);
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 background-color: transparent;
 `,[X("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),X("&::placeholder",`
 color: #0000;
 -webkit-text-fill-color: transparent !important;
 `),X("&:-webkit-autofill ~",[H("placeholder","display: none;")])]),re("round",[ct("textarea","border-radius: calc(var(--n-height) / 2);")]),H("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--n-placeholder-color);
 `,[X("span",`
 width: 100%;
 display: inline-block;
 `)]),re("textarea",[H("placeholder","overflow: visible;")]),ct("autosize","width: 100%;"),re("autosize",[H("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),j("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 `),H("input-mirror",`
 padding: 0;
 height: var(--n-height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: nowrap;
 pointer-events: none;
 `),H("input-el",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[X("+",[H("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),ct("textarea",[H("placeholder","white-space: nowrap;")]),H("eye",`
 transition: color .3s var(--n-bezier);
 `),re("textarea","width: 100%;",[j("input-word-count",`
 position: absolute;
 right: var(--n-padding-right);
 bottom: var(--n-padding-vertical);
 `),re("resizable",[j("input-wrapper",`
 resize: vertical;
 min-height: var(--n-height);
 `)]),H("textarea-el, textarea-mirror, placeholder",`
 height: 100%;
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--n-padding-vertical);
 padding-bottom: var(--n-padding-vertical);
 word-break: break-word;
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--n-line-height-textarea);
 margin: 0;
 resize: none;
 white-space: pre-wrap;
 `),H("textarea-mirror",`
 width: 100%;
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),re("pair",[H("input-el, placeholder","text-align: center;"),H("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 white-space: nowrap;
 `,[j("icon",`
 color: var(--n-icon-color);
 `),j("base-icon",`
 color: var(--n-icon-color);
 `)])]),re("disabled",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[H("border","border: var(--n-border-disabled);"),H("input-el, textarea-el",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 text-decoration-color: var(--n-text-color-disabled);
 `),H("placeholder","color: var(--n-placeholder-color-disabled);"),H("separator","color: var(--n-text-color-disabled);",[j("icon",`
 color: var(--n-icon-color-disabled);
 `),j("base-icon",`
 color: var(--n-icon-color-disabled);
 `)]),j("input-word-count",`
 color: var(--n-count-text-color-disabled);
 `),H("suffix, prefix","color: var(--n-text-color-disabled);",[j("icon",`
 color: var(--n-icon-color-disabled);
 `),j("internal-icon",`
 color: var(--n-icon-color-disabled);
 `)])]),ct("disabled",[H("eye",`
 display: flex;
 align-items: center;
 justify-content: center;
 color: var(--n-icon-color);
 cursor: pointer;
 `,[X("&:hover",`
 color: var(--n-icon-color-hover);
 `),X("&:active",`
 color: var(--n-icon-color-pressed);
 `)]),X("&:hover",[H("state-border","border: var(--n-border-hover);")]),re("focus","background-color: var(--n-color-focus);",[H("state-border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),H("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--n-border);
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),H("state-border",`
 border-color: #0000;
 z-index: 1;
 `),H("prefix","margin-right: 4px;"),H("suffix",`
 margin-left: 4px;
 `),H("suffix, prefix",`
 transition: color .3s var(--n-bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--n-height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-suffix-text-color);
 `,[j("base-loading",`
 font-size: var(--n-icon-size);
 margin: 0 2px;
 color: var(--n-loading-color);
 `),j("base-clear",`
 font-size: var(--n-icon-size);
 `,[H("placeholder",[j("base-icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)])]),X(">",[j("icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),j("base-icon",`
 font-size: var(--n-icon-size);
 `)]),j("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--n-count-text-color);
 transition: color .3s var(--n-bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `),["warning","error"].map(e=>re(`${e}-status`,[ct("disabled",[j("base-loading",`
 color: var(--n-loading-color-${e})
 `),H("input-el, textarea-el",`
 caret-color: var(--n-caret-color-${e});
 `),H("state-border",`
 border: var(--n-border-${e});
 `),X("&:hover",[H("state-border",`
 border: var(--n-border-hover-${e});
 `)]),X("&:focus",`
 background-color: var(--n-color-focus-${e});
 `,[H("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)]),re("focus",`
 background-color: var(--n-color-focus-${e});
 `,[H("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)])])]))]),Yh=j("input",[re("disabled",[H("input-el, textarea-el",`
 -webkit-text-fill-color: var(--n-text-color-disabled);
 `)])]),Xh=Object.assign(Object.assign({},We.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},allowInput:Function,renderCount:Function,onMousedown:Function,onKeydown:Function,onKeyup:Function,onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:Boolean,showPasswordToggle:Boolean}),Zi=ue({name:"Input",props:Xh,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:r,inlineThemeDisabled:l,mergedRtlRef:h}=ot(e),y=We("Input","-input",Gh,Bo,e,t);aa&&Kr("-input-safari",Yh,t);const b=Y(null),i=Y(null),o=Y(null),n=Y(null),u=Y(null),f=Y(null),_=Y(null),v=qh(_),g=Y(null),{localeRef:p}=Un("Input"),s=Y(e.defaultValue),c=Oe(e,"value"),a=yr(c,s),d=Xi(e),{mergedSizeRef:m,mergedDisabledRef:w,mergedStatusRef:S}=d,k=Y(!1),C=Y(!1),E=Y(!1),D=Y(!1);let P=null;const B=ee(()=>{const{placeholder:U,pair:oe}=e;return oe?Array.isArray(U)?U:U===void 0?["",""]:[U,U]:U===void 0?[p.value.placeholder]:[U]}),x=ee(()=>{const{value:U}=E,{value:oe}=a,{value:Ee}=B;return!U&&(yi(oe)||Array.isArray(oe)&&yi(oe[0]))&&Ee[0]}),R=ee(()=>{const{value:U}=E,{value:oe}=a,{value:Ee}=B;return!U&&Ee[1]&&(yi(oe)||Array.isArray(oe)&&yi(oe[1]))}),T=wt(()=>e.internalForceFocus||k.value),O=wt(()=>{if(w.value||e.readonly||!e.clearable||!T.value&&!C.value)return!1;const{value:U}=a,{value:oe}=T;return e.pair?!!(Array.isArray(U)&&(U[0]||U[1]))&&(C.value||oe):!!U&&(C.value||oe)}),M=ee(()=>{const{showPasswordOn:U}=e;if(U)return U;if(e.showPasswordToggle)return"click"}),V=Y(!1),F=ee(()=>{const{textDecoration:U}=e;return U?Array.isArray(U)?U.map(oe=>({textDecoration:oe})):[{textDecoration:U}]:["",""]}),W=Y(void 0),G=()=>{var U,oe;if(e.type==="textarea"){const{autosize:Ee}=e;if(Ee&&(W.value=(oe=(U=g.value)===null||U===void 0?void 0:U.$el)===null||oe===void 0?void 0:oe.offsetWidth),!i.value||typeof Ee=="boolean")return;const{paddingTop:Ve,paddingBottom:tt,lineHeight:rt}=window.getComputedStyle(i.value),It=Number(Ve.slice(0,-2)),zt=Number(tt.slice(0,-2)),jt=Number(rt.slice(0,-2)),{value:Ce}=o;if(!Ce)return;if(Ee.minRows){const N=Math.max(Ee.minRows,1),de=`${It+zt+jt*N}px`;Ce.style.minHeight=de}if(Ee.maxRows){const N=`${It+zt+jt*Ee.maxRows}px`;Ce.style.maxHeight=N}}},ie=ee(()=>{const{maxlength:U}=e;return U===void 0?void 0:Number(U)});Bt(()=>{const{value:U}=a;Array.isArray(U)||$e(U)});const L=Ao().proxy;function q(U){const{onUpdateValue:oe,"onUpdate:value":Ee,onInput:Ve}=e,{nTriggerFormInput:tt}=d;oe&&Be(oe,U),Ee&&Be(Ee,U),Ve&&Be(Ve,U),s.value=U,tt()}function Q(U){const{onChange:oe}=e,{nTriggerFormChange:Ee}=d;oe&&Be(oe,U),s.value=U,Ee()}function I(U){const{onBlur:oe}=e,{nTriggerFormBlur:Ee}=d;oe&&Be(oe,U),Ee()}function z(U){const{onFocus:oe}=e,{nTriggerFormFocus:Ee}=d;oe&&Be(oe,U),Ee()}function se(U){const{onClear:oe}=e;oe&&Be(oe,U)}function Z(U){const{onInputBlur:oe}=e;oe&&Be(oe,U)}function fe(U){const{onInputFocus:oe}=e;oe&&Be(oe,U)}function le(){const{onDeactivate:U}=e;U&&Be(U)}function Le(){const{onActivate:U}=e;U&&Be(U)}function pe(U){const{onClick:oe}=e;oe&&Be(oe,U)}function Pe(U){const{onWrapperFocus:oe}=e;oe&&Be(oe,U)}function ce(U){const{onWrapperBlur:oe}=e;oe&&Be(oe,U)}function _e(){E.value=!0}function ke(U){E.value=!1,U.target===f.value?Ae(U,1):Ae(U,0)}function Ae(U,oe=0,Ee="input"){const Ve=U.target.value;if($e(Ve),U instanceof InputEvent&&!U.isComposing&&(E.value=!1),e.type==="textarea"){const{value:rt}=g;rt&&rt.syncUnifiedContainer()}if(P=Ve,E.value)return;v.recordCursor();const tt=Xe(Ve);if(tt)if(!e.pair)Ee==="input"?q(Ve):Q(Ve);else{let{value:rt}=a;Array.isArray(rt)?rt=[rt[0],rt[1]]:rt=["",""],rt[oe]=Ve,Ee==="input"?q(rt):Q(rt)}L.$forceUpdate(),tt||bt(v.restoreCursor)}function Xe(U){const{allowInput:oe}=e;return typeof oe=="function"?oe(U):!0}function Me(U){Z(U),U.relatedTarget===b.value&&le(),U.relatedTarget!==null&&(U.relatedTarget===u.value||U.relatedTarget===f.value||U.relatedTarget===i.value)||(D.value=!1),ut(U,"blur"),_.value=null}function ae(U,oe){fe(U),k.value=!0,D.value=!0,Le(),ut(U,"focus"),oe===0?_.value=u.value:oe===1?_.value=f.value:oe===2&&(_.value=i.value)}function ge(U){e.passivelyActivated&&(ce(U),ut(U,"blur"))}function je(U){e.passivelyActivated&&(k.value=!0,Pe(U),ut(U,"focus"))}function ut(U,oe){U.relatedTarget!==null&&(U.relatedTarget===u.value||U.relatedTarget===f.value||U.relatedTarget===i.value||U.relatedTarget===b.value)||(oe==="focus"?(z(U),k.value=!0):oe==="blur"&&(I(U),k.value=!1))}function Zt(U,oe){Ae(U,oe,"change")}function Jt(U){pe(U)}function Qt(U){se(U),e.pair?(q(["",""]),Q(["",""])):(q(""),Q(""))}function Ht(U){const{onMousedown:oe}=e;oe&&oe(U);const{tagName:Ee}=U.target;if(Ee!=="INPUT"&&Ee!=="TEXTAREA"){if(e.resizable){const{value:Ve}=b;if(Ve){const{left:tt,top:rt,width:It,height:zt}=Ve.getBoundingClientRect(),jt=14;if(tt+It-jt<U.clientX&&U.clientX<tt+It&&rt+zt-jt<U.clientY&&U.clientY<rt+zt)return}}U.preventDefault(),k.value||te()}}function Nt(){var U;C.value=!0,e.type==="textarea"&&((U=g.value)===null||U===void 0||U.handleMouseEnterWrapper())}function Dt(){var U;C.value=!1,e.type==="textarea"&&((U=g.value)===null||U===void 0||U.handleMouseLeaveWrapper())}function Ot(){w.value||M.value==="click"&&(V.value=!V.value)}function yt(U){if(w.value)return;U.preventDefault();const oe=Ve=>{Ve.preventDefault(),lr("mouseup",document,oe)};if(ar("mouseup",document,oe),M.value!=="mousedown")return;V.value=!0;const Ee=()=>{V.value=!1,lr("mouseup",document,Ee)};ar("mouseup",document,Ee)}function Mt(U){var oe;switch((oe=e.onKeydown)===null||oe===void 0||oe.call(e,U),U.key){case"Escape":st();break;case"Enter":Pt(U);break}}function Pt(U){var oe,Ee;if(e.passivelyActivated){const{value:Ve}=D;if(Ve){e.internalDeactivateOnEnter&&st();return}U.preventDefault(),e.type==="textarea"?(oe=i.value)===null||oe===void 0||oe.focus():(Ee=u.value)===null||Ee===void 0||Ee.focus()}}function st(){e.passivelyActivated&&(D.value=!1,bt(()=>{var U;(U=b.value)===null||U===void 0||U.focus()}))}function te(){var U,oe,Ee;w.value||(e.passivelyActivated?(U=b.value)===null||U===void 0||U.focus():((oe=i.value)===null||oe===void 0||oe.focus(),(Ee=u.value)===null||Ee===void 0||Ee.focus()))}function me(){var U;!((U=b.value)===null||U===void 0)&&U.contains(document.activeElement)&&document.activeElement.blur()}function Se(){var U,oe;(U=i.value)===null||U===void 0||U.select(),(oe=u.value)===null||oe===void 0||oe.select()}function ze(){w.value||(i.value?i.value.focus():u.value&&u.value.focus())}function Fe(){const{value:U}=b;(U==null?void 0:U.contains(document.activeElement))&&U!==document.activeElement&&st()}function He(U){if(e.type==="textarea"){const{value:oe}=i;oe==null||oe.scrollTo(U)}else{const{value:oe}=u;oe==null||oe.scrollTo(U)}}function $e(U){const{type:oe,pair:Ee,autosize:Ve}=e;if(!Ee&&Ve)if(oe==="textarea"){const{value:tt}=o;tt&&(tt.textContent=(U!=null?U:"")+`\r
`)}else{const{value:tt}=n;tt&&(U?tt.textContent=U:tt.innerHTML="&nbsp;")}}function Ze(){G()}const $t=Y({top:"0"});function sr(U){var oe;const{scrollTop:Ee}=U.target;$t.value.top=`${-Ee}px`,(oe=g.value)===null||oe===void 0||oe.syncUnifiedContainer()}let Wt=null;$i(()=>{const{autosize:U,type:oe}=e;U&&oe==="textarea"?Wt=qe(a,Ee=>{!Array.isArray(Ee)&&Ee!==P&&$e(Ee)}):Wt==null||Wt()});let er=null;$i(()=>{e.type==="textarea"?er=qe(a,U=>{var oe;!Array.isArray(U)&&U!==P&&((oe=g.value)===null||oe===void 0||oe.syncUnifiedContainer())}):er==null||er()}),at(la,{mergedValueRef:a,maxlengthRef:ie,mergedClsPrefixRef:t});const Yr={wrapperElRef:b,inputElRef:u,textareaElRef:i,isCompositing:E,focus:te,blur:me,select:Se,deactivate:Fe,activate:ze,scrollTo:He},Rt=hr("Input",h,t),pr=ee(()=>{const{value:U}=m,{common:{cubicBezierEaseInOut:oe},self:{color:Ee,borderRadius:Ve,textColor:tt,caretColor:rt,caretColorError:It,caretColorWarning:zt,textDecorationColor:jt,border:Ce,borderDisabled:N,borderHover:de,borderFocus:be,placeholderColor:Ue,placeholderColorDisabled:ht,lineHeightTextarea:ft,colorDisabled:lt,colorFocus:Lr,textColorDisabled:pt,boxShadowFocus:Xr,iconSize:vi,colorFocusWarning:vs,boxShadowFocusWarning:hl,borderWarning:fl,borderFocusWarning:pl,borderHoverWarning:vl,colorFocusError:gl,boxShadowFocusError:_l,borderError:ml,borderFocusError:bl,borderHoverError:yl,clearSize:wl,clearColor:Sl,clearColorHover:Cl,clearColorPressed:xl,iconColor:kl,iconColorDisabled:El,suffixTextColor:Rl,countTextColor:Tl,countTextColorDisabled:Ll,iconColorHover:Al,iconColorPressed:Bl,loadingColor:Dl,loadingColorError:Ol,loadingColorWarning:Ml,[ve("padding",U)]:Pl,[ve("fontSize",U)]:$l,[ve("height",U)]:Il}}=y.value,{left:zl,right:Fl}=li(Pl);return{"--n-bezier":oe,"--n-count-text-color":Tl,"--n-count-text-color-disabled":Ll,"--n-color":Ee,"--n-font-size":$l,"--n-border-radius":Ve,"--n-height":Il,"--n-padding-left":zl,"--n-padding-right":Fl,"--n-text-color":tt,"--n-caret-color":rt,"--n-text-decoration-color":jt,"--n-border":Ce,"--n-border-disabled":N,"--n-border-hover":de,"--n-border-focus":be,"--n-placeholder-color":Ue,"--n-placeholder-color-disabled":ht,"--n-icon-size":vi,"--n-line-height-textarea":ft,"--n-color-disabled":lt,"--n-color-focus":Lr,"--n-text-color-disabled":pt,"--n-box-shadow-focus":Xr,"--n-loading-color":Dl,"--n-caret-color-warning":zt,"--n-color-focus-warning":vs,"--n-box-shadow-focus-warning":hl,"--n-border-warning":fl,"--n-border-focus-warning":pl,"--n-border-hover-warning":vl,"--n-loading-color-warning":Ml,"--n-caret-color-error":It,"--n-color-focus-error":gl,"--n-box-shadow-focus-error":_l,"--n-border-error":ml,"--n-border-focus-error":bl,"--n-border-hover-error":yl,"--n-loading-color-error":Ol,"--n-clear-color":Sl,"--n-clear-size":wl,"--n-clear-color-hover":Cl,"--n-clear-color-pressed":xl,"--n-icon-color":kl,"--n-icon-color-hover":Al,"--n-icon-color-pressed":Bl,"--n-icon-color-disabled":El,"--n-suffix-text-color":Rl}}),Ut=l?gt("input",ee(()=>{const{value:U}=m;return U[0]}),pr,e):void 0;return Object.assign(Object.assign({},Yr),{wrapperElRef:b,inputElRef:u,inputMirrorElRef:n,inputEl2Ref:f,textareaElRef:i,textareaMirrorElRef:o,textareaScrollbarInstRef:g,rtlEnabled:Rt,uncontrolledValue:s,mergedValue:a,passwordVisible:V,mergedPlaceholder:B,showPlaceholder1:x,showPlaceholder2:R,mergedFocus:T,isComposing:E,activated:D,showClearButton:O,mergedSize:m,mergedDisabled:w,textDecorationStyle:F,mergedClsPrefix:t,mergedBordered:r,mergedShowPasswordOn:M,placeholderStyle:$t,mergedStatus:S,textAreaScrollContainerWidth:W,handleTextAreaScroll:sr,handleCompositionStart:_e,handleCompositionEnd:ke,handleInput:Ae,handleInputBlur:Me,handleInputFocus:ae,handleWrapperBlur:ge,handleWrapperFocus:je,handleMouseEnter:Nt,handleMouseLeave:Dt,handleMouseDown:Ht,handleChange:Zt,handleClick:Jt,handleClear:Qt,handlePasswordToggleClick:Ot,handlePasswordToggleMousedown:yt,handleWrapperKeydown:Mt,handleTextAreaMirrorResize:Ze,getTextareaScrollContainer:()=>i.value,mergedTheme:y,cssVars:l?void 0:pr,themeClass:Ut==null?void 0:Ut.themeClass,onRender:Ut==null?void 0:Ut.onRender})},render(){var e,t;const{mergedClsPrefix:r,mergedStatus:l,themeClass:h,type:y,onRender:b}=this,i=this.$slots;return b==null||b(),A("div",{ref:"wrapperElRef",class:[`${r}-input`,h,l&&`${r}-input--${l}-status`,{[`${r}-input--rtl`]:this.rtlEnabled,[`${r}-input--disabled`]:this.mergedDisabled,[`${r}-input--textarea`]:y==="textarea",[`${r}-input--resizable`]:this.resizable&&!this.autosize,[`${r}-input--autosize`]:this.autosize,[`${r}-input--round`]:this.round&&y!=="textarea",[`${r}-input--pair`]:this.pair,[`${r}-input--focus`]:this.mergedFocus,[`${r}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.onKeyup,onKeydown:this.handleWrapperKeydown},A("div",{class:`${r}-input-wrapper`},Qe(i.prefix,o=>o&&A("div",{class:`${r}-input__prefix`},o)),y==="textarea"?A(Gi,{ref:"textareaScrollbarInstRef",class:`${r}-input__textarea`,container:this.getTextareaScrollContainer,triggerDisplayManually:!0,useUnifiedContainer:!0,internalHoistYRail:!0},{default:()=>{var o,n;const{textAreaScrollContainerWidth:u}=this,f={width:this.autosize&&u&&`${u}px`};return A(et,null,A("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:[`${r}-input__textarea-el`,(o=this.inputProps)===null||o===void 0?void 0:o.class],autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:[this.textDecorationStyle[0],(n=this.inputProps)===null||n===void 0?void 0:n.style,f],onBlur:this.handleInputBlur,onFocus:_=>this.handleInputFocus(_,2),onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?A("div",{class:`${r}-input__placeholder`,style:[this.placeholderStyle,f],key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?A(zr,{onResize:this.handleTextAreaMirrorResize},{default:()=>A("div",{ref:"textareaMirrorElRef",class:`${r}-input__textarea-mirror`,key:"mirror"})}):null)}}):A("div",{class:`${r}-input__input`},A("input",Object.assign({type:y==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":y},this.inputProps,{ref:"inputElRef",class:[`${r}-input__input-el`,(e=this.inputProps)===null||e===void 0?void 0:e.class],style:[this.textDecorationStyle[0],(t=this.inputProps)===null||t===void 0?void 0:t.style],tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:o=>this.handleInputFocus(o,0),onInput:o=>this.handleInput(o,0),onChange:o=>this.handleChange(o,0)})),this.showPlaceholder1?A("div",{class:`${r}-input__placeholder`},A("span",null,this.mergedPlaceholder[0])):null,this.autosize?A("div",{class:`${r}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"},"\xA0"):null),!this.pair&&Qe(i.suffix,o=>o||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0?A("div",{class:`${r}-input__suffix`},[Qe(i["clear-icon-placeholder"],n=>(this.clearable||n)&&A(Ln,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{placeholder:()=>n,icon:()=>{var u,f;return(f=(u=this.$slots)["clear-icon"])===null||f===void 0?void 0:f.call(u)}})),this.internalLoadingBeforeSuffix?null:o,this.loading!==void 0?A(na,{clsPrefix:r,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?o:null,this.showCount&&this.type!=="textarea"?A(Us,null,{default:n=>{var u;return(u=i.count)===null||u===void 0?void 0:u.call(i,n)}}):null,this.mergedShowPasswordOn&&this.type==="password"?A("div",{class:`${r}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},this.passwordVisible?dr(i["password-visible-icon"],()=>[A(ir,{clsPrefix:r},{default:()=>A(Qu,null)})]):dr(i["password-invisible-icon"],()=>[A(ir,{clsPrefix:r},{default:()=>A(eh,null)})])):null]):null)),this.pair?A("span",{class:`${r}-input__separator`},dr(i.separator,()=>[this.separator])):null,this.pair?A("div",{class:`${r}-input-wrapper`},A("div",{class:`${r}-input__input`},A("input",{ref:"inputEl2Ref",type:this.type,class:`${r}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:o=>this.handleInputFocus(o,1),onInput:o=>this.handleInput(o,1),onChange:o=>this.handleChange(o,1)}),this.showPlaceholder2?A("div",{class:`${r}-input__placeholder`},A("span",null,this.mergedPlaceholder[1])):null),Qe(i.suffix,o=>(this.clearable||o)&&A("div",{class:`${r}-input__suffix`},[this.clearable&&A(Ln,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{icon:()=>{var n;return(n=i["clear-icon"])===null||n===void 0?void 0:n.call(i)},placeholder:()=>{var n;return(n=i["clear-icon-placeholder"])===null||n===void 0?void 0:n.call(i)}}),o]))):null,this.mergedBordered?A("div",{class:`${r}-input__border`}):null,this.mergedBordered?A("div",{class:`${r}-input__state-border`}):null,this.showCount&&y==="textarea"?A(Us,null,{default:o=>{var n;const{renderCount:u}=this;return u?u(o):(n=i.count)===null||n===void 0?void 0:n.call(i,o)}}):null)}}),Zh=j("input-group",`
 display: inline-flex;
 width: 100%;
 flex-wrap: nowrap;
 vertical-align: bottom;
`,[X(">",[j("input",[X("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),X("&:not(:first-child)",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 margin-left: -1px!important;
 `)]),j("button",[X("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `,[H("state-border, border",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `)]),X("&:not(:first-child)",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `,[H("state-border, border",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `)])]),X("*",[X("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `,[X(">",[j("input",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),j("base-selection",[j("base-selection-label",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),j("base-selection-tags",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),H("box-shadow, border, state-border",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `)])])]),X("&:not(:first-child)",`
 margin-left: -1px!important;
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `,[X(">",[j("input",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),j("base-selection",[j("base-selection-label",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),j("base-selection-tags",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),H("box-shadow, border, state-border",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `)])])])])])]),Jh={},Qh=ue({name:"InputGroup",props:Jh,setup(e){const{mergedClsPrefixRef:t}=ot(e);return Kr("-input-group",Zh,t),{mergedClsPrefix:t}},render(){const{mergedClsPrefix:e}=this;return A("div",{class:`${e}-input-group`},this.$slots)}}),ef=j("input-group-label",`
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 box-sizing: border-box;
 padding: 0 12px;
 display: inline-block;
 border-radius: var(--n-border-radius);
 background-color: var(--n-group-label-color);
 color: var(--n-group-label-text-color);
 font-size: var(--n-font-size);
 line-height: var(--n-height);
 height: var(--n-height);
 flex-shrink: 0;
 white-space: nowrap;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
`,[H("border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-group-label-border);
 transition: border-color .3s var(--n-bezier);
 `)]),tf=Object.assign(Object.assign({},We.props),{size:{type:String,default:"medium"},bordered:{type:Boolean,default:void 0}}),rf=ue({name:"InputGroupLabel",props:tf,setup(e){const{mergedBorderedRef:t,mergedClsPrefixRef:r,inlineThemeDisabled:l}=ot(e),h=We("Input","-input-group-label",ef,Bo,e,r),y=ee(()=>{const{size:i}=e,{common:{cubicBezierEaseInOut:o},self:{groupLabelColor:n,borderRadius:u,groupLabelTextColor:f,lineHeight:_,groupLabelBorder:v,[ve("fontSize",i)]:g,[ve("height",i)]:p}}=h.value;return{"--n-bezier":o,"--n-group-label-color":n,"--n-group-label-border":v,"--n-border-radius":u,"--n-group-label-text-color":f,"--n-font-size":g,"--n-line-height":_,"--n-height":p}}),b=l?gt("input-group-label",ee(()=>e.size[0]),y,e):void 0;return{mergedClsPrefix:r,mergedBordered:t,cssVars:l?void 0:y,themeClass:b==null?void 0:b.themeClass,onRender:b==null?void 0:b.onRender}},render(){var e,t,r;const{mergedClsPrefix:l}=this;return(e=this.onRender)===null||e===void 0||e.call(this),A("div",{class:[`${l}-input-group-label`,this.themeClass],style:this.cssVars},(r=(t=this.$slots).default)===null||r===void 0?void 0:r.call(t),this.mergedBordered?A("div",{class:`${l}-input-group-label__border`}):null)}}),nf=X([X("@keyframes badge-wave-spread",{from:{boxShadow:"0 0 0.5px 0px var(--n-ripple-color)",opacity:.6},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)",opacity:0}}),j("badge",`
 display: inline-flex;
 position: relative;
 vertical-align: middle;
 color: var(--n-color);
 font-family: var(--n-font-family);
 `,[re("as-is",[j("badge-sup",{position:"static",transform:"translateX(0)"},[Fr({transformOrigin:"left bottom",originalTransform:"translateX(0)"})])]),re("dot",[j("badge-sup",`
 height: 8px;
 width: 8px;
 padding: 0;
 min-width: 8px;
 left: 100%;
 bottom: calc(100% - 4px);
 `,[X("::before","border-radius: 4px;")])]),j("badge-sup",`
 background: var(--n-color);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: #FFF;
 position: absolute;
 height: 18px;
 line-height: 18px;
 border-radius: 9px;
 padding: 0 6px;
 text-align: center;
 font-size: var(--n-font-size);
 transform: translateX(-50%);
 left: 100%;
 bottom: calc(100% - 9px);
 font-variant-numeric: tabular-nums;
 z-index: 1;
 display: flex;
 align-items: center;
 `,[Fr({transformOrigin:"left bottom",originalTransform:"translateX(-50%)"}),j("base-wave",{zIndex:1,animationDuration:"2s",animationIterationCount:"infinite",animationDelay:"1s",animationTimingFunction:"var(--n-ripple-bezier)",animationName:"badge-wave-spread"}),X("&::before",`
 opacity: 0;
 transform: scale(1);
 border-radius: 9px;
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)])])]),sf=Object.assign(Object.assign({},We.props),{value:[String,Number],max:Number,dot:Boolean,type:{type:String,default:"default"},show:{type:Boolean,default:!0},showZero:Boolean,processing:Boolean,color:String}),js=ue({name:"Badge",props:sf,setup(e,{slots:t}){const{mergedClsPrefixRef:r,inlineThemeDisabled:l,mergedRtlRef:h}=ot(e),y=We("Badge","-badge",nf,Jl,e,r),b=Y(!1),i=()=>{b.value=!0},o=()=>{b.value=!1},n=ee(()=>e.show&&(e.dot||e.value!==void 0&&!(!e.showZero&&e.value<=0)||!di(t.value)));Bt(()=>{n.value&&(b.value=!0)});const u=hr("Badge",h,r),f=ee(()=>{const{type:v,color:g}=e,{common:{cubicBezierEaseInOut:p,cubicBezierEaseOut:s},self:{[ve("color",v)]:c,fontFamily:a,fontSize:d}}=y.value;return{"--n-font-size":d,"--n-font-family":a,"--n-color":g||c,"--n-ripple-color":g||c,"--n-bezier":p,"--n-ripple-bezier":s}}),_=l?gt("badge",ee(()=>{let v="";const{type:g,color:p}=e;return g&&(v+=g[0]),p&&(v+=yn(p)),v}),f,e):void 0;return{rtlEnabled:u,mergedClsPrefix:r,appeared:b,showBadge:n,handleAfterEnter:i,handleAfterLeave:o,cssVars:l?void 0:f,themeClass:_==null?void 0:_.themeClass,onRender:_==null?void 0:_.onRender}},render(){var e;const{mergedClsPrefix:t,onRender:r,themeClass:l,$slots:h}=this;r==null||r();const y=(e=h.default)===null||e===void 0?void 0:e.call(h);return A("div",{class:[`${t}-badge`,this.rtlEnabled&&`${t}-badge--rtl`,l,{[`${t}-badge--dot`]:this.dot,[`${t}-badge--as-is`]:!y}],style:this.cssVars},y,A(Vr,{name:"fade-in-scale-up-transition",onAfterEnter:this.handleAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>this.showBadge?A("sup",{class:`${t}-badge-sup`,title:Zo(this.value)},dr(h.value,()=>[this.dot?null:A(Nh,{clsPrefix:t,appeared:this.appeared,max:this.max,value:this.value})]),this.processing?A(ia,{clsPrefix:t}):null):null}))}});function Sr(e){return Do(e,[255,255,255,.16])}function wi(e){return Do(e,[0,0,0,.12])}const ca=Yt("n-button-group"),of=X([j("button",`
 margin: 0;
 font-weight: var(--n-font-weight);
 line-height: 1;
 font-family: inherit;
 padding: var(--n-padding);
 height: var(--n-height);
 font-size: var(--n-font-size);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 width: var(--n-width);
 white-space: nowrap;
 outline: none;
 position: relative;
 z-index: auto;
 border: none;
 display: inline-flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 align-items: center;
 justify-content: center;
 user-select: none;
 -webkit-user-select: none;
 text-align: center;
 cursor: pointer;
 text-decoration: none;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[re("color",[H("border",{borderColor:"var(--n-border-color)"}),re("disabled",[H("border",{borderColor:"var(--n-border-color-disabled)"})]),ct("disabled",[X("&:focus",[H("state-border",{borderColor:"var(--n-border-color-focus)"})]),X("&:hover",[H("state-border",{borderColor:"var(--n-border-color-hover)"})]),X("&:active",[H("state-border",{borderColor:"var(--n-border-color-pressed)"})]),re("pressed",[H("state-border",{borderColor:"var(--n-border-color-pressed)"})])])]),re("disabled",{backgroundColor:"var(--n-color-disabled)",color:"var(--n-text-color-disabled)"},[H("border",{border:"var(--n-border-disabled)"})]),ct("disabled",[X("&:focus",{backgroundColor:"var(--n-color-focus)",color:"var(--n-text-color-focus)"},[H("state-border",{border:"var(--n-border-focus)"})]),X("&:hover",{backgroundColor:"var(--n-color-hover)",color:"var(--n-text-color-hover)"},[H("state-border",{border:"var(--n-border-hover)"})]),X("&:active",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[H("state-border",{border:"var(--n-border-pressed)"})]),re("pressed",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[H("state-border",{border:"var(--n-border-pressed)"})])]),re("loading","cursor: wait;"),j("base-wave",`
 pointer-events: none;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 animation-iteration-count: 1;
 animation-duration: var(--n-ripple-duration);
 animation-timing-function: var(--n-bezier-ease-out), var(--n-bezier-ease-out);
 `,[re("active",{zIndex:1,animationName:"button-wave-spread, button-wave-opacity"})]),jr&&"MozBoxSizing"in document.createElement("div").style?X("&::moz-focus-inner",{border:0}):null,H("border, state-border",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 border-radius: inherit;
 transition: border-color .3s var(--n-bezier);
 pointer-events: none;
 `),H("border",{border:"var(--n-border)"}),H("state-border",{border:"var(--n-border)",borderColor:"#0000",zIndex:1}),H("icon",`
 margin: var(--n-icon-margin);
 margin-left: 0;
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 max-width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 position: relative;
 flex-shrink: 0;
 `,[j("icon-slot",`
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `,[Pi({top:"50%",originalTransform:"translateY(-50%)"})]),sa()]),H("content",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 min-width: 0;
 `,[X("~",[H("icon",{margin:"var(--n-icon-margin)",marginRight:0})])]),re("block",`
 display: flex;
 width: 100%;
 `),re("dashed",[H("border, state-border",{borderStyle:"dashed !important"})]),re("disabled",{cursor:"not-allowed",opacity:"var(--n-opacity-disabled)"})]),X("@keyframes button-wave-spread",{from:{boxShadow:"0 0 0.5px 0 var(--n-ripple-color)"},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)"}}),X("@keyframes button-wave-opacity",{from:{opacity:"var(--n-wave-opacity)"},to:{opacity:0}})]),af=Object.assign(Object.assign({},We.props),{color:String,textColor:String,text:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,circle:Boolean,size:String,ghost:Boolean,round:Boolean,secondary:Boolean,tertiary:Boolean,quaternary:Boolean,strong:Boolean,focusable:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},tag:{type:String,default:"button"},type:{type:String,default:"default"},dashed:Boolean,iconPlacement:{type:String,default:"left"},attrType:{type:String,default:"button"},bordered:{type:Boolean,default:!0},onClick:[Function,Array],nativeFocusBehavior:{type:Boolean,default:!aa}}),lf=ue({name:"Button",props:af,setup(e){const t=Y(null),r=Y(null),l=Y(!1),h=wt(()=>!e.quaternary&&!e.tertiary&&!e.secondary&&!e.text&&(!e.color||e.ghost||e.dashed)&&e.bordered),y=nt(ca,{}),{mergedSizeRef:b}=Xi({},{defaultSize:"medium",mergedSize:m=>{const{size:w}=e;if(w)return w;const{size:S}=y;if(S)return S;const{mergedSize:k}=m||{};return k?k.value:"medium"}}),i=ee(()=>e.focusable&&!e.disabled),o=m=>{var w;i.value||m.preventDefault(),!e.nativeFocusBehavior&&(m.preventDefault(),!e.disabled&&i.value&&((w=t.value)===null||w===void 0||w.focus({preventScroll:!0})))},n=m=>{var w;if(!e.disabled&&!e.loading){const{onClick:S}=e;S&&Be(S,m),e.text||(w=r.value)===null||w===void 0||w.play()}},u=m=>{switch(m.key){case"Enter":if(!e.keyboard)return;l.value=!1}},f=m=>{switch(m.key){case"Enter":if(!e.keyboard||e.loading){m.preventDefault();return}l.value=!0}},_=()=>{l.value=!1},{inlineThemeDisabled:v,mergedClsPrefixRef:g,mergedRtlRef:p}=ot(e),s=We("Button","-button",of,Ql,e,g),c=hr("Button",p,g),a=ee(()=>{const m=s.value,{common:{cubicBezierEaseInOut:w,cubicBezierEaseOut:S},self:k}=m,{rippleDuration:C,opacityDisabled:E,fontWeight:D,fontWeightStrong:P}=k,B=b.value,{dashed:x,type:R,ghost:T,text:O,color:M,round:V,circle:F,textColor:W,secondary:G,tertiary:ie,quaternary:L,strong:q}=e,Q={"font-weight":q?P:D};let I={"--n-color":"initial","--n-color-hover":"initial","--n-color-pressed":"initial","--n-color-focus":"initial","--n-color-disabled":"initial","--n-ripple-color":"initial","--n-text-color":"initial","--n-text-color-hover":"initial","--n-text-color-pressed":"initial","--n-text-color-focus":"initial","--n-text-color-disabled":"initial"};const z=R==="tertiary",se=R==="default",Z=z?"default":R;if(O){const Me=W||M,ae=Me||k[ve("textColorText",Z)];I={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":"#0000","--n-text-color":ae,"--n-text-color-hover":Me?Sr(Me):k[ve("textColorTextHover",Z)],"--n-text-color-pressed":Me?wi(Me):k[ve("textColorTextPressed",Z)],"--n-text-color-focus":Me?Sr(Me):k[ve("textColorTextHover",Z)],"--n-text-color-disabled":Me||k[ve("textColorTextDisabled",Z)]}}else if(T||x){const Me=W||M;I={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":M||k[ve("rippleColor",Z)],"--n-text-color":Me||k[ve("textColorGhost",Z)],"--n-text-color-hover":Me?Sr(Me):k[ve("textColorGhostHover",Z)],"--n-text-color-pressed":Me?wi(Me):k[ve("textColorGhostPressed",Z)],"--n-text-color-focus":Me?Sr(Me):k[ve("textColorGhostHover",Z)],"--n-text-color-disabled":Me||k[ve("textColorGhostDisabled",Z)]}}else if(G){const Me=se?k.textColor:z?k.textColorTertiary:k[ve("color",Z)],ae=M||Me,ge=R!=="default"&&R!=="tertiary";I={"--n-color":ge?gi(ae,{alpha:Number(k.colorOpacitySecondary)}):k.colorSecondary,"--n-color-hover":ge?gi(ae,{alpha:Number(k.colorOpacitySecondaryHover)}):k.colorSecondaryHover,"--n-color-pressed":ge?gi(ae,{alpha:Number(k.colorOpacitySecondaryPressed)}):k.colorSecondaryPressed,"--n-color-focus":ge?gi(ae,{alpha:Number(k.colorOpacitySecondaryHover)}):k.colorSecondaryHover,"--n-color-disabled":k.colorSecondary,"--n-ripple-color":"#0000","--n-text-color":ae,"--n-text-color-hover":ae,"--n-text-color-pressed":ae,"--n-text-color-focus":ae,"--n-text-color-disabled":ae}}else if(ie||L){const Me=se?k.textColor:z?k.textColorTertiary:k[ve("color",Z)],ae=M||Me;ie?(I["--n-color"]=k.colorTertiary,I["--n-color-hover"]=k.colorTertiaryHover,I["--n-color-pressed"]=k.colorTertiaryPressed,I["--n-color-focus"]=k.colorSecondaryHover,I["--n-color-disabled"]=k.colorTertiary):(I["--n-color"]=k.colorQuaternary,I["--n-color-hover"]=k.colorQuaternaryHover,I["--n-color-pressed"]=k.colorQuaternaryPressed,I["--n-color-focus"]=k.colorQuaternaryHover,I["--n-color-disabled"]=k.colorQuaternary),I["--n-ripple-color"]="#0000",I["--n-text-color"]=ae,I["--n-text-color-hover"]=ae,I["--n-text-color-pressed"]=ae,I["--n-text-color-focus"]=ae,I["--n-text-color-disabled"]=ae}else I={"--n-color":M||k[ve("color",Z)],"--n-color-hover":M?Sr(M):k[ve("colorHover",Z)],"--n-color-pressed":M?wi(M):k[ve("colorPressed",Z)],"--n-color-focus":M?Sr(M):k[ve("colorFocus",Z)],"--n-color-disabled":M||k[ve("colorDisabled",Z)],"--n-ripple-color":M||k[ve("rippleColor",Z)],"--n-text-color":W||(M?k.textColorPrimary:z?k.textColorTertiary:k[ve("textColor",Z)]),"--n-text-color-hover":W||(M?k.textColorHoverPrimary:k[ve("textColorHover",Z)]),"--n-text-color-pressed":W||(M?k.textColorPressedPrimary:k[ve("textColorPressed",Z)]),"--n-text-color-focus":W||(M?k.textColorFocusPrimary:k[ve("textColorFocus",Z)]),"--n-text-color-disabled":W||(M?k.textColorDisabledPrimary:k[ve("textColorDisabled",Z)])};let fe={"--n-border":"initial","--n-border-hover":"initial","--n-border-pressed":"initial","--n-border-focus":"initial","--n-border-disabled":"initial"};O?fe={"--n-border":"none","--n-border-hover":"none","--n-border-pressed":"none","--n-border-focus":"none","--n-border-disabled":"none"}:fe={"--n-border":k[ve("border",Z)],"--n-border-hover":k[ve("borderHover",Z)],"--n-border-pressed":k[ve("borderPressed",Z)],"--n-border-focus":k[ve("borderFocus",Z)],"--n-border-disabled":k[ve("borderDisabled",Z)]};const{[ve("height",B)]:le,[ve("fontSize",B)]:Le,[ve("padding",B)]:pe,[ve("paddingRound",B)]:Pe,[ve("iconSize",B)]:ce,[ve("borderRadius",B)]:_e,[ve("iconMargin",B)]:ke,waveOpacity:Ae}=k,Xe={"--n-width":F&&!O?le:"initial","--n-height":O?"initial":le,"--n-font-size":Le,"--n-padding":F||O?"initial":V?Pe:pe,"--n-icon-size":ce,"--n-icon-margin":ke,"--n-border-radius":O?"initial":F||V?le:_e};return Object.assign(Object.assign(Object.assign(Object.assign({"--n-bezier":w,"--n-bezier-ease-out":S,"--n-ripple-duration":C,"--n-opacity-disabled":E,"--n-wave-opacity":Ae},Q),I),fe),Xe)}),d=v?gt("button",ee(()=>{let m="";const{dashed:w,type:S,ghost:k,text:C,color:E,round:D,circle:P,textColor:B,secondary:x,tertiary:R,quaternary:T,strong:O}=e;w&&(m+="a"),k&&(m+="b"),C&&(m+="c"),D&&(m+="d"),P&&(m+="e"),x&&(m+="f"),R&&(m+="g"),T&&(m+="h"),O&&(m+="i"),E&&(m+="j"+yn(E)),B&&(m+="k"+yn(B));const{value:M}=b;return m+="l"+M[0],m+="m"+S[0],m}),a,e):void 0;return{selfElRef:t,waveElRef:r,mergedClsPrefix:g,mergedFocusable:i,mergedSize:b,showBorder:h,enterPressed:l,rtlEnabled:c,handleMousedown:o,handleKeydown:f,handleBlur:_,handleKeyup:u,handleClick:n,customColorCssVars:ee(()=>{const{color:m}=e;if(!m)return null;const w=Sr(m);return{"--n-border-color":m,"--n-border-color-hover":w,"--n-border-color-pressed":wi(m),"--n-border-color-focus":w,"--n-border-color-disabled":m}}),cssVars:v?void 0:a,themeClass:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender}},render(){const{mergedClsPrefix:e,tag:t,onRender:r}=this;r==null||r();const l=Qe(this.$slots.default,h=>h&&A("span",{class:`${e}-button__content`},h));return A(t,{ref:"selfElRef",class:[this.themeClass,`${e}-button`,`${e}-button--${this.type}-type`,`${e}-button--${this.mergedSize}-type`,this.rtlEnabled&&`${e}-button--rtl`,this.disabled&&`${e}-button--disabled`,this.block&&`${e}-button--block`,this.enterPressed&&`${e}-button--pressed`,!this.text&&this.dashed&&`${e}-button--dashed`,this.color&&`${e}-button--color`,this.secondary&&`${e}-button--secondary`,this.loading&&`${e}-button--loading`,this.ghost&&`${e}-button--ghost`],tabindex:this.mergedFocusable?0:-1,type:this.attrType,style:this.cssVars,disabled:this.disabled,onClick:this.handleClick,onBlur:this.handleBlur,onMousedown:this.handleMousedown,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},this.iconPlacement==="right"&&l,A(Kn,{width:!0},{default:()=>Qe(this.$slots.icon,h=>(this.loading||h)&&A("span",{class:`${e}-button__icon`,style:{margin:di(this.$slots.default)?"0":""}},A(Vn,null,{default:()=>this.loading?A(qi,{clsPrefix:e,key:"loading",class:`${e}-icon-slot`,strokeWidth:20}):A("div",{key:"icon",class:`${e}-icon-slot`,role:"none"},h)})))}),this.iconPlacement==="left"&&l,this.text?null:A(ia,{ref:"waveElRef",clsPrefix:e}),this.showBorder?A("div",{"aria-hidden":!0,class:`${e}-button__border`,style:this.customColorCssVars}):null,this.showBorder?A("div",{"aria-hidden":!0,class:`${e}-button__state-border`,style:this.customColorCssVars}):null)}}),Ye=lf,it="0!important",da="-1px!important";function Or(e){return re(e+"-type",[X("& +",[j("button",{},[re(e+"-type",[H("border",{borderLeftWidth:it}),H("state-border",{left:da})])])])])}function Mr(e){return re(e+"-type",[X("& +",[j("button",[re(e+"-type",[H("border",{borderTopWidth:it}),H("state-border",{top:da})])])])])}const cf=j("button-group",`
 flex-wrap: nowrap;
 display: inline-flex;
 position: relative;
`,[ct("vertical",{flexDirection:"row"},[ct("rtl",[j("button",[X("&:first-child:not(:last-child)",`
 margin-right: ${it};
 border-top-right-radius: ${it};
 border-bottom-right-radius: ${it};
 `),X("&:last-child:not(:first-child)",`
 margin-left: ${it};
 border-top-left-radius: ${it};
 border-bottom-left-radius: ${it};
 `),X("&:not(:first-child):not(:last-child)",`
 margin-left: ${it};
 margin-right: ${it};
 border-radius: ${it};
 `),Or("default"),re("ghost",[Or("primary"),Or("info"),Or("success"),Or("warning"),Or("error")])])])]),re("vertical",{flexDirection:"column"},[j("button",[X("&:first-child:not(:last-child)",`
 margin-bottom: ${it};
 margin-left: ${it};
 margin-right: ${it};
 border-bottom-left-radius: ${it};
 border-bottom-right-radius: ${it};
 `),X("&:last-child:not(:first-child)",`
 margin-top: ${it};
 margin-left: ${it};
 margin-right: ${it};
 border-top-left-radius: ${it};
 border-top-right-radius: ${it};
 `),X("&:not(:first-child):not(:last-child)",`
 margin: ${it};
 border-radius: ${it};
 `),Mr("default"),re("ghost",[Mr("primary"),Mr("info"),Mr("success"),Mr("warning"),Mr("error")])])])]),df={size:{type:String,default:void 0},vertical:Boolean},ua=ue({name:"ButtonGroup",props:df,setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:r}=ot(e);return Kr("-button-group",cf,t),at(ca,e),{rtlEnabled:hr("ButtonGroup",r,t),mergedClsPrefix:t}},render(){const{mergedClsPrefix:e}=this;return A("div",{class:[`${e}-button-group`,this.rtlEnabled&&`${e}-button-group--rtl`,this.vertical&&`${e}-button-group--vertical`],role:"group"},this.$slots)}}),uf=X([j("card",`
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 display: flex;
 flex-direction: column;
 width: 100%;
 box-sizing: border-box;
 position: relative;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 color: var(--n-text-color);
 word-break: break-word;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[Oo({background:"var(--n-color-modal)"}),re("hoverable",[X("&:hover","box-shadow: var(--n-box-shadow);")]),re("content-segmented",[X(">",[H("content",{paddingTop:"var(--n-padding-bottom)"})])]),re("content-soft-segmented",[X(">",[H("content",`
 margin: 0 var(--n-padding-left);
 padding: var(--n-padding-bottom) 0;
 `)])]),re("footer-segmented",[X(">",[H("footer",{paddingTop:"var(--n-padding-bottom)"})])]),re("footer-soft-segmented",[X(">",[H("footer",`
 padding: var(--n-padding-bottom) 0;
 margin: 0 var(--n-padding-left);
 `)])]),X(">",[j("card-header",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 padding:
 var(--n-padding-top)
 var(--n-padding-left)
 var(--n-padding-bottom)
 var(--n-padding-left);
 `,[H("main",`
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 color: var(--n-title-text-color);
 `),H("extra",`
 display: flex;
 align-items: center;
 font-size: var(--n-font-size);
 font-weight: 400;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),H("close",`
 margin: 0 0 0 8px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),H("action",`
 box-sizing: border-box;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 background-clip: padding-box;
 background-color: var(--n-action-color);
 `),H("content","flex: 1;"),H("content, footer",`
 box-sizing: border-box;
 padding: 0 var(--n-padding-left) var(--n-padding-bottom) var(--n-padding-left);
 font-size: var(--n-font-size);
 `,[X("&:first-child",{paddingTop:"var(--n-padding-bottom)"})]),H("action",`
 background-color: var(--n-action-color);
 padding: var(--n-padding-bottom) var(--n-padding-left);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `)]),j("card-cover",`
 overflow: hidden;
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 `,[X("img",`
 display: block;
 width: 100%;
 `)]),re("bordered",`
 border: 1px solid var(--n-border-color);
 `,[X("&:target","border-color: var(--n-color-target);")]),re("action-segmented",[X(">",[H("action",[X("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),re("content-segmented, content-soft-segmented",[X(">",[H("content",{transition:"border-color 0.3s var(--n-bezier)"},[X("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),re("footer-segmented, footer-soft-segmented",[X(">",[H("footer",{transition:"border-color 0.3s var(--n-bezier)"},[X("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),re("embedded",`
 background-color: var(--n-color-embedded);
 `)]),Yi(j("card",`
 background: var(--n-color-modal);
 `,[re("embedded",`
 background-color: var(--n-color-embedded-modal);
 `)])),qn(j("card",`
 background: var(--n-color-popover);
 `,[re("embedded",`
 background-color: var(--n-color-embedded-popover);
 `)]))]),ts={title:String,contentStyle:[Object,String],headerStyle:[Object,String],headerExtraStyle:[Object,String],footerStyle:[Object,String],embedded:Boolean,segmented:{type:[Boolean,Object],default:!1},size:{type:String,default:"medium"},bordered:{type:Boolean,default:!0},closable:{type:Boolean,default:!1},hoverable:Boolean,role:String,onClose:[Function,Array]},hf=Yn(ts),ff=Object.assign(Object.assign({},We.props),ts),Tr=ue({name:"Card",props:ff,setup(e){const t=()=>{const{onClose:n}=e;n&&Be(n)},{inlineThemeDisabled:r,mergedClsPrefixRef:l,mergedRtlRef:h}=ot(e),y=We("Card","-card",uf,ec,e,l),b=hr("Card",h,l),i=ee(()=>{const{size:n}=e,{self:{color:u,colorModal:f,colorTarget:_,textColor:v,titleTextColor:g,titleFontWeight:p,borderColor:s,actionColor:c,borderRadius:a,lineHeight:d,closeIconColor:m,closeIconColorHover:w,closeIconColorPressed:S,closeColorHover:k,closeColorPressed:C,closeBorderRadius:E,closeIconSize:D,closeSize:P,boxShadow:B,colorPopover:x,colorEmbedded:R,colorEmbeddedModal:T,colorEmbeddedPopover:O,[ve("padding",n)]:M,[ve("fontSize",n)]:V,[ve("titleFontSize",n)]:F},common:{cubicBezierEaseInOut:W}}=y.value,{top:G,left:ie,bottom:L}=li(M);return{"--n-bezier":W,"--n-border-radius":a,"--n-color":u,"--n-color-modal":f,"--n-color-popover":x,"--n-color-embedded":R,"--n-color-embedded-modal":T,"--n-color-embedded-popover":O,"--n-color-target":_,"--n-text-color":v,"--n-line-height":d,"--n-action-color":c,"--n-title-text-color":g,"--n-title-font-weight":p,"--n-close-icon-color":m,"--n-close-icon-color-hover":w,"--n-close-icon-color-pressed":S,"--n-close-color-hover":k,"--n-close-color-pressed":C,"--n-border-color":s,"--n-box-shadow":B,"--n-padding-top":G,"--n-padding-bottom":L,"--n-padding-left":ie,"--n-font-size":V,"--n-title-font-size":F,"--n-close-size":P,"--n-close-icon-size":D,"--n-close-border-radius":E}}),o=r?gt("card",ee(()=>e.size[0]),i,e):void 0;return{rtlEnabled:b,mergedClsPrefix:l,mergedTheme:y,handleCloseClick:t,cssVars:r?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){const{segmented:e,bordered:t,hoverable:r,mergedClsPrefix:l,rtlEnabled:h,onRender:y,embedded:b,$slots:i}=this;return y==null||y(),A("div",{class:[`${l}-card`,this.themeClass,b&&`${l}-card--embedded`,{[`${l}-card--rtl`]:h,[`${l}-card--content${typeof e!="boolean"&&e.content==="soft"?"-soft":""}-segmented`]:e===!0||e!==!1&&e.content,[`${l}-card--footer${typeof e!="boolean"&&e.footer==="soft"?"-soft":""}-segmented`]:e===!0||e!==!1&&e.footer,[`${l}-card--action-segmented`]:e===!0||e!==!1&&e.action,[`${l}-card--bordered`]:t,[`${l}-card--hoverable`]:r}],style:this.cssVars,role:this.role},Qe(i.cover,o=>o&&A("div",{class:`${l}-card-cover`,role:"none"},o)),Qe(i.header,o=>o||this.title||this.closable?A("div",{class:`${l}-card-header`,style:this.headerStyle},A("div",{class:`${l}-card-header__main`,role:"heading"},o||this.title),Qe(i["header-extra"],n=>n&&A("div",{class:`${l}-card-header__extra`,style:this.headerExtraStyle},n)),this.closable?A(Gn,{clsPrefix:l,class:`${l}-card-header__close`,onClick:this.handleCloseClick,absolute:!0}):null):null),Qe(i.default,o=>o&&A("div",{class:`${l}-card__content`,style:this.contentStyle,role:"none"},o)),Qe(i.footer,o=>o&&[A("div",{class:`${l}-card__footer`,style:this.footerStyle,role:"none"},o)]),Qe(i.action,o=>o&&A("div",{class:`${l}-card__action`,role:"none"},o)))}}),pf=j("collapse","width: 100%;",[j("collapse-item",`
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 margin: 16px 0 0 0;
 `,[re("disabled",[H("header","cursor: not-allowed;",[H("header-main",`
 color: var(--n-title-text-color-disabled);
 `),j("collapse-item-arrow",`
 color: var(--n-arrow-color-disabled);
 `)])]),j("collapse-item","margin-left: 32px;"),X("&:first-child","margin-top: 0;"),X("&:first-child >",[H("header","padding-top: 0;")]),re("left-arrow-placement",[H("header",[j("collapse-item-arrow","margin-right: 4px;")])]),re("right-arrow-placement",[H("header",[j("collapse-item-arrow","margin-left: 4px;")])]),H("content-wrapper",[H("content-inner","padding-top: 16px;"),tc({duration:"0.15s"})]),re("active",[H("header",[re("active",[j("collapse-item-arrow","transform: rotate(90deg);")])])]),X("&:not(:first-child)","border-top: 1px solid var(--n-divider-color);"),H("header",`
 font-size: var(--n-title-font-size);
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition: color .3s var(--n-bezier);
 position: relative;
 padding: 16px 0 0 0;
 color: var(--n-title-text-color);
 cursor: pointer;
 `,[H("header-main",`
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 color: var(--n-title-text-color);
 `),H("header-extra",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),j("collapse-item-arrow",`
 display: flex;
 transition:
 transform .15s var(--n-bezier),
 color .3s var(--n-bezier);
 font-size: 18px;
 color: var(--n-arrow-color);
 `)])])]),vf=Object.assign(Object.assign({},We.props),{defaultExpandedNames:{type:[Array,String],default:null},expandedNames:[Array,String],arrowPlacement:{type:String,default:"left"},accordion:{type:Boolean,default:!1},displayDirective:{type:String,default:"if"},onItemHeaderClick:[Function,Array],"onUpdate:expandedNames":[Function,Array],onUpdateExpandedNames:[Function,Array],onExpandedNamesChange:{type:[Function,Array],validator:()=>!0,default:void 0}}),ha=Yt("n-collapse"),gf=ue({name:"Collapse",props:vf,setup(e,{slots:t}){const{mergedClsPrefixRef:r,inlineThemeDisabled:l,mergedRtlRef:h}=ot(e),y=Y(e.defaultExpandedNames),b=ee(()=>e.expandedNames),i=yr(b,y),o=We("Collapse","-collapse",pf,rc,e,r);function n(p){const{"onUpdate:expandedNames":s,onUpdateExpandedNames:c,onExpandedNamesChange:a}=e;c&&Be(c,p),s&&Be(s,p),a&&Be(a,p),y.value=p}function u(p){const{onItemHeaderClick:s}=e;s&&Be(s,p)}function f(p,s,c){const{accordion:a}=e,{value:d}=i;if(a)p?(n([s]),u({name:s,expanded:!0,event:c})):(n([]),u({name:s,expanded:!1,event:c}));else if(!Array.isArray(d))n([s]),u({name:s,expanded:!0,event:c});else{const m=d.slice(),w=m.findIndex(S=>s===S);~w?(m.splice(w,1),n(m),u({name:s,expanded:!1,event:c})):(m.push(s),n(m),u({name:s,expanded:!0,event:c}))}}at(ha,{props:e,mergedClsPrefixRef:r,expandedNamesRef:i,slots:t,toggleItem:f});const _=hr("Collapse",h,r),v=ee(()=>{const{common:{cubicBezierEaseInOut:p},self:{titleFontWeight:s,dividerColor:c,titleTextColor:a,titleTextColorDisabled:d,textColor:m,arrowColor:w,fontSize:S,titleFontSize:k,arrowColorDisabled:C}}=o.value;return{"--n-font-size":S,"--n-bezier":p,"--n-text-color":m,"--n-divider-color":c,"--n-title-font-size":k,"--n-title-text-color":a,"--n-title-text-color-disabled":d,"--n-title-font-weight":s,"--n-arrow-color":w,"--n-arrow-color-disabled":C}}),g=l?gt("collapse",void 0,v,e):void 0;return{rtlEnabled:_,mergedTheme:o,mergedClsPrefix:r,cssVars:l?void 0:v,themeClass:g==null?void 0:g.themeClass,onRender:g==null?void 0:g.onRender}},render(){var e;return(e=this.onRender)===null||e===void 0||e.call(this),A("div",{class:[`${this.mergedClsPrefix}-collapse`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse--rtl`,this.themeClass],style:this.cssVars},this.$slots)}}),_f=ue({name:"CollapseItemContent",props:{displayDirective:{type:String,required:!0},show:Boolean,clsPrefix:{type:String,required:!0}},setup(e){return{onceTrue:ic(Oe(e,"show"))}},render(){return A(Kn,null,{default:()=>{const{show:e,displayDirective:t,onceTrue:r,clsPrefix:l}=this,h=t==="show"&&r,y=A("div",{class:`${l}-collapse-item__content-wrapper`},A("div",{class:`${l}-collapse-item__content-inner`},this.$slots));return h?Hr(y,[[kr,e]]):e?y:null}})}}),mf={title:String,name:[String,Number],disabled:Boolean,displayDirective:String},bf=ue({name:"CollapseItem",props:mf,setup(e){const{mergedRtlRef:t}=ot(e),r=nc(),l=wt(()=>{var f;return(f=e.name)!==null&&f!==void 0?f:r}),h=nt(ha);h||pi("collapse-item","`n-collapse-item` must be placed inside `n-collapse`.");const{expandedNamesRef:y,props:b,mergedClsPrefixRef:i,slots:o}=h,n=ee(()=>{const{value:f}=y;if(Array.isArray(f)){const{value:_}=l;return!~f.findIndex(v=>v===_)}else if(f){const{value:_}=l;return _!==f}return!0});return{rtlEnabled:hr("Collapse",t,i),collapseSlots:o,randomName:r,mergedClsPrefix:i,collapsed:n,mergedDisplayDirective:ee(()=>{const{displayDirective:f}=e;return f||b.displayDirective}),arrowPlacement:ee(()=>b.arrowPlacement),handleClick(f){h&&!e.disabled&&h.toggleItem(n.value,l.value,f)}}},render(){var e;const{collapseSlots:t,$slots:r,arrowPlacement:l,collapsed:h,mergedDisplayDirective:y,mergedClsPrefix:b,disabled:i}=this,o=r.header?r.header():this.title,n=r["header-extra"]||t["header-extra"],u=r.arrow||t.arrow;return A("div",{class:[`${b}-collapse-item`,`${b}-collapse-item--${l}-arrow-placement`,i&&`${b}-collapse-item--disabled`,!h&&`${b}-collapse-item--active`]},A("div",{class:[`${b}-collapse-item__header`,!h&&`${b}-collapse-item__header--active`]},A("div",{class:`${b}-collapse-item__header-main`,onClick:this.handleClick},l==="right"&&o,A("div",{class:`${b}-collapse-item-arrow`,key:this.rtlEnabled?0:1},u?u({collapsed:h}):A(ir,{clsPrefix:b},{default:(e=t.expandIcon)!==null&&e!==void 0?e:()=>this.rtlEnabled?A(Ju,null):A(Qn,null)})),l==="left"&&o),n&&A("div",{class:`${b}-collapse-item__header-extra`,onClick:this.handleClick},{default:n})),A(_f,{clsPrefix:b,displayDirective:y,show:!h},r))}}),yf=X([j("select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 `),j("select-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[Fr({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),wf=Object.assign(Object.assign({},We.props),{to:Sn.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,nodeProps:Function,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,internalShowCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array}),Sf=ue({name:"Select",props:wf,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:r,namespaceRef:l,inlineThemeDisabled:h}=ot(e),y=We("Select","-select",yf,sc,e,t),b=Y(e.defaultValue),i=Oe(e,"value"),o=yr(i,b),n=Y(!1),u=Y(""),f=ee(()=>{const{valueField:te,childrenField:me}=e,Se=Wh(te,me);return ra(B.value,Se)}),_=ee(()=>jh(D.value,e.valueField,e.childrenField)),v=Y(!1),g=yr(Oe(e,"show"),v),p=Y(null),s=Y(null),c=Y(null),{localeRef:a}=Un("Select"),d=ee(()=>{var te;return(te=e.placeholder)!==null&&te!==void 0?te:a.value.placeholder}),m=wn(e,["items","options"]),w=[],S=Y([]),k=Y([]),C=Y(new Map),E=ee(()=>{const{fallbackOption:te}=e;if(te===void 0){const{labelField:me,valueField:Se}=e;return ze=>({[me]:String(ze),[Se]:ze})}return te===!1?!1:me=>Object.assign(te(me),{value:me})}),D=ee(()=>k.value.concat(S.value).concat(m.value)),P=ee(()=>{const{filter:te}=e;if(te)return te;const{labelField:me,valueField:Se}=e;return(ze,Fe)=>{if(!Fe)return!1;const He=Fe[me];if(typeof He=="string")return un(ze,He);const $e=Fe[Se];return typeof $e=="string"?un(ze,$e):typeof $e=="number"?un(ze,String($e)):!1}}),B=ee(()=>{if(e.remote)return m.value;{const{value:te}=D,{value:me}=u;return!me.length||!e.filterable?te:Uh(te,P.value,me,e.childrenField)}});function x(te){const me=e.remote,{value:Se}=C,{value:ze}=_,{value:Fe}=E,He=[];return te.forEach($e=>{if(ze.has($e))He.push(ze.get($e));else if(me&&Se.has($e))He.push(Se.get($e));else if(Fe){const Ze=Fe($e);Ze&&He.push(Ze)}}),He}const R=ee(()=>{if(e.multiple){const{value:te}=o;return Array.isArray(te)?x(te):[]}return null}),T=ee(()=>{const{value:te}=o;return!e.multiple&&!Array.isArray(te)?te===null?null:x([te])[0]||null:null}),O=Xi(e),{mergedSizeRef:M,mergedDisabledRef:V,mergedStatusRef:F}=O;function W(te,me){const{onChange:Se,"onUpdate:value":ze,onUpdateValue:Fe}=e,{nTriggerFormChange:He,nTriggerFormInput:$e}=O;Se&&Be(Se,te,me),Fe&&Be(Fe,te,me),ze&&Be(ze,te,me),b.value=te,He(),$e()}function G(te){const{onBlur:me}=e,{nTriggerFormBlur:Se}=O;me&&Be(me,te),Se()}function ie(){const{onClear:te}=e;te&&Be(te)}function L(te){const{onFocus:me}=e,{nTriggerFormFocus:Se}=O;me&&Be(me,te),Se()}function q(te){const{onSearch:me}=e;me&&Be(me,te)}function Q(te){const{onScroll:me}=e;me&&Be(me,te)}function I(){var te;const{remote:me,multiple:Se}=e;if(me){const{value:ze}=C;if(Se){const{valueField:Fe}=e;(te=R.value)===null||te===void 0||te.forEach(He=>{ze.set(He[Fe],He)})}else{const Fe=T.value;Fe&&ze.set(Fe[e.valueField],Fe)}}}function z(te){const{onUpdateShow:me,"onUpdate:show":Se}=e;me&&Be(me,te),Se&&Be(Se,te),v.value=te}function se(){V.value||(z(!0),v.value=!0,e.filterable&&Ot())}function Z(){z(!1)}function fe(){u.value="",k.value=w}const le=Y(!1);function Le(){e.filterable&&(le.value=!0)}function pe(){e.filterable&&(le.value=!1,g.value||fe())}function Pe(){V.value||(g.value?e.filterable?Ot():Z():se())}function ce(te){var me,Se;!((Se=(me=c.value)===null||me===void 0?void 0:me.selfRef)===null||Se===void 0)&&Se.contains(te.relatedTarget)||(n.value=!1,G(te),Z())}function _e(te){L(te),n.value=!0}function ke(te){n.value=!0}function Ae(te){var me;!((me=p.value)===null||me===void 0)&&me.$el.contains(te.relatedTarget)||(n.value=!1,G(te),Z())}function Xe(){var te;(te=p.value)===null||te===void 0||te.focus(),Z()}function Me(te){var me;g.value&&(!((me=p.value)===null||me===void 0)&&me.$el.contains(zo(te))||Z())}function ae(te){if(!Array.isArray(te))return[];if(E.value)return Array.from(te);{const{remote:me}=e,{value:Se}=_;if(me){const{value:ze}=C;return te.filter(Fe=>Se.has(Fe)||ze.has(Fe))}else return te.filter(ze=>Se.has(ze))}}function ge(te){je(te.rawNode)}function je(te){if(V.value)return;const{tag:me,remote:Se,clearFilterAfterSelect:ze,valueField:Fe}=e;if(me&&!Se){const{value:He}=k,$e=He[0]||null;if($e){const Ze=S.value;Ze.length?Ze.push($e):S.value=[$e],k.value=w}}if(Se&&C.value.set(te[Fe],te),e.multiple){const He=ae(o.value),$e=He.findIndex(Ze=>Ze===te[Fe]);if(~$e){if(He.splice($e,1),me&&!Se){const Ze=ut(te[Fe]);~Ze&&(S.value.splice(Ze,1),ze&&(u.value=""))}}else He.push(te[Fe]),ze&&(u.value="");W(He,x(He))}else{if(me&&!Se){const He=ut(te[Fe]);~He?S.value=[S.value[He]]:S.value=w}Dt(),Z(),W(te[Fe],te)}}function ut(te){return S.value.findIndex(Se=>Se[e.valueField]===te)}function Zt(te){g.value||se();const{value:me}=te.target;u.value=me;const{tag:Se,remote:ze}=e;if(q(me),Se&&!ze){if(!me){k.value=w;return}const{onCreate:Fe}=e,He=Fe?Fe(me):{[e.labelField]:me,[e.valueField]:me},{valueField:$e}=e;m.value.some(Ze=>Ze[$e]===He[$e])||S.value.some(Ze=>Ze[$e]===He[$e])?k.value=w:k.value=[He]}}function Jt(te){te.stopPropagation();const{multiple:me}=e;!me&&e.filterable&&Z(),ie(),me?W([],[]):W(null,null)}function Qt(te){!Nr(te,"action")&&!Nr(te,"empty")&&te.preventDefault()}function Ht(te){Q(te)}function Nt(te){var me,Se,ze,Fe,He;switch(te.key){case" ":if(e.filterable)break;te.preventDefault();case"Enter":if(!(!((me=p.value)===null||me===void 0)&&me.isCompositing)){if(g.value){const $e=(Se=c.value)===null||Se===void 0?void 0:Se.getPendingTmNode();$e?ge($e):e.filterable||(Z(),Dt())}else if(se(),e.tag&&le.value){const $e=k.value[0];if($e){const Ze=$e[e.valueField],{value:$t}=o;e.multiple&&Array.isArray($t)&&$t.some(sr=>sr===Ze)||je($e)}}}te.preventDefault();break;case"ArrowUp":if(te.preventDefault(),e.loading)return;g.value&&((ze=c.value)===null||ze===void 0||ze.prev());break;case"ArrowDown":if(te.preventDefault(),e.loading)return;g.value?(Fe=c.value)===null||Fe===void 0||Fe.next():se();break;case"Escape":g.value&&(_u(te),Z()),(He=p.value)===null||He===void 0||He.focus();break}}function Dt(){var te;(te=p.value)===null||te===void 0||te.focus()}function Ot(){var te;(te=p.value)===null||te===void 0||te.focusInput()}function yt(){var te;!g.value||(te=s.value)===null||te===void 0||te.syncPosition()}I(),qe(Oe(e,"options"),I);const Mt={focus:()=>{var te;(te=p.value)===null||te===void 0||te.focus()},blur:()=>{var te;(te=p.value)===null||te===void 0||te.blur()}},Pt=ee(()=>{const{self:{menuBoxShadow:te}}=y.value;return{"--n-menu-box-shadow":te}}),st=h?gt("select",void 0,Pt,e):void 0;return Object.assign(Object.assign({},Mt),{mergedStatus:F,mergedClsPrefix:t,mergedBordered:r,namespace:l,treeMate:f,isMounted:Mo(),triggerRef:p,menuRef:c,pattern:u,uncontrolledShow:v,mergedShow:g,adjustedTo:Sn(e),uncontrolledValue:b,mergedValue:o,followerRef:s,localizedPlaceholder:d,selectedOption:T,selectedOptions:R,mergedSize:M,mergedDisabled:V,focused:n,activeWithoutMenuOpen:le,inlineThemeDisabled:h,onTriggerInputFocus:Le,onTriggerInputBlur:pe,handleTriggerOrMenuResize:yt,handleMenuFocus:ke,handleMenuBlur:Ae,handleMenuTabOut:Xe,handleTriggerClick:Pe,handleToggle:ge,handleDeleteOption:je,handlePatternInput:Zt,handleClear:Jt,handleTriggerBlur:ce,handleTriggerFocus:_e,handleKeydown:Nt,handleMenuAfterLeave:fe,handleMenuClickOutside:Me,handleMenuScroll:Ht,handleMenuKeydown:Nt,handleMenuMousedown:Qt,mergedTheme:y,cssVars:h?void 0:Pt,themeClass:st==null?void 0:st.themeClass,onRender:st==null?void 0:st.onRender})},render(){return A("div",{class:`${this.mergedClsPrefix}-select`},A(Po,null,{default:()=>[A($o,null,{default:()=>A(zh,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize},{arrow:()=>{var e,t;return[(t=(e=this.$slots).arrow)===null||t===void 0?void 0:t.call(e)]}})}),A(Io,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===Sn.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>A(Vr,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var e,t,r;return this.mergedShow||this.displayDirective==="show"?((e=this.onRender)===null||e===void 0||e.call(this),Hr(A(Mh,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:[`${this.mergedClsPrefix}-select-menu`,this.themeClass,(t=this.menuProps)===null||t===void 0?void 0:t.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,nodeProps:this.nodeProps,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:"medium",renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(r=this.menuProps)===null||r===void 0?void 0:r.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.internalShowCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var l,h;return[(h=(l=this.$slots).empty)===null||h===void 0?void 0:h.call(l)]},action:()=>{var l,h;return[(h=(l=this.$slots).action)===null||h===void 0?void 0:h.call(l)]}}),this.displayDirective==="show"?[[kr,this.mergedShow],[Cn,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[Cn,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),Cf=j("ellipsis",{overflow:"hidden"},[ct("line-clamp",`
 white-space: nowrap;
 display: inline-block;
 vertical-align: bottom;
 max-width: 100%;
 `),re("line-clamp",`
 display: -webkit-inline-box;
 -webkit-box-orient: vertical;
 `),re("cursor-pointer",`
 cursor: pointer;
 `)]);function Vs(e){return`${e}-ellipsis--line-clamp`}function Ks(e,t){return`${e}-ellipsis--cursor-${t}`}const xf=Object.assign(Object.assign({},We.props),{expandTrigger:String,lineClamp:[Number,String],tooltip:{type:[Boolean,Object],default:!0}}),fa=ue({name:"Ellipsis",inheritAttrs:!1,props:xf,setup(e,{slots:t,attrs:r}){const{mergedClsPrefixRef:l}=ot(e),h=We("Ellipsis","-ellipsis",Cf,oc,e,l),y=Y(null),b=Y(null),i=Y(null),o=Y(!1),n=ee(()=>{const{lineClamp:s}=e,{value:c}=o;return s!==void 0?{textOverflow:"","-webkit-line-clamp":c?"":s}:{textOverflow:c?"":"ellipsis","-webkit-line-clamp":""}});function u(){let s=!1;const{value:c}=o;if(c)return!0;const{value:a}=y;if(a){const{lineClamp:d}=e;if(v(a),d!==void 0)s=a.scrollHeight<=a.offsetHeight;else{const{value:m}=b;m&&(s=m.getBoundingClientRect().width<=a.getBoundingClientRect().width)}g(a,s)}return s}const f=ee(()=>e.expandTrigger==="click"?()=>{var s;const{value:c}=o;c&&((s=i.value)===null||s===void 0||s.setShow(!1)),o.value=!c}:void 0),_=()=>A("span",Object.assign({},Et(r,{class:[`${l.value}-ellipsis`,e.lineClamp!==void 0?Vs(l.value):void 0,e.expandTrigger==="click"?Ks(l.value,"pointer"):void 0],style:n.value}),{ref:"triggerRef",onClick:f.value,onMouseenter:e.expandTrigger==="click"?u:void 0}),e.lineClamp?t:A("span",{ref:"triggerInnerRef"},t));function v(s){if(!s)return;const c=n.value,a=Vs(l.value);e.lineClamp!==void 0?p(s,a,"add"):p(s,a,"remove");for(const d in c)s.style[d]!==c[d]&&(s.style[d]=c[d])}function g(s,c){const a=Ks(l.value,"pointer");e.expandTrigger==="click"&&!c?p(s,a,"add"):p(s,a,"remove")}function p(s,c,a){a==="add"?s.classList.contains(c)||s.classList.add(c):s.classList.contains(c)&&s.classList.remove(c)}return{mergedTheme:h,triggerRef:y,triggerInnerRef:b,tooltipRef:i,handleClick:f,renderTrigger:_,getTooltipDisabled:u}},render(){var e;const{tooltip:t,renderTrigger:r,$slots:l}=this;if(t){const{mergedTheme:h}=this;return A(ac,Object.assign({ref:"tooltipRef",placement:"top"},t,{getDisabled:this.getTooltipDisabled,theme:h.peers.Tooltip,themeOverrides:h.peerOverrides.Tooltip}),{trigger:r,default:(e=l.tooltip)!==null&&e!==void 0?e:l.default})}else return r()}}),pa=ue({name:"DropdownDivider",props:{clsPrefix:{type:String,required:!0}},render(){return A("div",{class:`${this.clsPrefix}-dropdown-divider`})}}),rs=Yt("n-dropdown-menu"),Ji=Yt("n-dropdown"),qs=Yt("n-dropdown-option");function An(e,t){return e.type==="submenu"||e.type===void 0&&e[t]!==void 0}function kf(e){return e.type==="group"}function va(e){return e.type==="divider"}function Ef(e){return e.type==="render"}const ga=ue({name:"DropdownOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null},placement:{type:String,default:"right-start"},props:Object,scrollable:Boolean},setup(e){const t=nt(Ji),{hoverKeyRef:r,keyboardKeyRef:l,lastToggledSubmenuKeyRef:h,pendingKeyPathRef:y,activeKeyPathRef:b,animatedRef:i,mergedShowRef:o,renderLabelRef:n,renderIconRef:u,labelFieldRef:f,childrenFieldRef:_,renderOptionRef:v,nodePropsRef:g,menuPropsRef:p}=t,s=nt(qs,null),c=nt(rs),a=nt(Xn),d=ee(()=>e.tmNode.rawNode),m=ee(()=>{const{value:M}=_;return An(e.tmNode.rawNode,M)}),w=ee(()=>{const{disabled:M}=e.tmNode;return M}),S=ee(()=>{if(!m.value)return!1;const{key:M,disabled:V}=e.tmNode;if(V)return!1;const{value:F}=r,{value:W}=l,{value:G}=h,{value:ie}=y;return F!==null?ie.includes(M):W!==null?ie.includes(M)&&ie[ie.length-1]!==M:G!==null?ie.includes(M):!1}),k=ee(()=>l.value===null&&!i.value),C=bu(S,300,k),E=ee(()=>!!(s!=null&&s.enteringSubmenuRef.value)),D=Y(!1);at(qs,{enteringSubmenuRef:D});function P(){D.value=!0}function B(){D.value=!1}function x(){const{parentKey:M,tmNode:V}=e;V.disabled||!o.value||(h.value=M,l.value=null,r.value=V.key)}function R(){const{tmNode:M}=e;M.disabled||!o.value||r.value!==M.key&&x()}function T(M){if(e.tmNode.disabled||!o.value)return;const{relatedTarget:V}=M;V&&!Nr({target:V},"dropdownOption")&&!Nr({target:V},"scrollbarRail")&&(r.value=null)}function O(){const{value:M}=m,{tmNode:V}=e;!o.value||!M&&!V.disabled&&(t.doSelect(V.key,V.rawNode),t.doUpdateShow(!1))}return{labelField:f,renderLabel:n,renderIcon:u,siblingHasIcon:c.showIconRef,siblingHasSubmenu:c.hasSubmenuRef,menuProps:p,popoverBody:a,animated:i,mergedShowSubmenu:ee(()=>C.value&&!E.value),rawNode:d,hasSubmenu:m,pending:wt(()=>{const{value:M}=y,{key:V}=e.tmNode;return M.includes(V)}),childActive:wt(()=>{const{value:M}=b,{key:V}=e.tmNode,F=M.findIndex(W=>V===W);return F===-1?!1:F<M.length-1}),active:wt(()=>{const{value:M}=b,{key:V}=e.tmNode,F=M.findIndex(W=>V===W);return F===-1?!1:F===M.length-1}),mergedDisabled:w,renderOption:v,nodeProps:g,handleClick:O,handleMouseMove:R,handleMouseEnter:x,handleMouseLeave:T,handleSubmenuBeforeEnter:P,handleSubmenuAfterEnter:B}},render(){var e,t;const{animated:r,rawNode:l,mergedShowSubmenu:h,clsPrefix:y,siblingHasIcon:b,siblingHasSubmenu:i,renderLabel:o,renderIcon:n,renderOption:u,nodeProps:f,props:_,scrollable:v}=this;let g=null;if(h){const a=(e=this.menuProps)===null||e===void 0?void 0:e.call(this,l,l.children);g=A(_a,Object.assign({},a,{clsPrefix:y,scrollable:this.scrollable,tmNodes:this.tmNode.children,parentKey:this.tmNode.key}))}const p={class:[`${y}-dropdown-option-body`,this.pending&&`${y}-dropdown-option-body--pending`,this.active&&`${y}-dropdown-option-body--active`,this.childActive&&`${y}-dropdown-option-body--child-active`,this.mergedDisabled&&`${y}-dropdown-option-body--disabled`],onMousemove:this.handleMouseMove,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onClick:this.handleClick},s=f==null?void 0:f(l),c=A("div",Object.assign({class:[`${y}-dropdown-option`,s==null?void 0:s.class],"data-dropdown-option":!0},s),A("div",Et(p,_),[A("div",{class:[`${y}-dropdown-option-body__prefix`,b&&`${y}-dropdown-option-body__prefix--show-icon`]},[n?n(l):mt(l.icon)]),A("div",{"data-dropdown-option":!0,class:`${y}-dropdown-option-body__label`},o?o(l):mt((t=l[this.labelField])!==null&&t!==void 0?t:l.title)),A("div",{"data-dropdown-option":!0,class:[`${y}-dropdown-option-body__suffix`,i&&`${y}-dropdown-option-body__suffix--has-submenu`]},this.hasSubmenu?A(Je,null,{default:()=>A(Qn,null)}):null)]),this.hasSubmenu?A(Po,null,{default:()=>[A($o,null,{default:()=>A("div",{class:`${y}-dropdown-offset-container`},A(Io,{show:this.mergedShowSubmenu,placement:this.placement,to:v&&this.popoverBody||void 0,teleportDisabled:!v},{default:()=>A("div",{class:`${y}-dropdown-menu-wrapper`},r?A(Vr,{onBeforeEnter:this.handleSubmenuBeforeEnter,onAfterEnter:this.handleSubmenuAfterEnter,name:"fade-in-scale-up-transition",appear:!0},{default:()=>g}):g)}))})]}):null);return u?u({node:c,option:l}):c}}),Rf=ue({name:"DropdownGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{showIconRef:e,hasSubmenuRef:t}=nt(rs),{renderLabelRef:r,labelFieldRef:l,nodePropsRef:h,renderOptionRef:y}=nt(Ji);return{labelField:l,showIcon:e,hasSubmenu:t,renderLabel:r,nodeProps:h,renderOption:y}},render(){var e;const{clsPrefix:t,hasSubmenu:r,showIcon:l,nodeProps:h,renderLabel:y,renderOption:b}=this,{rawNode:i}=this.tmNode,o=A("div",Object.assign({class:`${t}-dropdown-option`},h==null?void 0:h(i)),A("div",{class:`${t}-dropdown-option-body ${t}-dropdown-option-body--group`},A("div",{"data-dropdown-option":!0,class:[`${t}-dropdown-option-body__prefix`,l&&`${t}-dropdown-option-body__prefix--show-icon`]},mt(i.icon)),A("div",{class:`${t}-dropdown-option-body__label`,"data-dropdown-option":!0},y?y(i):mt((e=i.title)!==null&&e!==void 0?e:i[this.labelField])),A("div",{class:[`${t}-dropdown-option-body__suffix`,r&&`${t}-dropdown-option-body__suffix--has-submenu`],"data-dropdown-option":!0})));return b?b({node:o,option:i}):o}}),Tf=ue({name:"NDropdownGroup",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null}},render(){const{tmNode:e,parentKey:t,clsPrefix:r}=this,{children:l}=e;return A(et,null,A(Rf,{clsPrefix:r,tmNode:e,key:e.key}),l==null?void 0:l.map(h=>{const{rawNode:y}=h;return y.show===!1?null:va(y)?A(pa,{clsPrefix:r,key:h.key}):h.isGroup?(Fo("dropdown","`group` node is not allowed to be put in `group` node."),null):A(ga,{clsPrefix:r,tmNode:h,parentKey:t,key:h.key})}))}}),Lf=ue({name:"DropdownRenderOption",props:{tmNode:{type:Object,required:!0}},render(){const{rawNode:{render:e,props:t}}=this.tmNode;return A("div",t,[e==null?void 0:e()])}}),_a=ue({name:"DropdownMenu",props:{scrollable:Boolean,showArrow:Boolean,arrowStyle:[String,Object],clsPrefix:{type:String,required:!0},tmNodes:{type:Array,default:()=>[]},parentKey:{type:[String,Number],default:null}},setup(e){const{renderIconRef:t,childrenFieldRef:r}=nt(Ji);at(rs,{showIconRef:ee(()=>{const h=t.value;return e.tmNodes.some(y=>{var b;if(y.isGroup)return(b=y.children)===null||b===void 0?void 0:b.some(({rawNode:o})=>h?h(o):o.icon);const{rawNode:i}=y;return h?h(i):i.icon})}),hasSubmenuRef:ee(()=>{const{value:h}=r;return e.tmNodes.some(y=>{var b;if(y.isGroup)return(b=y.children)===null||b===void 0?void 0:b.some(({rawNode:o})=>An(o,h));const{rawNode:i}=y;return An(i,h)})})});const l=Y(null);return at(No,null),at(Ho,null),at(Xn,l),{bodyRef:l}},render(){const{parentKey:e,clsPrefix:t,scrollable:r}=this,l=this.tmNodes.map(h=>{const{rawNode:y}=h;return y.show===!1?null:Ef(y)?A(Lf,{tmNode:h,key:h.key}):va(y)?A(pa,{clsPrefix:t,key:h.key}):kf(y)?A(Tf,{clsPrefix:t,tmNode:h,parentKey:e,key:h.key}):A(ga,{clsPrefix:t,tmNode:h,parentKey:e,key:h.key,props:y.props,scrollable:r})});return A("div",{class:[`${t}-dropdown-menu`,r&&`${t}-dropdown-menu--scrollable`],ref:"bodyRef"},r?A(cc,{contentClass:`${t}-dropdown-menu__content`},{default:()=>l}):l,this.showArrow?lc({clsPrefix:t,arrowStyle:this.arrowStyle}):null)}}),Af=j("dropdown-menu",`
 transform-origin: var(--v-transform-origin);
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 position: relative;
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
`,[Fr(),j("dropdown-option",`
 position: relative;
 `,[X("a",`
 text-decoration: none;
 color: inherit;
 outline: none;
 `,[X("&::before",`
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),j("dropdown-option-body",`
 display: flex;
 cursor: pointer;
 position: relative;
 height: var(--n-option-height);
 line-height: var(--n-option-height);
 font-size: var(--n-font-size);
 color: var(--n-option-text-color);
 transition: color .3s var(--n-bezier);
 `,[X("&::before",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 left: 4px;
 right: 4px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `),ct("disabled",[re("pending",`
 color: var(--n-option-text-color-hover);
 `,[H("prefix, suffix",`
 color: var(--n-option-text-color-hover);
 `),X("&::before","background-color: var(--n-option-color-hover);")]),re("active",`
 color: var(--n-option-text-color-active);
 `,[H("prefix, suffix",`
 color: var(--n-option-text-color-active);
 `),X("&::before","background-color: var(--n-option-color-active);")]),re("child-active",`
 color: var(--n-option-text-color-child-active);
 `,[H("prefix, suffix",`
 color: var(--n-option-text-color-child-active);
 `)])]),re("disabled",`
 cursor: not-allowed;
 opacity: var(--n-option-opacity-disabled);
 `),re("group",`
 font-size: calc(var(--n-font-size) - 1px);
 color: var(--n-group-header-text-color);
 `,[H("prefix",`
 width: calc(var(--n-option-prefix-width) / 2);
 `,[re("show-icon",`
 width: calc(var(--n-option-icon-prefix-width) / 2);
 `)])]),H("prefix",`
 width: var(--n-option-prefix-width);
 display: flex;
 justify-content: center;
 align-items: center;
 color: var(--n-prefix-color);
 transition: color .3s var(--n-bezier);
 z-index: 1;
 `,[re("show-icon",`
 width: var(--n-option-icon-prefix-width);
 `),j("icon",`
 font-size: var(--n-option-icon-size);
 `)]),H("label",`
 white-space: nowrap;
 flex: 1;
 z-index: 1;
 `),H("suffix",`
 box-sizing: border-box;
 flex-grow: 0;
 flex-shrink: 0;
 display: flex;
 justify-content: flex-end;
 align-items: center;
 min-width: var(--n-option-suffix-width);
 padding: 0 8px;
 transition: color .3s var(--n-bezier);
 color: var(--n-suffix-color);
 z-index: 1;
 `,[re("has-submenu",`
 width: var(--n-option-icon-suffix-width);
 `),j("icon",`
 font-size: var(--n-option-icon-size);
 `)]),j("dropdown-menu","pointer-events: all;")]),j("dropdown-offset-container",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: -4px;
 bottom: -4px;
 `)]),j("dropdown-divider",`
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-divider-color);
 height: 1px;
 margin: 4px 0;
 `),j("dropdown-menu-wrapper",`
 transform-origin: var(--v-transform-origin);
 width: fit-content;
 `),X(">",[j("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),ct("scrollable",`
 padding: var(--n-padding);
 `),re("scrollable",[H("content",`
 padding: var(--n-padding);
 `)])]),Bf={animated:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},size:{type:String,default:"medium"},inverted:Boolean,placement:{type:String,default:"bottom"},onSelect:[Function,Array],options:{type:Array,default:()=>[]},menuProps:Function,showArrow:Boolean,renderLabel:Function,renderIcon:Function,renderOption:Function,nodeProps:Function,labelField:{type:String,default:"label"},keyField:{type:String,default:"key"},childrenField:{type:String,default:"children"},value:[String,Number]},Df=Object.keys(Wo),Of=Object.assign(Object.assign(Object.assign({},Wo),Bf),We.props),Mf=ue({name:"Dropdown",inheritAttrs:!1,props:Of,setup(e){const t=Y(!1),r=yr(Oe(e,"show"),t),l=ee(()=>{const{keyField:B,childrenField:x}=e;return ra(e.options,{getKey(R){return R[B]},getDisabled(R){return R.disabled===!0},getIgnored(R){return R.type==="divider"||R.type==="render"},getChildren(R){return R[x]}})}),h=ee(()=>l.value.treeNodes),y=Y(null),b=Y(null),i=Y(null),o=ee(()=>{var B,x,R;return(R=(x=(B=y.value)!==null&&B!==void 0?B:b.value)!==null&&x!==void 0?x:i.value)!==null&&R!==void 0?R:null}),n=ee(()=>l.value.getPath(o.value).keyPath),u=ee(()=>l.value.getPath(e.value).keyPath),f=wt(()=>e.keyboard&&r.value);Eu({keydown:{ArrowUp:{prevent:!0,handler:w},ArrowRight:{prevent:!0,handler:m},ArrowDown:{prevent:!0,handler:S},ArrowLeft:{prevent:!0,handler:d},Enter:{prevent:!0,handler:k},Escape:a}},f);const{mergedClsPrefixRef:_,inlineThemeDisabled:v}=ot(e),g=We("Dropdown","-dropdown",Af,dc,e,_);at(Ji,{labelFieldRef:Oe(e,"labelField"),childrenFieldRef:Oe(e,"childrenField"),renderLabelRef:Oe(e,"renderLabel"),renderIconRef:Oe(e,"renderIcon"),hoverKeyRef:y,keyboardKeyRef:b,lastToggledSubmenuKeyRef:i,pendingKeyPathRef:n,activeKeyPathRef:u,animatedRef:Oe(e,"animated"),mergedShowRef:r,nodePropsRef:Oe(e,"nodeProps"),renderOptionRef:Oe(e,"renderOption"),menuPropsRef:Oe(e,"menuProps"),doSelect:p,doUpdateShow:s}),qe(r,B=>{!e.animated&&!B&&c()});function p(B,x){const{onSelect:R}=e;R&&Be(R,B,x)}function s(B){const{"onUpdate:show":x,onUpdateShow:R}=e;x&&Be(x,B),R&&Be(R,B),t.value=B}function c(){y.value=null,b.value=null,i.value=null}function a(){s(!1)}function d(){E("left")}function m(){E("right")}function w(){E("up")}function S(){E("down")}function k(){const B=C();(B==null?void 0:B.isLeaf)&&r.value&&(p(B.key,B.rawNode),s(!1))}function C(){var B;const{value:x}=l,{value:R}=o;return!x||R===null?null:(B=x.getNode(R))!==null&&B!==void 0?B:null}function E(B){const{value:x}=o,{value:{getFirstAvailableNode:R}}=l;let T=null;if(x===null){const O=R();O!==null&&(T=O.key)}else{const O=C();if(O){let M;switch(B){case"down":M=O.getNext();break;case"up":M=O.getPrev();break;case"right":M=O.getChild();break;case"left":M=O.getParent();break}M&&(T=M.key)}}T!==null&&(y.value=null,b.value=T)}const D=ee(()=>{const{size:B,inverted:x}=e,{common:{cubicBezierEaseInOut:R},self:T}=g.value,{padding:O,dividerColor:M,borderRadius:V,optionOpacityDisabled:F,[ve("optionIconSuffixWidth",B)]:W,[ve("optionSuffixWidth",B)]:G,[ve("optionIconPrefixWidth",B)]:ie,[ve("optionPrefixWidth",B)]:L,[ve("fontSize",B)]:q,[ve("optionHeight",B)]:Q,[ve("optionIconSize",B)]:I}=T,z={"--n-bezier":R,"--n-font-size":q,"--n-padding":O,"--n-border-radius":V,"--n-option-height":Q,"--n-option-prefix-width":L,"--n-option-icon-prefix-width":ie,"--n-option-suffix-width":G,"--n-option-icon-suffix-width":W,"--n-option-icon-size":I,"--n-divider-color":M,"--n-option-opacity-disabled":F};return x?(z["--n-color"]=T.colorInverted,z["--n-option-color-hover"]=T.optionColorHoverInverted,z["--n-option-color-active"]=T.optionColorActiveInverted,z["--n-option-text-color"]=T.optionTextColorInverted,z["--n-option-text-color-hover"]=T.optionTextColorHoverInverted,z["--n-option-text-color-active"]=T.optionTextColorActiveInverted,z["--n-option-text-color-child-active"]=T.optionTextColorChildActiveInverted,z["--n-prefix-color"]=T.prefixColorInverted,z["--n-suffix-color"]=T.suffixColorInverted,z["--n-group-header-text-color"]=T.groupHeaderTextColorInverted):(z["--n-color"]=T.color,z["--n-option-color-hover"]=T.optionColorHover,z["--n-option-color-active"]=T.optionColorActive,z["--n-option-text-color"]=T.optionTextColor,z["--n-option-text-color-hover"]=T.optionTextColorHover,z["--n-option-text-color-active"]=T.optionTextColorActive,z["--n-option-text-color-child-active"]=T.optionTextColorChildActive,z["--n-prefix-color"]=T.prefixColor,z["--n-suffix-color"]=T.suffixColor,z["--n-group-header-text-color"]=T.groupHeaderTextColor),z}),P=v?gt("dropdown",ee(()=>`${e.size[0]}${e.inverted?"i":""}`),D,e):void 0;return{mergedClsPrefix:_,mergedTheme:g,tmNodes:h,mergedShow:r,handleAfterLeave:()=>{!e.animated||c()},doUpdateShow:s,cssVars:v?void 0:D,themeClass:P==null?void 0:P.themeClass,onRender:P==null?void 0:P.onRender}},render(){const e=(l,h,y,b,i)=>{var o;const{mergedClsPrefix:n,menuProps:u}=this;(o=this.onRender)===null||o===void 0||o.call(this);const f=(u==null?void 0:u(void 0,this.tmNodes.map(v=>v.rawNode)))||{},_={ref:vu(h),class:[l,`${n}-dropdown`,this.themeClass],clsPrefix:n,tmNodes:this.tmNodes,style:[y,this.cssVars],showArrow:this.showArrow,arrowStyle:this.arrowStyle,scrollable:this.scrollable,onMouseenter:b,onMouseleave:i};return A(_a,Et(this.$attrs,_,f))},{mergedTheme:t}=this,r={show:this.mergedShow,theme:t.peers.Popover,themeOverrides:t.peerOverrides.Popover,internalOnAfterLeave:this.handleAfterLeave,internalRenderBody:e,onUpdateShow:this.doUpdateShow,"onUpdate:show":void 0};return A(Er,Object.assign({},Ii(this.$props,Df),r),{trigger:()=>{var l,h;return(h=(l=this.$slots).default)===null||h===void 0?void 0:h.call(l)}})}});var ma=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const is={icon:Function,type:{type:String,default:"default"},title:[String,Function],closable:{type:Boolean,default:!0},negativeText:String,positiveText:String,positiveButtonProps:Object,negativeButtonProps:Object,content:[String,Function],action:Function,showIcon:{type:Boolean,default:!0},loading:Boolean,bordered:Boolean,iconPlacement:String,onPositiveClick:Function,onNegativeClick:Function,onClose:Function},$f=Yn(is),If=X([j("dialog",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: relative;
 background: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 margin: auto;
 border-radius: var(--n-border-radius);
 padding: var(--n-padding);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[H("icon",{color:"var(--n-icon-color)"}),re("bordered",{border:"var(--n-border)"}),re("icon-top",[H("close",{margin:"var(--n-close-margin)"}),H("icon",{margin:"var(--n-icon-margin)"}),H("content",{textAlign:"center"}),H("title",{justifyContent:"center"}),H("action",{justifyContent:"center"})]),re("icon-left",[H("icon",{margin:"var(--n-icon-margin)"}),re("closable",[H("title",`
 padding-right: calc(var(--n-close-size) + 6px);
 `)])]),H("close",`
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 z-index: 1;
 `),H("content",`
 font-size: var(--n-font-size);
 margin: var(--n-content-margin);
 position: relative;
 word-break: break-word;
 `,[re("last","margin-bottom: 0;")]),H("action",`
 display: flex;
 justify-content: flex-end;
 `,[X("> *:not(:last-child)",{marginRight:"var(--n-action-space)"})]),H("icon",{fontSize:"var(--n-icon-size)",transition:"color .3s var(--n-bezier)"}),H("title",`
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),j("dialog-icon-container",{display:"flex",justifyContent:"center"})]),Yi(j("dialog",`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)),j("dialog",[Oo(`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)])]),zf={default:()=>A(_s,null),info:()=>A(_s,null),success:()=>A(hc,null),warning:()=>A(fc,null),error:()=>A(pc,null)},Ff=ue({name:"Dialog",alias:["NimbusConfirmCard","Confirm"],props:Object.assign(Object.assign({},We.props),is),setup(e){const{mergedComponentPropsRef:t,mergedClsPrefixRef:r,inlineThemeDisabled:l}=ot(e),h=ee(()=>{var f,_;const{iconPlacement:v}=e;return v||((_=(f=t==null?void 0:t.value)===null||f===void 0?void 0:f.Dialog)===null||_===void 0?void 0:_.iconPlacement)||"left"});function y(f){const{onPositiveClick:_}=e;_&&_(f)}function b(f){const{onNegativeClick:_}=e;_&&_(f)}function i(){const{onClose:f}=e;f&&f()}const o=We("Dialog","-dialog",If,uc,e,r),n=ee(()=>{const{type:f}=e,_=h.value,{common:{cubicBezierEaseInOut:v},self:{fontSize:g,lineHeight:p,border:s,titleTextColor:c,textColor:a,color:d,closeBorderRadius:m,closeColorHover:w,closeColorPressed:S,closeIconColor:k,closeIconColorHover:C,closeIconColorPressed:E,closeIconSize:D,borderRadius:P,titleFontWeight:B,titleFontSize:x,padding:R,iconSize:T,actionSpace:O,contentMargin:M,closeSize:V,[_==="top"?"iconMarginIconTop":"iconMargin"]:F,[_==="top"?"closeMarginIconTop":"closeMargin"]:W,[ve("iconColor",f)]:G}}=o.value;return{"--n-font-size":g,"--n-icon-color":G,"--n-bezier":v,"--n-close-margin":W,"--n-icon-margin":F,"--n-icon-size":T,"--n-close-size":V,"--n-close-icon-size":D,"--n-close-border-radius":m,"--n-close-color-hover":w,"--n-close-color-pressed":S,"--n-close-icon-color":k,"--n-close-icon-color-hover":C,"--n-close-icon-color-pressed":E,"--n-color":d,"--n-text-color":a,"--n-border-radius":P,"--n-padding":R,"--n-line-height":p,"--n-border":s,"--n-content-margin":M,"--n-title-font-size":x,"--n-title-font-weight":B,"--n-title-text-color":c,"--n-action-space":O}}),u=l?gt("dialog",ee(()=>`${e.type[0]}${h.value[0]}`),n,e):void 0;return{mergedClsPrefix:r,mergedIconPlacement:h,mergedTheme:o,handlePositiveClick:y,handleNegativeClick:b,handleCloseClick:i,cssVars:l?void 0:n,themeClass:u==null?void 0:u.themeClass,onRender:u==null?void 0:u.onRender}},render(){var e;const{bordered:t,mergedIconPlacement:r,cssVars:l,closable:h,showIcon:y,title:b,content:i,action:o,negativeText:n,positiveText:u,positiveButtonProps:f,negativeButtonProps:_,handlePositiveClick:v,handleNegativeClick:g,mergedTheme:p,loading:s,type:c,mergedClsPrefix:a}=this;(e=this.onRender)===null||e===void 0||e.call(this);const d=y?A(ir,{clsPrefix:a,class:`${a}-dialog__icon`},{default:()=>Qe(this.$slots.icon,w=>w||(this.icon?mt(this.icon):zf[this.type]()))}):null,m=Qe(this.$slots.action,w=>w||u||n||o?A("div",{class:`${a}-dialog__action`},w||(o?[mt(o)]:[this.negativeText&&A(Ye,Object.assign({theme:p.peers.Button,themeOverrides:p.peerOverrides.Button,ghost:!0,size:"small",onClick:g},_),{default:()=>mt(this.negativeText)}),this.positiveText&&A(Ye,Object.assign({theme:p.peers.Button,themeOverrides:p.peerOverrides.Button,size:"small",type:c==="default"?"primary":c,disabled:s,loading:s,onClick:v},f),{default:()=>mt(this.positiveText)})])):null);return A("div",{class:[`${a}-dialog`,this.themeClass,this.closable&&`${a}-dialog--closable`,`${a}-dialog--icon-${r}`,t&&`${a}-dialog--bordered`],style:l,role:"dialog"},h?A(Gn,{clsPrefix:a,class:`${a}-dialog__close`,onClick:this.handleCloseClick}):null,y&&r==="top"?A("div",{class:`${a}-dialog-icon-container`},d):null,A("div",{class:`${a}-dialog__title`},y&&r==="left"?d:null,dr(this.$slots.header,()=>[mt(b)])),A("div",{class:[`${a}-dialog__content`,m?"":`${a}-dialog__content--last`]},dr(this.$slots.default,()=>[mt(i)])),m)}}),Hf=Yt("n-dialog-provider"),ns=Object.assign(Object.assign({},ts),is),Nf=Yn(ns),Wf=ue({name:"ModalBody",inheritAttrs:!1,props:Object.assign(Object.assign({show:{type:Boolean,required:!0},preset:String,displayDirective:{type:String,required:!0},trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},blockScroll:Boolean},ns),{renderMask:Function,onClickoutside:Function,onBeforeLeave:{type:Function,required:!0},onAfterLeave:{type:Function,required:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0},onClose:{type:Function,required:!0},onAfterEnter:Function,onEsc:Function}),setup(e){const t=Y(null),r=Y(null),l=Y(e.show),h=Y(null),y=Y(null);qe(Oe(e,"show"),s=>{s&&(l.value=!0)}),Mu(ee(()=>e.blockScroll&&l.value));const b=nt(Uo);function i(){if(b.transformOriginRef.value==="center")return"";const{value:s}=h,{value:c}=y;if(s===null||c===null)return"";if(r.value){const a=r.value.containerScrollTop;return`${s}px ${c+a}px`}return""}function o(s){if(b.transformOriginRef.value==="center")return;const c=b.getMousePosition();if(!c||!r.value)return;const a=r.value.containerScrollTop,{offsetLeft:d,offsetTop:m}=s;if(c){const w=c.y,S=c.x;h.value=-(d-S),y.value=-(m-w-a)}s.style.transformOrigin=i()}function n(s){bt(()=>{o(s)})}function u(s){s.style.transformOrigin=i(),e.onBeforeLeave()}function f(){l.value=!1,h.value=null,y.value=null,e.onAfterLeave()}function _(){const{onClose:s}=e;s&&s()}function v(){e.onNegativeClick()}function g(){e.onPositiveClick()}const p=Y(null);return qe(p,s=>{s&&bt(()=>{const c=s.el;c&&t.value!==c&&(t.value=c)})}),at(No,t),at(Ho,null),at(Xn,null),{mergedTheme:b.mergedThemeRef,appear:b.appearRef,isMounted:b.isMountedRef,mergedClsPrefix:b.mergedClsPrefixRef,bodyRef:t,scrollbarRef:r,displayed:l,childNodeRef:p,handlePositiveClick:g,handleNegativeClick:v,handleCloseClick:_,handleAfterLeave:f,handleBeforeLeave:u,handleEnter:n}},render(){const{$slots:e,$attrs:t,handleEnter:r,handleAfterLeave:l,handleBeforeLeave:h,preset:y,mergedClsPrefix:b}=this;let i=null;if(!y){if(i=vc(e),!i){Fo("modal","default slot is empty");return}i=zi(i),i.props=Et({class:`${b}-modal`},t,i.props||{})}return this.displayDirective==="show"||this.displayed||this.show?Hr(A("div",{role:"none",class:`${b}-modal-body-wrapper`},A(Gi,{ref:"scrollbarRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:`${b}-modal-scroll-content`},{default:()=>{var o;return[(o=this.renderMask)===null||o===void 0?void 0:o.call(this),A(gc,{disabled:!this.trapFocus,active:this.show,onEsc:this.onEsc,autoFocus:this.autoFocus},{default:()=>{var n;return A(Vr,{name:"fade-in-scale-up-transition",appear:(n=this.appear)!==null&&n!==void 0?n:this.isMounted,onEnter:r,onAfterEnter:this.onAfterEnter,onAfterLeave:l,onBeforeLeave:h},{default:()=>{const u=[[kr,this.show]],{onClickoutside:f}=this;return f&&u.push([Cn,this.onClickoutside,void 0,{capture:!0}]),Hr(this.preset==="confirm"||this.preset==="dialog"?A(Ff,Object.assign({},this.$attrs,{class:[`${b}-modal`,this.$attrs.class],ref:"bodyRef",theme:this.mergedTheme.peers.Dialog,themeOverrides:this.mergedTheme.peerOverrides.Dialog},Ii(this.$props,$f),{"aria-modal":"true"}),e):this.preset==="card"?A(Tr,Object.assign({},this.$attrs,{ref:"bodyRef",class:[`${b}-modal`,this.$attrs.class],theme:this.mergedTheme.peers.Card,themeOverrides:this.mergedTheme.peerOverrides.Card},Ii(this.$props,hf),{"aria-modal":"true",role:"dialog"}),e):this.childNodeRef=i,u)}})}})]}})),[[kr,this.displayDirective==="if"||this.displayed||this.show]]):null}}),Uf=X([j("modal-container",`
 position: fixed;
 left: 0;
 top: 0;
 height: 0;
 width: 0;
 display: flex;
 `),j("modal-mask",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background-color: rgba(0, 0, 0, .4);
 `,[_c({enterDuration:".25s",leaveDuration:".25s",enterCubicBezier:"var(--n-bezier-ease-out)",leaveCubicBezier:"var(--n-bezier-ease-out)"})]),j("modal-body-wrapper",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: visible;
 `,[j("modal-scroll-content",`
 min-height: 100%;
 display: flex;
 position: relative;
 `)]),j("modal",`
 position: relative;
 align-self: center;
 color: var(--n-text-color);
 margin: auto;
 box-shadow: var(--n-box-shadow);
 `,[Fr({duration:".25s",enterScale:".5"})])]),jf=Object.assign(Object.assign(Object.assign(Object.assign({},We.props),{show:Boolean,unstableShowMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preset:String,to:[String,Object],displayDirective:{type:String,default:"if"},transformOrigin:{type:String,default:"mouse"},zIndex:Number,autoFocus:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0}}),ns),{onEsc:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onBeforeLeave:Function,onAfterLeave:Function,onClose:Function,onPositiveClick:Function,onNegativeClick:Function,onMaskClick:Function,internalDialog:Boolean,internalAppear:{type:Boolean,default:void 0},overlayStyle:[String,Object],onBeforeHide:Function,onAfterHide:Function,onHide:Function}),ss=ue({name:"Modal",inheritAttrs:!1,props:jf,setup(e){const t=Y(null),{mergedClsPrefixRef:r,namespaceRef:l,inlineThemeDisabled:h}=ot(e),y=We("Modal","-modal",Uf,bc,e,r),b=Su(64),i=yu(),o=Mo(),n=e.internalDialog?nt(Hf,null):null,u=Pu();function f(w){const{onUpdateShow:S,"onUpdate:show":k,onHide:C}=e;S&&Be(S,w),k&&Be(k,w),C&&!w&&C(w)}function _(){const{onClose:w}=e;w?Promise.resolve(w()).then(S=>{S!==!1&&f(!1)}):f(!1)}function v(){const{onPositiveClick:w}=e;w?Promise.resolve(w()).then(S=>{S!==!1&&f(!1)}):f(!1)}function g(){const{onNegativeClick:w}=e;w?Promise.resolve(w()).then(S=>{S!==!1&&f(!1)}):f(!1)}function p(){const{onBeforeLeave:w,onBeforeHide:S}=e;w&&Be(w),S&&S()}function s(){const{onAfterLeave:w,onAfterHide:S}=e;w&&Be(w),S&&S()}function c(w){var S;const{onMaskClick:k}=e;k&&k(w),e.maskClosable&&!((S=t.value)===null||S===void 0)&&S.contains(zo(w))&&f(!1)}function a(w){var S;(S=e.onEsc)===null||S===void 0||S.call(e),e.show&&e.closeOnEsc&&mu(w)&&!u.value&&f(!1)}at(Uo,{getMousePosition:()=>{if(n){const{clickedRef:w,clickPositionRef:S}=n;if(w.value&&S.value)return S.value}return b.value?i.value:null},mergedClsPrefixRef:r,mergedThemeRef:y,isMountedRef:o,appearRef:Oe(e,"internalAppear"),transformOriginRef:Oe(e,"transformOrigin")});const d=ee(()=>{const{common:{cubicBezierEaseOut:w},self:{boxShadow:S,color:k,textColor:C}}=y.value;return{"--n-bezier-ease-out":w,"--n-box-shadow":S,"--n-color":k,"--n-text-color":C}}),m=h?gt("theme-class",void 0,d,e):void 0;return{mergedClsPrefix:r,namespace:l,isMounted:o,containerRef:t,presetProps:ee(()=>Ii(e,Nf)),handleEsc:a,handleAfterLeave:s,handleClickoutside:c,handleBeforeLeave:p,doUpdateShow:f,handleNegativeClick:g,handlePositiveClick:v,handleCloseClick:_,cssVars:h?void 0:d,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender}},render(){const{mergedClsPrefix:e}=this;return A(mc,{to:this.to,show:this.show},{default:()=>{var t;(t=this.onRender)===null||t===void 0||t.call(this);const{unstableShowMask:r}=this;return Hr(A("div",{role:"none",ref:"containerRef",class:[`${e}-modal-container`,this.themeClass,this.namespace],style:this.cssVars},A(Wf,Object.assign({style:this.overlayStyle},this.$attrs,{ref:"bodyWrapper",displayDirective:this.displayDirective,show:this.show,preset:this.preset,autoFocus:this.autoFocus,trapFocus:this.trapFocus,blockScroll:this.blockScroll},this.presetProps,{onEsc:this.handleEsc,onClose:this.handleCloseClick,onNegativeClick:this.handleNegativeClick,onPositiveClick:this.handlePositiveClick,onBeforeLeave:this.handleBeforeLeave,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave,onClickoutside:r?void 0:this.handleClickoutside,renderMask:r?()=>{var l;return A(Vr,{name:"fade-in-transition",key:"mask",appear:(l=this.internalAppear)!==null&&l!==void 0?l:this.isMounted},{default:()=>this.show?A("div",{"aria-hidden":!0,ref:"containerRef",class:`${e}-modal-mask`,onClick:this.handleClickoutside}):null})}:void 0}),this.$slots)),[[yc,{zIndex:this.zIndex,enabled:this.show}]])}})}}),Gs=1,ba=Yt("n-grid"),ya=1,Vf={span:{type:[Number,String],default:ya},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},At=ue({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:Vf,setup(){const{isSsrRef:e,xGapRef:t,itemStyleRef:r,overflowRef:l,layoutShiftDisabledRef:h}=nt(ba),y=Ao();return{overflow:l,itemStyle:r,layoutShiftDisabled:h,mergedXGap:ee(()=>Lt(t.value||0)),deriveStyle:()=>{e.value;const{privateSpan:b=ya,privateShow:i=!0,privateColStart:o=void 0,privateOffset:n=0}=y.vnode.props,{value:u}=t,f=Lt(u||0);return{display:i?"":"none",gridColumn:`${o!=null?o:`span ${b}`} / span ${b}`,marginLeft:n?`calc((100% - (${b} - 1) * ${f}) / ${b} * ${n} + ${f} * ${n})`:""}}}},render(){var e,t;if(this.layoutShiftDisabled){const{span:r,offset:l,mergedXGap:h}=this;return A("div",{style:{gridColumn:`span ${r} / span ${r}`,marginLeft:l?`calc((100% - (${r} - 1) * ${h}) / ${r} * ${l} + ${h} * ${l})`:""}},this.$slots)}return A("div",{style:[this.itemStyle,this.deriveStyle()]},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e,{overflow:this.overflow}))}}),Kf={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},wa=24,hn="__ssr__",qf={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:wa},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},Wr=ue({name:"Grid",inheritAttrs:!1,props:qf,setup(e){const{mergedClsPrefixRef:t,mergedBreakpointsRef:r}=ot(e),l=/^\d+$/,h=Y(void 0),y=ku((r==null?void 0:r.value)||Kf),b=wt(()=>!!(e.itemResponsive||!l.test(e.cols.toString())||!l.test(e.xGap.toString())||!l.test(e.yGap.toString()))),i=ee(()=>{if(!!b.value)return e.responsive==="self"?h.value:y.value}),o=wt(()=>{var c;return(c=Number(Zr(e.cols.toString(),i.value)))!==null&&c!==void 0?c:wa}),n=wt(()=>Zr(e.xGap.toString(),i.value)),u=wt(()=>Zr(e.yGap.toString(),i.value)),f=c=>{h.value=c.contentRect.width},_=c=>{Ro(f,c)},v=Y(!1),g=ee(()=>{if(e.responsive==="self")return _}),p=Y(!1),s=Y();return Bt(()=>{const{value:c}=s;c&&c.hasAttribute(hn)&&(c.removeAttribute(hn),p.value=!0)}),at(ba,{layoutShiftDisabledRef:Oe(e,"layoutShiftDisabled"),isSsrRef:p,itemStyleRef:Oe(e,"itemStyle"),xGapRef:n,overflowRef:v}),{isSsr:!jr,contentEl:s,mergedClsPrefix:t,style:ee(()=>e.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${e.cols}, minmax(0, 1fr))`,columnGap:Lt(e.xGap),rowGap:Lt(e.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${o.value}, minmax(0, 1fr))`,columnGap:Lt(n.value),rowGap:Lt(u.value)}),isResponsive:b,responsiveQuery:i,responsiveCols:o,handleResize:g,overflow:v}},render(){if(this.layoutShiftDisabled)return A("div",Et({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const e=()=>{var t,r,l,h,y,b,i;this.overflow=!1;const o=Ri(wc(this)),n=[],{collapsed:u,collapsedRows:f,responsiveCols:_,responsiveQuery:v}=this;o.forEach(a=>{var d,m,w,S;if(((d=a==null?void 0:a.type)===null||d===void 0?void 0:d.__GRID_ITEM__)!==!0)return;if(gu(a)){const E=zi(a);E.props?E.props.privateShow=!1:E.props={privateShow:!1},n.push({child:E,rawChildSpan:0});return}a.dirs=((m=a.dirs)===null||m===void 0?void 0:m.filter(({dir:E})=>E!==kr))||null;const k=zi(a),C=Number((S=Zr((w=k.props)===null||w===void 0?void 0:w.span,v))!==null&&S!==void 0?S:Gs);C!==0&&n.push({child:k,rawChildSpan:C})});let g=0;const p=(t=n[n.length-1])===null||t===void 0?void 0:t.child;if(p!=null&&p.props){const a=(r=p.props)===null||r===void 0?void 0:r.suffix;a!==void 0&&a!==!1&&(g=(h=(l=p.props)===null||l===void 0?void 0:l.span)!==null&&h!==void 0?h:Gs,p.props.privateSpan=g,p.props.privateColStart=_+1-g,p.props.privateShow=(y=p.props.privateShow)!==null&&y!==void 0?y:!0)}let s=0,c=!1;for(const{child:a,rawChildSpan:d}of n){if(c&&(this.overflow=!0),!c){const m=Number((i=Zr((b=a.props)===null||b===void 0?void 0:b.offset,v))!==null&&i!==void 0?i:0),w=Math.min(d+m,_);if(a.props?(a.props.privateSpan=w,a.props.privateOffset=m):a.props={privateSpan:w,privateOffset:m},u){const S=s%_;w+S>_&&(s+=_-S),w+s+g>f*_?c=!0:s+=w}}c&&(a.props?a.props.privateShow!==!0&&(a.props.privateShow=!1):a.props={privateShow:!1})}return A("div",Et({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[hn]:this.isSsr||void 0},this.$attrs),n.map(({child:a})=>a))};return this.isResponsive&&this.responsive==="self"?A(zr,{onResize:this.handleResize},{default:e}):e()}}),Gf=j("layout-sider",`
 flex-shrink: 0;
 box-sizing: border-box;
 position: relative;
 z-index: 1;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 min-width .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 display: flex;
 justify-content: flex-end;
`,[re("bordered",[H("border",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 width: 1px;
 background-color: var(--n-border-color);
 transition: background-color .3s var(--n-bezier);
 `)]),H("left-placement",[re("bordered",[H("border",`
 right: 0;
 `)])]),re("right-placement",`
 justify-content: flex-start;
 `,[re("bordered",[H("border",`
 left: 0;
 `)]),re("collapsed",[j("layout-toggle-button",[j("base-icon",`
 transform: rotate(180deg);
 `)]),j("layout-toggle-bar",[X("&:hover",[H("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),H("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])])]),j("layout-toggle-button",`
 left: 0;
 transform: translateX(-50%) translateY(-50%);
 `,[j("base-icon",`
 transform: rotate(0);
 `)]),j("layout-toggle-bar",`
 left: -28px;
 transform: rotate(180deg);
 `,[X("&:hover",[H("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),H("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})])])]),re("collapsed",[j("layout-toggle-bar",[X("&:hover",[H("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),H("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])]),j("layout-toggle-button",[j("base-icon",`
 transform: rotate(0);
 `)])]),j("layout-toggle-button",`
 transition:
 color .3s var(--n-bezier),
 right .3s var(--n-bezier),
 left .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 cursor: pointer;
 width: 24px;
 height: 24px;
 position: absolute;
 top: 50%;
 right: 0;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 font-size: 18px;
 color: var(--n-toggle-button-icon-color);
 border: var(--n-toggle-button-border);
 background-color: var(--n-toggle-button-color);
 box-shadow: 0 2px 4px 0px rgba(0, 0, 0, .06);
 transform: translateX(50%) translateY(-50%);
 z-index: 1;
 `,[j("base-icon",`
 transition: transform .3s var(--n-bezier);
 transform: rotate(180deg);
 `)]),j("layout-toggle-bar",`
 cursor: pointer;
 height: 72px;
 width: 32px;
 position: absolute;
 top: calc(50% - 36px);
 right: -28px;
 `,[H("top, bottom",`
 position: absolute;
 width: 4px;
 border-radius: 2px;
 height: 38px;
 left: 14px;
 transition: 
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),H("bottom",`
 position: absolute;
 top: 34px;
 `),X("&:hover",[H("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),H("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})]),H("top, bottom",{backgroundColor:"var(--n-toggle-bar-color)"}),X("&:hover",[H("top, bottom",{backgroundColor:"var(--n-toggle-bar-color-hover)"})])]),H("border",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 width: 1px;
 transition: background-color .3s var(--n-bezier);
 `),j("layout-sider-scroll-container",`
 flex-grow: 1;
 flex-shrink: 0;
 box-sizing: border-box;
 height: 100%;
 opacity: 0;
 transition: opacity .3s var(--n-bezier);
 max-width: 100%;
 `),re("show-content",[j("layout-sider-scroll-container",{opacity:1})]),re("absolute-positioned",`
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 `)]),Yf=ue({name:"LayoutToggleButton",props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return A("div",{class:`${e}-layout-toggle-button`,onClick:this.onClick},A(ir,{clsPrefix:e},{default:()=>A(Qn,null)}))}}),Xf=ue({props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return A("div",{onClick:this.onClick,class:`${e}-layout-toggle-bar`},A("div",{class:`${e}-layout-toggle-bar__top`}),A("div",{class:`${e}-layout-toggle-bar__bottom`}))}}),Zf={position:kc,bordered:Boolean,collapsedWidth:{type:Number,default:48},width:{type:[Number,String],default:272},contentStyle:{type:[String,Object],default:""},collapseMode:{type:String,default:"transform"},collapsed:{type:Boolean,default:void 0},defaultCollapsed:Boolean,showCollapsedContent:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},nativeScrollbar:{type:Boolean,default:!0},inverted:Boolean,scrollbarProps:Object,triggerStyle:[String,Object],collapsedTriggerStyle:[String,Object],"onUpdate:collapsed":[Function,Array],onUpdateCollapsed:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,onExpand:[Function,Array],onCollapse:[Function,Array],onScroll:Function},Jf=ue({name:"LayoutSider",props:Object.assign(Object.assign({},We.props),Zf),setup(e){const t=nt(Sc),r=Y(null),l=Y(null),h=ee(()=>tn(o.value?e.collapsedWidth:e.width)),y=ee(()=>e.collapseMode!=="transform"?{}:{minWidth:tn(e.width)}),b=ee(()=>t?t.siderPlacement:"left"),i=Y(e.defaultCollapsed),o=yr(Oe(e,"collapsed"),i);function n(w,S){if(e.nativeScrollbar){const{value:k}=r;k&&(S===void 0?k.scrollTo(w):k.scrollTo(w,S))}else{const{value:k}=l;k&&k.scrollTo(w,S)}}function u(){const{"onUpdate:collapsed":w,onUpdateCollapsed:S,onExpand:k,onCollapse:C}=e,{value:E}=o;S&&Be(S,!E),w&&Be(w,!E),i.value=!E,E?k&&Be(k):C&&Be(C)}let f=0,_=0;const v=w=>{var S;const k=w.target;f=k.scrollLeft,_=k.scrollTop,(S=e.onScroll)===null||S===void 0||S.call(e,w)};Cc(()=>{if(e.nativeScrollbar){const w=r.value;w&&(w.scrollTop=_,w.scrollLeft=f)}}),at(xc,{collapsedRef:o,collapseModeRef:Oe(e,"collapseMode")});const{mergedClsPrefixRef:g,inlineThemeDisabled:p}=ot(e),s=We("Layout","-layout-sider",Gf,Ec,e,g);function c(w){var S,k;w.propertyName==="max-width"&&(o.value?(S=e.onAfterLeave)===null||S===void 0||S.call(e):(k=e.onAfterEnter)===null||k===void 0||k.call(e))}const a={scrollTo:n},d=ee(()=>{const{common:{cubicBezierEaseInOut:w},self:S}=s.value,{siderToggleButtonColor:k,siderToggleButtonBorder:C,siderToggleBarColor:E,siderToggleBarColorHover:D}=S,P={"--n-bezier":w,"--n-toggle-button-color":k,"--n-toggle-button-border":C,"--n-toggle-bar-color":E,"--n-toggle-bar-color-hover":D};return e.inverted?(P["--n-color"]=S.siderColorInverted,P["--n-text-color"]=S.textColorInverted,P["--n-border-color"]=S.siderBorderColorInverted,P["--n-toggle-button-icon-color"]=S.siderToggleButtonIconColorInverted,P.__invertScrollbar=S.__invertScrollbar):(P["--n-color"]=S.siderColor,P["--n-text-color"]=S.textColor,P["--n-border-color"]=S.siderBorderColor,P["--n-toggle-button-icon-color"]=S.siderToggleButtonIconColor),P}),m=p?gt("layout-sider",ee(()=>e.inverted?"a":"b"),d,e):void 0;return Object.assign({scrollableElRef:r,scrollbarInstRef:l,mergedClsPrefix:g,mergedTheme:s,styleMaxWidth:h,mergedCollapsed:o,scrollContainerStyle:y,siderPlacement:b,handleNativeElScroll:v,handleTransitionend:c,handleTriggerClick:u,inlineThemeDisabled:p,cssVars:d,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender},a)},render(){var e;const{mergedClsPrefix:t,mergedCollapsed:r,showTrigger:l}=this;return(e=this.onRender)===null||e===void 0||e.call(this),A("aside",{class:[`${t}-layout-sider`,this.themeClass,`${t}-layout-sider--${this.position}-positioned`,`${t}-layout-sider--${this.siderPlacement}-placement`,this.bordered&&`${t}-layout-sider--bordered`,r&&`${t}-layout-sider--collapsed`,(!r||this.showCollapsedContent)&&`${t}-layout-sider--show-content`],onTransitionend:this.handleTransitionend,style:[this.inlineThemeDisabled?void 0:this.cssVars,{maxWidth:this.styleMaxWidth,width:tn(this.width)}]},this.nativeScrollbar?A("div",{class:`${t}-layout-sider-scroll-container`,onScroll:this.handleNativeElScroll,style:[this.scrollContainerStyle,{overflow:"auto"},this.contentStyle],ref:"scrollableElRef"},this.$slots):A(Gi,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",style:this.scrollContainerStyle,contentStyle:this.contentStyle,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,builtinThemeOverrides:this.inverted&&this.cssVars.__invertScrollbar==="true"?{colorHover:"rgba(255, 255, 255, .4)",color:"rgba(255, 255, 255, .3)"}:void 0}),this.$slots),l?l==="bar"?A(Xf,{clsPrefix:t,style:r?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):A(Yf,{clsPrefix:t,style:r?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):null,this.bordered?A("div",{class:`${t}-layout-sider__border`}):null)}}),Qf=X([j("list",`
 --n-merged-border-color: var(--n-border-color);
 --n-merged-color: var(--n-color);
 --n-merged-color-hover: var(--n-color-hover);
 margin: 0;
 font-size: var(--n-font-size);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 padding: 0;
 list-style-type: none;
 color: var(--n-text-color);
 background-color: var(--n-merged-color);
 `,[re("show-divider",[j("list-item",[X("&:not(:last-child)",[H("divider",`
 background-color: var(--n-merged-border-color);
 `)])])]),re("clickable",[j("list-item",`
 cursor: pointer;
 `)]),re("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `),re("hoverable",[j("list-item",`
 border-radius: var(--n-border-radius);
 `,[X("&:hover",`
 background-color: var(--n-merged-color-hover);
 `,[H("divider",`
 background-color: transparent;
 `)])])]),re("bordered, hoverable",[j("list-item",`
 padding: 12px 20px;
 `),H("header, footer",`
 padding: 12px 20px;
 `)]),H("header, footer",`
 padding: 12px 0;
 box-sizing: border-box;
 transition: border-color .3s var(--n-bezier);
 `,[X("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)]),j("list-item",`
 position: relative;
 padding: 12px 0; 
 box-sizing: border-box;
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[H("prefix",`
 margin-right: 20px;
 flex: 0;
 `),H("suffix",`
 margin-left: 20px;
 flex: 0;
 `),H("main",`
 flex: 1;
 `),H("divider",`
 height: 1px;
 position: absolute;
 bottom: 0;
 left: 0;
 right: 0;
 background-color: transparent;
 transition: background-color .3s var(--n-bezier);
 pointer-events: none;
 `)])]),Yi(j("list",`
 --n-merged-color-hover: var(--n-color-hover-modal);
 --n-merged-color: var(--n-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `)),qn(j("list",`
 --n-merged-color-hover: var(--n-color-hover-popover);
 --n-merged-color: var(--n-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `))]),ep=Object.assign(Object.assign({},We.props),{size:{type:String,default:"medium"},bordered:Boolean,clickable:Boolean,hoverable:Boolean,showDivider:{type:Boolean,default:!0}}),Sa=Yt("n-list"),tp=ue({name:"List",props:ep,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:r,mergedRtlRef:l}=ot(e),h=hr("List",l,t),y=We("List","-list",Qf,Rc,e,t);at(Sa,{showDividerRef:Oe(e,"showDivider"),mergedClsPrefixRef:t});const b=ee(()=>{const{common:{cubicBezierEaseInOut:o},self:{fontSize:n,textColor:u,color:f,colorModal:_,colorPopover:v,borderColor:g,borderColorModal:p,borderColorPopover:s,borderRadius:c,colorHover:a,colorHoverModal:d,colorHoverPopover:m}}=y.value;return{"--n-font-size":n,"--n-bezier":o,"--n-text-color":u,"--n-color":f,"--n-border-radius":c,"--n-border-color":g,"--n-border-color-modal":p,"--n-border-color-popover":s,"--n-color-modal":_,"--n-color-popover":v,"--n-color-hover":a,"--n-color-hover-modal":d,"--n-color-hover-popover":m}}),i=r?gt("list",void 0,b,e):void 0;return{mergedClsPrefix:t,rtlEnabled:h,cssVars:r?void 0:b,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e;const{$slots:t,mergedClsPrefix:r,onRender:l}=this;return l==null||l(),A("ul",{class:[`${r}-list`,this.rtlEnabled&&`${r}-list--rtl`,this.bordered&&`${r}-list--bordered`,this.showDivider&&`${r}-list--show-divider`,this.hoverable&&`${r}-list--hoverable`,this.clickable&&`${r}-list--clickable`,this.themeClass],style:this.cssVars},t.header?A("div",{class:`${r}-list__header`},t.header()):null,(e=t.default)===null||e===void 0?void 0:e.call(t),t.footer?A("div",{class:`${r}-list__footer`},t.footer()):null)}}),Si=ue({name:"ListItem",setup(){const e=nt(Sa,null);return e||pi("list-item","`n-list-item` must be placed in `n-list`."),{showDivider:e.showDividerRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{$slots:e,mergedClsPrefix:t}=this;return A("li",{class:`${t}-list-item`},e.prefix?A("div",{class:`${t}-list-item__prefix`},e.prefix()):null,e.default?A("div",{class:`${t}-list-item__main`},e):null,e.suffix?A("div",{class:`${t}-list-item__suffix`},e.suffix()):null,this.showDivider&&A("div",{class:`${t}-list-item__divider`}))}});function rp(){const e=nt(Tc,null);return e===null&&pi("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}function ip(){const e=nt(Lc,null);return e===null&&pi("use-notification","No outer `n-notification-provider` found."),e}const np=j("switch",`
 height: var(--n-height);
 min-width: var(--n-width);
 vertical-align: middle;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 outline: none;
 justify-content: center;
 align-items: center;
`,[H("children-placeholder",`
 height: var(--n-rail-height);
 display: flex;
 flex-direction: column;
 overflow: hidden;
 pointer-events: none;
 visibility: hidden;
 `),H("rail-placeholder",`
 display: flex;
 flex-wrap: none;
 `),H("button-placeholder",`
 width: calc(1.75 * var(--n-rail-height));
 height: var(--n-rail-height);
 `),j("base-loading",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 font-size: calc(var(--n-button-width) - 4px);
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 `,[Pi({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),H("checked, unchecked",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 box-sizing: border-box;
 position: absolute;
 white-space: nowrap;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 line-height: 1;
 `),H("checked",`
 right: 0;
 padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),H("unchecked",`
 left: 0;
 justify-content: flex-end;
 padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),X("&:focus",[H("rail",`
 box-shadow: var(--n-box-shadow-focus);
 `)]),re("round",[H("rail","border-radius: calc(var(--n-rail-height) / 2);",[H("button","border-radius: calc(var(--n-button-height) / 2);")])]),ct("disabled",[ct("icon",[re("rubber-band",[re("pressed",[H("rail",[H("button","max-width: var(--n-button-width-pressed);")])]),H("rail",[X("&:active",[H("button","max-width: var(--n-button-width-pressed);")])]),re("active",[re("pressed",[H("rail",[H("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),H("rail",[X("&:active",[H("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),re("active",[H("rail",[H("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),H("rail",`
 overflow: hidden;
 height: var(--n-rail-height);
 min-width: var(--n-rail-width);
 border-radius: var(--n-rail-border-radius);
 cursor: pointer;
 position: relative;
 transition:
 opacity .3s var(--n-bezier),
 background .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[H("button-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 font-size: calc(var(--n-button-height) - 4px);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 line-height: 1;
 `,[Pi()]),H("button",`
 align-items: center; 
 top: var(--n-offset);
 left: var(--n-offset);
 height: var(--n-button-height);
 width: var(--n-button-width-pressed);
 max-width: var(--n-button-width);
 border-radius: var(--n-button-border-radius);
 background-color: var(--n-button-color);
 box-shadow: var(--n-button-box-shadow);
 box-sizing: border-box;
 cursor: inherit;
 content: "";
 position: absolute;
 transition:
 background-color .3s var(--n-bezier),
 left .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `)]),re("active",[H("rail","background-color: var(--n-rail-color-active);")]),re("loading",[H("rail",`
 cursor: wait;
 `)]),re("disabled",[H("rail",`
 cursor: not-allowed;
 opacity: .5;
 `)])]),sp=Object.assign(Object.assign({},We.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let ei;const Ys=ue({name:"Switch",props:sp,setup(e){ei===void 0&&(typeof CSS<"u"?typeof CSS.supports<"u"?ei=CSS.supports("width","max(1px)"):ei=!1:ei=!0);const{mergedClsPrefixRef:t,inlineThemeDisabled:r}=ot(e),l=We("Switch","-switch",np,Ac,e,t),h=Xi(e),{mergedSizeRef:y,mergedDisabledRef:b}=h,i=Y(e.defaultValue),o=Oe(e,"value"),n=yr(o,i),u=ee(()=>n.value===e.checkedValue),f=Y(!1),_=Y(!1),v=ee(()=>{const{railStyle:C}=e;if(!!C)return C({focused:_.value,checked:u.value})});function g(C){const{"onUpdate:value":E,onChange:D,onUpdateValue:P}=e,{nTriggerFormInput:B,nTriggerFormChange:x}=h;E&&Be(E,C),P&&Be(P,C),D&&Be(D,C),i.value=C,B(),x()}function p(){const{nTriggerFormFocus:C}=h;C()}function s(){const{nTriggerFormBlur:C}=h;C()}function c(){e.loading||b.value||(n.value!==e.checkedValue?g(e.checkedValue):g(e.uncheckedValue))}function a(){_.value=!0,p()}function d(){_.value=!1,s(),f.value=!1}function m(C){e.loading||b.value||C.key===" "&&(n.value!==e.checkedValue?g(e.checkedValue):g(e.uncheckedValue),f.value=!1)}function w(C){e.loading||b.value||C.key===" "&&(C.preventDefault(),f.value=!0)}const S=ee(()=>{const{value:C}=y,{self:{opacityDisabled:E,railColor:D,railColorActive:P,buttonBoxShadow:B,buttonColor:x,boxShadowFocus:R,loadingColor:T,textColor:O,iconColor:M,[ve("buttonHeight",C)]:V,[ve("buttonWidth",C)]:F,[ve("buttonWidthPressed",C)]:W,[ve("railHeight",C)]:G,[ve("railWidth",C)]:ie,[ve("railBorderRadius",C)]:L,[ve("buttonBorderRadius",C)]:q},common:{cubicBezierEaseInOut:Q}}=l.value;let I,z,se;return ei?(I=`calc((${G} - ${V}) / 2)`,z=`max(${G}, ${V})`,se=`max(${ie}, calc(${ie} + ${V} - ${G}))`):(I=Lt((Ft(G)-Ft(V))/2),z=Lt(Math.max(Ft(G),Ft(V))),se=Ft(G)>Ft(V)?ie:Lt(Ft(ie)+Ft(V)-Ft(G))),{"--n-bezier":Q,"--n-button-border-radius":q,"--n-button-box-shadow":B,"--n-button-color":x,"--n-button-width":F,"--n-button-width-pressed":W,"--n-button-height":V,"--n-height":z,"--n-offset":I,"--n-opacity-disabled":E,"--n-rail-border-radius":L,"--n-rail-color":D,"--n-rail-color-active":P,"--n-rail-height":G,"--n-rail-width":ie,"--n-width":se,"--n-box-shadow-focus":R,"--n-loading-color":T,"--n-text-color":O,"--n-icon-color":M}}),k=r?gt("switch",ee(()=>y.value[0]),S,e):void 0;return{handleClick:c,handleBlur:d,handleFocus:a,handleKeyup:m,handleKeydown:w,mergedRailStyle:v,pressed:f,mergedClsPrefix:t,mergedValue:n,checked:u,mergedDisabled:b,cssVars:r?void 0:S,themeClass:k==null?void 0:k.themeClass,onRender:k==null?void 0:k.onRender}},render(){const{mergedClsPrefix:e,mergedDisabled:t,checked:r,mergedRailStyle:l,onRender:h,$slots:y}=this;h==null||h();const{checked:b,unchecked:i,icon:o,"checked-icon":n,"unchecked-icon":u}=y,f=!(di(o)&&di(n)&&di(u));return A("div",{role:"switch","aria-checked":r,class:[`${e}-switch`,this.themeClass,f&&`${e}-switch--icon`,r&&`${e}-switch--active`,t&&`${e}-switch--disabled`,this.round&&`${e}-switch--round`,this.loading&&`${e}-switch--loading`,this.pressed&&`${e}-switch--pressed`,this.rubberBand&&`${e}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},A("div",{class:`${e}-switch__rail`,"aria-hidden":"true",style:l},Qe(b,_=>Qe(i,v=>_||v?A("div",{"aria-hidden":!0,class:`${e}-switch__children-placeholder`},A("div",{class:`${e}-switch__rail-placeholder`},A("div",{class:`${e}-switch__button-placeholder`}),_),A("div",{class:`${e}-switch__rail-placeholder`},A("div",{class:`${e}-switch__button-placeholder`}),v)):null)),A("div",{class:`${e}-switch__button`},Qe(o,_=>Qe(n,v=>Qe(u,g=>A(Vn,null,{default:()=>this.loading?A(qi,{key:"loading",clsPrefix:e,strokeWidth:20}):this.checked&&(v||_)?A("div",{class:`${e}-switch__button-icon`,key:v?"checked-icon":"icon"},v||_):!this.checked&&(g||_)?A("div",{class:`${e}-switch__button-icon`,key:g?"unchecked-icon":"icon"},g||_):null})))),Qe(b,_=>_&&A("div",{key:"checked",class:`${e}-switch__checked`},_)),Qe(i,_=>_&&A("div",{key:"unchecked",class:`${e}-switch__unchecked`},_)))))}}),op=X([j("table",`
 font-size: var(--n-font-size);
 font-variant-numeric: tabular-nums;
 line-height: var(--n-line-height);
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 text-align: left;
 border-collapse: separate;
 border-spacing: 0;
 overflow: hidden;
 background-color: var(--n-td-color);
 border-color: var(--n-merged-border-color);
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 --n-merged-border-color: var(--n-border-color);
 `,[X("th",`
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 text-align: inherit;
 padding: var(--n-th-padding);
 vertical-align: inherit;
 text-transform: none;
 border: 0px solid var(--n-merged-border-color);
 font-weight: var(--n-th-font-weight);
 color: var(--n-th-text-color);
 background-color: var(--n-th-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 border-right: 1px solid var(--n-merged-border-color);
 `,[X("&:last-child",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),X("td",`
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 padding: var(--n-td-padding);
 color: var(--n-td-text-color);
 background-color: var(--n-td-color);
 border: 0px solid var(--n-merged-border-color);
 border-right: 1px solid var(--n-merged-border-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 `,[X("&:last-child",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),re("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `,[X("tr",[X("&:last-child",[X("td",`
 border-bottom: 0 solid var(--n-merged-border-color);
 `)])])]),re("single-line",[X("th",`
 border-right: 0px solid var(--n-merged-border-color);
 `),X("td",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),re("single-column",[X("tr",[X("&:not(:last-child)",[X("td",`
 border-bottom: 0px solid var(--n-merged-border-color);
 `)])])]),re("striped",[X("tr:nth-of-type(even)",[X("td","background-color: var(--n-td-color-striped)")])]),ct("bottom-bordered",[X("tr",[X("&:last-child",[X("td",`
 border-bottom: 0px solid var(--n-merged-border-color);
 `)])])])]),Yi(j("table",`
 background-color: var(--n-td-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `,[X("th",`
 background-color: var(--n-th-color-modal);
 `),X("td",`
 background-color: var(--n-td-color-modal);
 `)])),qn(j("table",`
 background-color: var(--n-td-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `,[X("th",`
 background-color: var(--n-th-color-popover);
 `),X("td",`
 background-color: var(--n-td-color-popover);
 `)]))]),ap=Object.assign(Object.assign({},We.props),{bordered:{type:Boolean,default:!0},bottomBordered:{type:Boolean,default:!0},singleLine:{type:Boolean,default:!0},striped:Boolean,singleColumn:Boolean,size:{type:String,default:"medium"}}),os=ue({name:"Table",props:ap,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:r,mergedRtlRef:l}=ot(e),h=We("Table","-table",op,Bc,e,t),y=hr("Table",l,t),b=ee(()=>{const{size:o}=e,{self:{borderColor:n,tdColor:u,tdColorModal:f,tdColorPopover:_,thColor:v,thColorModal:g,thColorPopover:p,thTextColor:s,tdTextColor:c,borderRadius:a,thFontWeight:d,lineHeight:m,borderColorModal:w,borderColorPopover:S,tdColorStriped:k,tdColorStripedModal:C,tdColorStripedPopover:E,[ve("fontSize",o)]:D,[ve("tdPadding",o)]:P,[ve("thPadding",o)]:B},common:{cubicBezierEaseInOut:x}}=h.value;return{"--n-bezier":x,"--n-td-color":u,"--n-td-color-modal":f,"--n-td-color-popover":_,"--n-td-text-color":c,"--n-border-color":n,"--n-border-color-modal":w,"--n-border-color-popover":S,"--n-border-radius":a,"--n-font-size":D,"--n-th-color":v,"--n-th-color-modal":g,"--n-th-color-popover":p,"--n-th-font-weight":d,"--n-th-text-color":s,"--n-line-height":m,"--n-td-padding":P,"--n-th-padding":B,"--n-td-color-striped":k,"--n-td-color-striped-modal":C,"--n-td-color-striped-popover":E}}),i=r?gt("table",ee(()=>e.size[0]),b,e):void 0;return{rtlEnabled:y,mergedClsPrefix:t,cssVars:r?void 0:b,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e;const{mergedClsPrefix:t}=this;return(e=this.onRender)===null||e===void 0||e.call(this),A("table",{class:[`${t}-table`,this.themeClass,{[`${t}-table--rtl`]:this.rtlEnabled,[`${t}-table--bottom-bordered`]:this.bottomBordered,[`${t}-table--bordered`]:this.bordered,[`${t}-table--single-line`]:this.singleLine,[`${t}-table--single-column`]:this.singleColumn,[`${t}-table--striped`]:this.striped}],style:this.cssVars},this.$slots)}}),as=Yt("n-tabs"),Ca={tab:[String,Number,Object,Function],name:{type:[String,Number],required:!0},disabled:Boolean,displayDirective:{type:String,default:"if"},closable:{type:Boolean,default:void 0},tabProps:Object,label:[String,Number,Object,Function]};ue({__TAB_PANE__:!0,name:"TabPane",alias:["TabPanel"],props:Ca,setup(e){const t=nt(as,null);return t||pi("tab-pane","`n-tab-pane` must be placed inside `n-tabs`."),{style:t.paneStyleRef,class:t.paneClassRef,mergedClsPrefix:t.mergedClsPrefixRef}},render(){return A("div",{class:[`${this.mergedClsPrefix}-tab-pane`,this.class],style:this.style},this.$slots)}});const lp=Object.assign({internalLeftPadded:Boolean,internalAddable:Boolean,internalCreatedByPane:Boolean},Dc(Ca,["displayDirective"])),cr=ue({__TAB__:!0,inheritAttrs:!1,name:"Tab",props:lp,setup(e){const{mergedClsPrefixRef:t,valueRef:r,typeRef:l,closableRef:h,tabStyleRef:y,tabChangeIdRef:b,onBeforeLeaveRef:i,triggerRef:o,handleAdd:n,activateTab:u,handleClose:f}=nt(as);return{trigger:o,mergedClosable:ee(()=>{if(e.internalAddable)return!1;const{closable:_}=e;return _===void 0?h.value:_}),style:y,clsPrefix:t,value:r,type:l,handleClose(_){_.stopPropagation(),!e.disabled&&f(e.name)},activateTab(){if(e.disabled)return;if(e.internalAddable){n();return}const{name:_}=e,v=++b.id;if(_!==r.value){const{value:g}=i;g?Promise.resolve(g(e.name,r.value)).then(p=>{p&&b.id===v&&u(_)}):u(_)}}}},render(){const{internalAddable:e,clsPrefix:t,name:r,disabled:l,label:h,tab:y,value:b,mergedClosable:i,style:o,trigger:n,$slots:{default:u}}=this,f=h!=null?h:y;return A("div",{class:`${t}-tabs-tab-wrapper`},this.internalLeftPadded?A("div",{class:`${t}-tabs-tab-pad`}):null,A("div",Object.assign({key:r,"data-name":r,"data-disabled":l?!0:void 0},Et({class:[`${t}-tabs-tab`,b===r&&`${t}-tabs-tab--active`,l&&`${t}-tabs-tab--disabled`,i&&`${t}-tabs-tab--closable`,e&&`${t}-tabs-tab--addable`],onClick:n==="click"?this.activateTab:void 0,onMouseenter:n==="hover"?this.activateTab:void 0,style:e?void 0:o},this.internalCreatedByPane?this.tabProps||{}:this.$attrs)),A("span",{class:`${t}-tabs-tab__label`},e?A(et,null,A("div",{class:`${t}-tabs-tab__height-placeholder`},"\xA0"),A(ir,{clsPrefix:t},{default:()=>A(Xu,null)})):u?u():typeof f=="object"?f:mt(f!=null?f:r)),i&&this.type==="card"?A(Gn,{clsPrefix:t,class:`${t}-tabs-tab__close`,onClick:this.handleClose,disabled:l}):null))}}),cp=j("tabs",`
 box-sizing: border-box;
 width: 100%;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
`,[re("segment-type",[j("tabs-rail",[X("&.transition-disabled","color: red;",[j("tabs-tab",`
 transition: none;
 `)])])]),j("tabs-rail",`
 padding: 3px;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 background-color: var(--n-color-segment);
 transition: background-color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[j("tabs-tab-wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[j("tabs-tab",`
 overflow: hidden;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[re("active",`
 font-weight: var(--n-font-weight-strong);
 color: var(--n-tab-text-color-active);
 background-color: var(--n-tab-color-segment);
 box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .08);
 `),X("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])])]),re("flex",[j("tabs-nav",{width:"100%"},[j("tabs-wrapper",{width:"100%"},[j("tabs-tab",{marginRight:0})])])]),j("tabs-nav",`
 box-sizing: border-box;
 line-height: 1.5;
 display: flex;
 transition: border-color .3s var(--n-bezier);
 `,[H("prefix, suffix",`
 display: flex;
 align-items: center;
 `),H("prefix","padding-right: 16px;"),H("suffix","padding-left: 16px;")]),j("tabs-nav-scroll-wrapper",`
 flex: 1;
 position: relative;
 overflow: hidden;
 `,[re("shadow-before",[X("&::before",`
 box-shadow: inset 10px 0 8px -8px rgba(0, 0, 0, .12);
 `)]),re("shadow-after",[X("&::after",`
 box-shadow: inset -10px 0 8px -8px rgba(0, 0, 0, .12);
 `)]),X("&::before, &::after",`
 transition: box-shadow .3s var(--n-bezier);
 pointer-events: none;
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 width: 20px;
 z-index: 1;
 `),X("&::before",`
 left: 0;
 `),X("&::after",`
 right: 0;
 `)]),j("tabs-nav-scroll-content",`
 display: flex;
 position: relative;
 min-width: 100%;
 width: fit-content;
 `),j("tabs-wrapper",`
 display: inline-flex;
 flex-wrap: nowrap;
 position: relative;
 `),j("tabs-tab-wrapper",`
 display: flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 flex-grow: 0;
 `),j("tabs-tab",`
 cursor: pointer;
 white-space: nowrap;
 flex-wrap: nowrap;
 display: inline-flex;
 align-items: center;
 color: var(--n-tab-text-color);
 font-size: var(--n-tab-font-size);
 background-clip: padding-box;
 padding: var(--n-tab-padding);
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[re("disabled",{cursor:"not-allowed"}),H("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),H("label",`
 display: flex;
 align-items: center;
 `)]),j("tabs-bar",`
 position: absolute;
 bottom: 0;
 height: 2px;
 border-radius: 1px;
 background-color: var(--n-bar-color);
 transition:
 left .2s var(--n-bezier),
 max-width .2s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[X("&.transition-disabled",`
 transition: none;
 `),re("disabled",`
 background-color: var(--n-tab-text-color-disabled)
 `)]),j("tabs-pane-wrapper",`
 position: relative;
 overflow: hidden;
 transition: max-height .2s var(--n-bezier);
 `),j("tab-pane",`
 color: var(--n-pane-text-color);
 width: 100%;
 padding: var(--n-pane-padding);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .2s var(--n-bezier);
 left: 0;
 right: 0;
 top: 0;
 `,[X("&.next-transition-leave-active, &.prev-transition-leave-active, &.next-transition-enter-active, &.prev-transition-enter-active",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .2s var(--n-bezier),
 opacity .2s var(--n-bezier);
 `),X("&.next-transition-leave-active, &.prev-transition-leave-active",`
 position: absolute;
 `),X("&.next-transition-enter-from, &.prev-transition-leave-to",`
 transform: translateX(32px);
 opacity: 0;
 `),X("&.next-transition-leave-to, &.prev-transition-enter-from",`
 transform: translateX(-32px);
 opacity: 0;
 `),X("&.next-transition-leave-from, &.next-transition-enter-to, &.prev-transition-leave-from, &.prev-transition-enter-to",`
 transform: translateX(0);
 opacity: 1;
 `)]),j("tabs-tab-pad",`
 width: var(--n-tab-gap);
 flex-grow: 0;
 flex-shrink: 0;
 `),re("line-type, bar-type",[j("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 box-sizing: border-box;
 vertical-align: bottom;
 `,[X("&:hover",{color:"var(--n-tab-text-color-hover)"}),re("active",`
 color: var(--n-tab-text-color-active);
 font-weight: var(--n-tab-font-weight-active);
 `),re("disabled",{color:"var(--n-tab-text-color-disabled)"})])]),j("tabs-nav",[re("line-type",[H("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),j("tabs-nav-scroll-content",`
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),j("tabs-bar",`
 border-radius: 0;
 bottom: -1px;
 `)]),re("card-type",[H("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),j("tabs-pad",`
 flex-grow: 1;
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),j("tabs-tab-pad",`
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),j("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 border: 1px solid var(--n-tab-border-color);
 border-top-left-radius: var(--n-tab-border-radius);
 border-top-right-radius: var(--n-tab-border-radius);
 background-color: var(--n-tab-color);
 box-sizing: border-box;
 position: relative;
 vertical-align: bottom;
 display: flex;
 justify-content: space-between;
 font-size: var(--n-tab-font-size);
 color: var(--n-tab-text-color);
 `,[re("addable",`
 padding-left: 8px;
 padding-right: 8px;
 font-size: 16px;
 `,[H("height-placeholder",`
 width: 0;
 font-size: var(--n-tab-font-size);
 `),ct("disabled",[X("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])]),re("closable","padding-right: 6px;"),re("active",`
 border-bottom: 1px solid #0000;
 background-color: #0000;
 font-weight: var(--n-tab-font-weight-active);
 color: var(--n-tab-text-color-active);
 `),re("disabled","color: var(--n-tab-text-color-disabled);")]),j("tabs-scroll-padding","border-bottom: 1px solid var(--n-tab-border-color);")])])]),dp=Object.assign(Object.assign({},We.props),{value:[String,Number],defaultValue:[String,Number],trigger:{type:String,default:"click"},type:{type:String,default:"bar"},closable:Boolean,justifyContent:String,size:{type:String,default:"medium"},tabStyle:[String,Object],barWidth:Number,paneClass:String,paneStyle:[String,Object],addable:[Boolean,Object],tabsPadding:{type:Number,default:0},animated:Boolean,onBeforeLeave:Function,onAdd:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClose:[Function,Array],labelSize:String,activeName:[String,Number],onActiveNameChange:[Function,Array]}),xa=ue({name:"Tabs",props:dp,setup(e,{slots:t}){var r,l,h,y;const{mergedClsPrefixRef:b,inlineThemeDisabled:i}=ot(e),o=We("Tabs","-tabs",cp,Mc,e,b),n=Y(null),u=Y(null),f=Y(null),_=Y(null),v=Y(null),g=Y(!0),p=Y(!0),s=wn(e,["labelSize","size"]),c=wn(e,["activeName","value"]),a=Y((l=(r=c.value)!==null&&r!==void 0?r:e.defaultValue)!==null&&l!==void 0?l:t.default?(y=(h=Ri(t.default())[0])===null||h===void 0?void 0:h.props)===null||y===void 0?void 0:y.name:null),d=yr(c,a),m={id:0},w=ee(()=>{if(!(!e.justifyContent||e.type==="card"))return{display:"flex",justifyContent:e.justifyContent}});qe(d,()=>{m.id=0,C(),E()});function S(){var ce;const{value:_e}=d;return _e===null?null:(ce=n.value)===null||ce===void 0?void 0:ce.querySelector(`[data-name="${_e}"]`)}function k(ce){if(e.type==="card")return;const{value:_e}=u;if(!!_e&&ce){const ke=`${b.value}-tabs-bar--disabled`,{barWidth:Ae}=e;if(ce.dataset.disabled==="true"?_e.classList.add(ke):_e.classList.remove(ke),typeof Ae=="number"&&ce.offsetWidth>=Ae){const Xe=Math.floor((ce.offsetWidth-Ae)/2)+ce.offsetLeft;_e.style.left=`${Xe}px`,_e.style.maxWidth=`${Ae}px`}else _e.style.left=`${ce.offsetLeft}px`,_e.style.maxWidth=`${ce.offsetWidth}px`;_e.style.width="8192px",_e.offsetWidth}}function C(){if(e.type==="card")return;const ce=S();ce&&k(ce)}function E(ce){var _e;const ke=(_e=v.value)===null||_e===void 0?void 0:_e.$el;if(!ke)return;const Ae=S();if(!Ae)return;const{scrollLeft:Xe,offsetWidth:Me}=ke,{offsetLeft:ae,offsetWidth:ge}=Ae;Xe>ae?ke.scrollTo({top:0,left:ae,behavior:"smooth"}):ae+ge>Xe+Me&&ke.scrollTo({top:0,left:ae+ge-Me,behavior:"smooth"})}const D=Y(null);let P=0,B=null;function x(ce){const _e=D.value;if(_e){P=ce.getBoundingClientRect().height;const ke=`${P}px`,Ae=()=>{_e.style.height=ke,_e.style.maxHeight=ke};B?(Ae(),B(),B=null):B=Ae}}function R(ce){const _e=D.value;if(_e){const ke=ce.getBoundingClientRect().height,Ae=()=>{document.body.offsetHeight,_e.style.maxHeight=`${ke}px`,_e.style.height=`${Math.max(P,ke)}px`};B?(B(),B=null,Ae()):B=Ae}}function T(){const ce=D.value;ce&&(ce.style.maxHeight="",ce.style.height="")}const O={value:[]},M=Y("next");function V(ce){const _e=d.value;let ke="next";for(const Ae of O.value){if(Ae===_e)break;if(Ae===ce){ke="prev";break}}M.value=ke,F(ce)}function F(ce){const{onActiveNameChange:_e,onUpdateValue:ke,"onUpdate:value":Ae}=e;_e&&Be(_e,ce),ke&&Be(ke,ce),Ae&&Be(Ae,ce),a.value=ce}function W(ce){const{onClose:_e}=e;_e&&Be(_e,ce)}function G(){const{value:ce}=u;if(!ce)return;const _e="transition-disabled";ce.classList.add(_e),C(),ce.classList.remove(_e)}let ie=0;function L(ce){var _e;if(ce.contentRect.width===0&&ce.contentRect.height===0||ie===ce.contentRect.width)return;ie=ce.contentRect.width;const{type:ke}=e;(ke==="line"||ke==="bar")&&G(),ke!=="segment"&&Z((_e=v.value)===null||_e===void 0?void 0:_e.$el)}const q=an(L,64);qe([()=>e.justifyContent,()=>e.size],()=>{bt(()=>{const{type:ce}=e;(ce==="line"||ce==="bar")&&G()})});const Q=Y(!1);function I(ce){var _e;const{target:ke,contentRect:{width:Ae}}=ce,Xe=ke.parentElement.offsetWidth;if(!Q.value)Xe<Ae&&(Q.value=!0);else{const{value:Me}=_;if(!Me)return;Xe-Ae>Me.$el.offsetWidth&&(Q.value=!1)}Z((_e=v.value)===null||_e===void 0?void 0:_e.$el)}const z=an(I,64);function se(){const{onAdd:ce}=e;ce&&ce(),bt(()=>{const _e=S(),{value:ke}=v;!_e||!ke||ke.scrollTo({left:_e.offsetLeft,top:0,behavior:"smooth"})})}function Z(ce){if(!ce)return;const{scrollLeft:_e,scrollWidth:ke,offsetWidth:Ae}=ce;g.value=_e<=0,p.value=_e+Ae>=ke}const fe=an(ce=>{Z(ce.target)},64);at(as,{triggerRef:Oe(e,"trigger"),tabStyleRef:Oe(e,"tabStyle"),paneClassRef:Oe(e,"paneClass"),paneStyleRef:Oe(e,"paneStyle"),mergedClsPrefixRef:b,typeRef:Oe(e,"type"),closableRef:Oe(e,"closable"),valueRef:d,tabChangeIdRef:m,onBeforeLeaveRef:Oe(e,"onBeforeLeave"),activateTab:V,handleClose:W,handleAdd:se}),Oc(()=>{C(),E()}),$i(()=>{const{value:ce}=f;if(!ce)return;const{value:_e}=b,ke=`${_e}-tabs-nav-scroll-wrapper--shadow-before`,Ae=`${_e}-tabs-nav-scroll-wrapper--shadow-after`;g.value?ce.classList.remove(ke):ce.classList.add(ke),p.value?ce.classList.remove(Ae):ce.classList.add(Ae)});const le=Y(null);qe(d,()=>{if(e.type==="segment"){const ce=le.value;ce&&bt(()=>{ce.classList.add("transition-disabled"),ce.offsetWidth,ce.classList.remove("transition-disabled")})}});const Le={syncBarPosition:()=>{C()}},pe=ee(()=>{const{value:ce}=s,{type:_e}=e,ke={card:"Card",bar:"Bar",line:"Line",segment:"Segment"}[_e],Ae=`${ce}${ke}`,{self:{barColor:Xe,closeIconColor:Me,closeIconColorHover:ae,closeIconColorPressed:ge,tabColor:je,tabBorderColor:ut,paneTextColor:Zt,tabFontWeight:Jt,tabBorderRadius:Qt,tabFontWeightActive:Ht,colorSegment:Nt,fontWeightStrong:Dt,tabColorSegment:Ot,closeSize:yt,closeIconSize:Mt,closeColorHover:Pt,closeColorPressed:st,closeBorderRadius:te,[ve("panePadding",ce)]:me,[ve("tabPadding",Ae)]:Se,[ve("tabGap",Ae)]:ze,[ve("tabTextColor",_e)]:Fe,[ve("tabTextColorActive",_e)]:He,[ve("tabTextColorHover",_e)]:$e,[ve("tabTextColorDisabled",_e)]:Ze,[ve("tabFontSize",ce)]:$t},common:{cubicBezierEaseInOut:sr}}=o.value;return{"--n-bezier":sr,"--n-color-segment":Nt,"--n-bar-color":Xe,"--n-tab-font-size":$t,"--n-tab-text-color":Fe,"--n-tab-text-color-active":He,"--n-tab-text-color-disabled":Ze,"--n-tab-text-color-hover":$e,"--n-pane-text-color":Zt,"--n-tab-border-color":ut,"--n-tab-border-radius":Qt,"--n-close-size":yt,"--n-close-icon-size":Mt,"--n-close-color-hover":Pt,"--n-close-color-pressed":st,"--n-close-border-radius":te,"--n-close-icon-color":Me,"--n-close-icon-color-hover":ae,"--n-close-icon-color-pressed":ge,"--n-tab-color":je,"--n-tab-font-weight":Jt,"--n-tab-font-weight-active":Ht,"--n-tab-padding":Se,"--n-tab-gap":ze,"--n-pane-padding":me,"--n-font-weight-strong":Dt,"--n-tab-color-segment":Ot}}),Pe=i?gt("tabs",ee(()=>`${s.value[0]}${e.type[0]}`),pe,e):void 0;return Object.assign({mergedClsPrefix:b,mergedValue:d,renderedNames:new Set,tabsRailElRef:le,tabsPaneWrapperRef:D,tabsElRef:n,barElRef:u,addTabInstRef:_,xScrollInstRef:v,scrollWrapperElRef:f,addTabFixed:Q,tabWrapperStyle:w,handleNavResize:q,mergedSize:s,handleScroll:fe,handleTabsResize:z,cssVars:i?void 0:pe,themeClass:Pe==null?void 0:Pe.themeClass,animationDirection:M,renderNameListRef:O,onAnimationBeforeLeave:x,onAnimationEnter:R,onAnimationAfterEnter:T,onRender:Pe==null?void 0:Pe.onRender},Le)},render(){const{mergedClsPrefix:e,type:t,addTabFixed:r,addable:l,mergedSize:h,renderNameListRef:y,onRender:b,$slots:{default:i,prefix:o,suffix:n}}=this;b==null||b();const u=i?Ri(i()).filter(s=>s.type.__TAB_PANE__===!0):[],f=i?Ri(i()).filter(s=>s.type.__TAB__===!0):[],_=!f.length,v=t==="card",g=t==="segment",p=!v&&!g&&this.justifyContent;return y.value=[],A("div",{class:[`${e}-tabs`,this.themeClass,`${e}-tabs--${t}-type`,`${e}-tabs--${h}-size`,p&&`${e}-tabs--flex`],style:this.cssVars},A("div",{class:[`${e}-tabs-nav--${t}-type`,`${e}-tabs-nav`]},Qe(o,s=>s&&A("div",{class:`${e}-tabs-nav__prefix`},s)),g?A("div",{class:`${e}-tabs-rail`,ref:"tabsRailElRef"},_?u.map((s,c)=>(y.value.push(s.props.name),A(cr,Object.assign({},s.props,{internalCreatedByPane:!0,internalLeftPadded:c!==0}),s.children?{default:s.children.tab}:void 0))):f.map((s,c)=>(y.value.push(s.props.name),c===0?s:Js(s)))):A(zr,{onResize:this.handleNavResize},{default:()=>A("div",{class:`${e}-tabs-nav-scroll-wrapper`,ref:"scrollWrapperElRef"},A(Du,{ref:"xScrollInstRef",onScroll:this.handleScroll},{default:()=>{const s=A("div",{style:this.tabWrapperStyle,class:`${e}-tabs-wrapper`},p?null:A("div",{class:`${e}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}),_?u.map((a,d)=>(y.value.push(a.props.name),fn(A(cr,Object.assign({},a.props,{internalCreatedByPane:!0,internalLeftPadded:d!==0&&(!p||p==="center"||p==="start"||p==="end")}),a.children?{default:a.children.tab}:void 0)))):f.map((a,d)=>(y.value.push(a.props.name),fn(d!==0&&!p?Js(a):a))),!r&&l&&v?Zs(l,(_?u.length:f.length)!==0):null,p?null:A("div",{class:`${e}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}));let c=s;return v&&l&&(c=A(zr,{onResize:this.handleTabsResize},{default:()=>s})),A("div",{ref:"tabsElRef",class:`${e}-tabs-nav-scroll-content`},c,v?A("div",{class:`${e}-tabs-pad`}):null,v?null:A("div",{ref:"barElRef",class:`${e}-tabs-bar`}))}}))}),r&&l&&v?Zs(l,!0):null,Qe(n,s=>s&&A("div",{class:`${e}-tabs-nav__suffix`},s))),_&&(this.animated?A("div",{ref:"tabsPaneWrapperRef",class:`${e}-tabs-pane-wrapper`},Xs(u,this.mergedValue,this.renderedNames,this.onAnimationBeforeLeave,this.onAnimationEnter,this.onAnimationAfterEnter,this.animationDirection)):Xs(u,this.mergedValue,this.renderedNames)))}});function Xs(e,t,r,l,h,y,b){const i=[];return e.forEach(o=>{const{name:n,displayDirective:u,"display-directive":f}=o.props,_=g=>u===g||f===g,v=t===n;if(o.key!==void 0&&(o.key=n),v||_("show")||_("show:lazy")&&r.has(n)){r.has(n)||r.add(n);const g=!_("if");i.push(g?Hr(o,[[kr,v]]):o)}}),b?A(Lo,{name:`${b}-transition`,onBeforeLeave:l,onEnter:h,onAfterEnter:y},{default:()=>i}):i}function Zs(e,t){return A(cr,{ref:"addTabInstRef",key:"__addable",name:"__addable",internalCreatedByPane:!0,internalAddable:!0,internalLeftPadded:t,disabled:typeof e=="object"&&e.disabled})}function Js(e){const t=zi(e);return t.props?t.props.internalLeftPadded=!0:t.props={internalLeftPadded:!0},t}function fn(e){return Array.isArray(e.dynamicProps)?e.dynamicProps.includes("internalLeftPadded")||e.dynamicProps.push("internalLeftPadded"):e.dynamicProps=["internalLeftPadded"],e}const Qs=ue({__name:"l_button",props:{disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const r=e,l=jo(),h=b=>!!l[b];function y(){r.disabled||t("click")}return(b,i)=>h("tooltip")?(ne(),Te($(Er),{key:0,trigger:"hover"},{trigger:K(()=>[J($(Ye),{size:"small",type:r.disabled?"tertiary":"default",secondary:"",round:"",style:ui({cursor:r.disabled?"not-allowed":void 0}),onClick:y},{default:K(()=>[tr(b.$slots,"default")]),_:3},8,["type","style"])]),default:K(()=>[r.disabled?tr(b.$slots,"tooltip-disabled",{key:0}):tr(b.$slots,"tooltip",{key:1})]),_:3})):(ne(),Te($(Ye),{key:1,size:"small",secondary:"",round:"",onClick:y},{default:K(()=>[tr(b.$slots,"default")]),_:3}))}}),or=ue({__name:"l_switch",props:{value:{type:Boolean}},emits:["update:value"],setup(e,{emit:t}){const r=e;function l(){t("update:value",!r.value)}const h=jo(),y=b=>!!h[b];return(b,i)=>y("tooltip")?(ne(),Te($(Er),{key:0,trigger:"hover"},{trigger:K(()=>[J($(Ye),{size:"small",color:"#4466cc",strong:!!r.value,tertiary:!r.value,round:"",onClick:l},{default:K(()=>[tr(b.$slots,"default")]),_:3},8,["strong","tertiary"])]),default:K(()=>[tr(b.$slots,"tooltip")]),_:3})):(ne(),Te($(Ye),{key:1,size:"small",color:"#4466cc",strong:!!r.value,tertiary:!r.value,round:"",onClick:l},{default:K(()=>[tr(b.$slots,"default")]),_:3},8,["strong","tertiary"]))}}),up={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},hp=he("g",{fill:"none"},[he("path",{d:"M10.5 3l6.043.002l.085.015l.063.02l.076.04l.055.04l.06.06l.03.038l.041.074l.03.083l.015.082L17 3.5v6a.5.5 0 0 1-.992.09L16 9.5V4.706L4.706 16H9.5a.5.5 0 0 1 .492.41l.008.09a.5.5 0 0 1-.41.492L9.5 17H3.48l-.069-.008l-.102-.03l-.076-.04l-.055-.04l-.06-.06l-.03-.037l-.041-.074l-.03-.083l-.006-.023A.499.499 0 0 1 3 16.5l.005.074l-.003-.031L3 10.5a.5.5 0 0 1 .992-.09L4 10.5v4.792L15.292 4H10.5a.5.5 0 0 1-.492-.41L10 3.5a.5.5 0 0 1 .5-.5z",fill:"currentColor"})],-1),fp=[hp],pp=ue({name:"ArrowMaximize20Regular",render:function(t,r){return ne(),ye("svg",up,fp)}}),vp={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},gp=he("g",{fill:"none"},[he("path",{d:"M3.5 11h5a.5.5 0 0 1 .492.41L9 11.5v5a.5.5 0 0 1-.992.09L8 16.5v-3.794l-5.146 5.148a.5.5 0 0 1-.765-.638l.057-.07L7.292 12H3.5a.5.5 0 0 1-.492-.41L3 11.5a.5.5 0 0 1 .41-.492L3.5 11h5h-5zm14.354-8.854a.5.5 0 0 1 .057.638l-.057.07L12.706 8H16.5a.5.5 0 0 1 .492.41L17 8.5a.5.5 0 0 1-.41.492L16.5 9h-5.02l-.069-.008l-.102-.03l-.076-.04l-.055-.04l-.032-.028l-.037-.042l-.042-.062l-.03-.06l-.02-.062l-.006-.023A.496.496 0 0 1 11 8.5l.005.074l-.003-.031L11 3.5a.5.5 0 0 1 .992-.09L12 3.5v3.792l5.146-5.146a.5.5 0 0 1 .708 0z",fill:"currentColor"})],-1),_p=[gp],mp=ue({name:"ArrowMinimize20Regular",render:function(t,r){return ne(),ye("svg",vp,_p)}}),bp={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},yp=he("g",{fill:"none"},[he("path",{d:"M17.78 2.22a.75.75 0 0 1 0 1.06l-1.445 1.446a4.037 4.037 0 0 1-.481 5.127l-.3.3l-.003.003l-.309.309a1.05 1.05 0 0 1-1.484 0L9.535 6.242a1.05 1.05 0 0 1 0-1.485l.611-.61a4.04 4.04 0 0 1 5.128-.481L16.72 2.22a.75.75 0 0 1 1.06 0zm-9 6.25a.75.75 0 0 1 0 1.06L7.51 10.802l1.69 1.69l1.27-1.272a.75.75 0 1 1 1.061 1.06l-1.276 1.277a1.49 1.49 0 0 1-.1 1.997l-.3.3a4.037 4.037 0 0 1-5.128.48L3.28 17.78a.75.75 0 0 1-1.06-1.06l1.445-1.446a4.037 4.037 0 0 1 .481-5.127l.3-.3a1.49 1.49 0 0 1 1.997-.1L7.72 8.47a.75.75 0 0 1 1.06 0z",fill:"currentColor"})],-1),wp=[yp],Sp=ue({name:"PlugDisconnected20Filled",render:function(t,r){return ne(),ye("svg",bp,wp)}}),Qi=ue({__name:"l_panel",props:{visible:null,title:null,minV:{default:2},maxV:{default:4}},emits:["update:visible"],setup(e,{emit:t}){const r=e;function l(b){return b>0?b<r.minV?r.minV:b>r.maxV?r.maxV:b:b>-r.minV?-r.minV:b<-r.maxV?-r.maxV:b}const h=ee({get:()=>l(r.visible),set:b=>t("update:visible",l(b))});function y(){h.value=l(-h.value)}return(b,i)=>(ne(),Te($(Tr),{title:r.title,closable:"",style:{"min-height":"500px"},onClose:y},{"header-extra":K(()=>[tr(b.$slots,"header-extra"),$(h)>e.minV?(ne(),Te($(Ye),{key:0,text:"",class:"n-base-close",focusable:!1,style:{"margin-right":"5px","margin-left":"12px","--n-text-color-hover":"black"},onClick:i[0]||(i[0]=o=>h.value-=1)},{default:K(()=>[J($(Je),null,{default:K(()=>[J($(mp))]),_:1})]),_:1})):Ke("",!0),$(h)<e.maxV?(ne(),Te($(Ye),{key:1,text:"",class:"n-base-close",focusable:!1,style:{"margin-right":"5px","margin-left":"12px","--n-text-color-hover":"black"},onClick:i[1]||(i[1]=o=>h.value+=1)},{default:K(()=>[J($(Je),null,{default:K(()=>[J($(pp))]),_:1})]),_:1})):Ke("",!0)]),default:K(()=>[tr(b.$slots,"default")]),_:3},8,["title"]))}});function ka(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let qr=ka();function Cp(e){qr=e}const xp=/[&<>"']/,kp=/[&<>"']/g,Ep=/[<>"']|&(?!#?\w+;)/,Rp=/[<>"']|&(?!#?\w+;)/g,Tp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eo=e=>Tp[e];function vt(e,t){if(t){if(xp.test(e))return e.replace(kp,eo)}else if(Ep.test(e))return e.replace(Rp,eo);return e}const Lp=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Ea(e){return e.replace(Lp,(t,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}const Ap=/(^|[^\[])\^/g;function Ge(e,t){e=typeof e=="string"?e:e.source,t=t||"";const r={replace:(l,h)=>(h=h.source||h,h=h.replace(Ap,"$1"),e=e.replace(l,h),r),getRegex:()=>new RegExp(e,t)};return r}const Bp=/[^\w:]/g,Dp=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function to(e,t,r){if(e){let l;try{l=decodeURIComponent(Ea(r)).replace(Bp,"").toLowerCase()}catch{return null}if(l.indexOf("javascript:")===0||l.indexOf("vbscript:")===0||l.indexOf("data:")===0)return null}t&&!Dp.test(r)&&(r=$p(t,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch{return null}return r}const Ci={},Op=/^[^:]+:\/*[^/]*$/,Mp=/^([^:]+:)[\s\S]*$/,Pp=/^([^:]+:\/*[^/]*)[\s\S]*$/;function $p(e,t){Ci[" "+e]||(Op.test(e)?Ci[" "+e]=e+"/":Ci[" "+e]=Ti(e,"/",!0)),e=Ci[" "+e];const r=e.indexOf(":")===-1;return t.substring(0,2)==="//"?r?t:e.replace(Mp,"$1")+t:t.charAt(0)==="/"?r?t:e.replace(Pp,"$1")+t:e+t}const Wi={exec:function(){}};function Xt(e){let t=1,r,l;for(;t<arguments.length;t++){r=arguments[t];for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e}function ro(e,t){const r=e.replace(/\|/g,(y,b,i)=>{let o=!1,n=b;for(;--n>=0&&i[n]==="\\";)o=!o;return o?"|":" |"}),l=r.split(/ \|/);let h=0;if(l[0].trim()||l.shift(),l.length>0&&!l[l.length-1].trim()&&l.pop(),l.length>t)l.splice(t);else for(;l.length<t;)l.push("");for(;h<l.length;h++)l[h]=l[h].trim().replace(/\\\|/g,"|");return l}function Ti(e,t,r){const l=e.length;if(l===0)return"";let h=0;for(;h<l;){const y=e.charAt(l-h-1);if(y===t&&!r)h++;else if(y!==t&&r)h++;else break}return e.slice(0,l-h)}function Ip(e,t){if(e.indexOf(t[1])===-1)return-1;const r=e.length;let l=0,h=0;for(;h<r;h++)if(e[h]==="\\")h++;else if(e[h]===t[0])l++;else if(e[h]===t[1]&&(l--,l<0))return h;return-1}function Ra(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function io(e,t){if(t<1)return"";let r="";for(;t>1;)t&1&&(r+=e),t>>=1,e+=e;return r+e}function no(e,t,r,l){const h=t.href,y=t.title?vt(t.title):null,b=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){l.state.inLink=!0;const i={type:"link",raw:r,href:h,title:y,text:b,tokens:l.inlineTokens(b)};return l.state.inLink=!1,i}return{type:"image",raw:r,href:h,title:y,text:vt(b)}}function zp(e,t){const r=e.match(/^(\s+)(?:```)/);if(r===null)return t;const l=r[1];return t.split(`
`).map(h=>{const y=h.match(/^\s+/);if(y===null)return h;const[b]=y;return b.length>=l.length?h.slice(l.length):h}).join(`
`)}class ls{constructor(t){this.options=t||qr}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const l=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?l:Ti(l,`
`)}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const l=r[0],h=zp(l,r[3]||"");return{type:"code",raw:l,lang:r[2]?r[2].trim():r[2],text:h}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let l=r[2].trim();if(/#$/.test(l)){const h=Ti(l,"#");(this.options.pedantic||!h||/ $/.test(h))&&(l=h.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:l,tokens:this.lexer.inline(l)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){const l=r[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:r[0],tokens:this.lexer.blockTokens(l,[]),text:l}}}list(t){let r=this.rules.block.list.exec(t);if(r){let l,h,y,b,i,o,n,u,f,_,v,g,p=r[1].trim();const s=p.length>1,c={type:"list",raw:"",ordered:s,start:s?+p.slice(0,-1):"",loose:!1,items:[]};p=s?`\\d{1,9}\\${p.slice(-1)}`:`\\${p}`,this.options.pedantic&&(p=s?p:"[*+-]");const a=new RegExp(`^( {0,3}${p})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;t&&(g=!1,!(!(r=a.exec(t))||this.rules.block.hr.test(t)));){if(l=r[0],t=t.substring(l.length),u=r[2].split(`
`,1)[0],f=t.split(`
`,1)[0],this.options.pedantic?(b=2,v=u.trimLeft()):(b=r[2].search(/[^ ]/),b=b>4?1:b,v=u.slice(b),b+=r[1].length),o=!1,!u&&/^ *$/.test(f)&&(l+=f+`
`,t=t.substring(f.length+1),g=!0),!g){const m=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),w=new RegExp(`^ {0,${Math.min(3,b-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),S=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:\`\`\`|~~~)`),k=new RegExp(`^ {0,${Math.min(3,b-1)}}#`);for(;t&&(_=t.split(`
`,1)[0],u=_,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(S.test(u)||k.test(u)||m.test(u)||w.test(t)));){if(u.search(/[^ ]/)>=b||!u.trim())v+=`
`+u.slice(b);else if(!o)v+=`
`+u;else break;!o&&!u.trim()&&(o=!0),l+=_+`
`,t=t.substring(_.length+1)}}c.loose||(n?c.loose=!0:/\n *\n *$/.test(l)&&(n=!0)),this.options.gfm&&(h=/^\[[ xX]\] /.exec(v),h&&(y=h[0]!=="[ ] ",v=v.replace(/^\[[ xX]\] +/,""))),c.items.push({type:"list_item",raw:l,task:!!h,checked:y,loose:!1,text:v}),c.raw+=l}c.items[c.items.length-1].raw=l.trimRight(),c.items[c.items.length-1].text=v.trimRight(),c.raw=c.raw.trimRight();const d=c.items.length;for(i=0;i<d;i++){this.lexer.state.top=!1,c.items[i].tokens=this.lexer.blockTokens(c.items[i].text,[]);const m=c.items[i].tokens.filter(S=>S.type==="space"),w=m.every(S=>{const k=S.raw.split("");let C=0;for(const E of k)if(E===`
`&&(C+=1),C>1)return!0;return!1});!c.loose&&m.length&&w&&(c.loose=!0,c.items[i].loose=!0)}return c}}html(t){const r=this.rules.block.html.exec(t);if(r){const l={type:"html",raw:r[0],pre:!this.options.sanitizer&&(r[1]==="pre"||r[1]==="script"||r[1]==="style"),text:r[0]};if(this.options.sanitize){const h=this.options.sanitizer?this.options.sanitizer(r[0]):vt(r[0]);l.type="paragraph",l.text=h,l.tokens=this.lexer.inline(h)}return l}}def(t){const r=this.rules.block.def.exec(t);if(r){r[3]&&(r[3]=r[3].substring(1,r[3].length-1));const l=r[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:l,raw:r[0],href:r[2],title:r[3]}}}table(t){const r=this.rules.block.table.exec(t);if(r){const l={type:"table",header:ro(r[1]).map(h=>({text:h})),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(l.header.length===l.align.length){l.raw=r[0];let h=l.align.length,y,b,i,o;for(y=0;y<h;y++)/^ *-+: *$/.test(l.align[y])?l.align[y]="right":/^ *:-+: *$/.test(l.align[y])?l.align[y]="center":/^ *:-+ *$/.test(l.align[y])?l.align[y]="left":l.align[y]=null;for(h=l.rows.length,y=0;y<h;y++)l.rows[y]=ro(l.rows[y],l.header.length).map(n=>({text:n}));for(h=l.header.length,b=0;b<h;b++)l.header[b].tokens=this.lexer.inline(l.header[b].text);for(h=l.rows.length,b=0;b<h;b++)for(o=l.rows[b],i=0;i<o.length;i++)o[i].tokens=this.lexer.inline(o[i].text);return l}}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const l=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:l,tokens:this.lexer.inline(l)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:vt(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):vt(r[0]):r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const l=r[2].trim();if(!this.options.pedantic&&/^</.test(l)){if(!/>$/.test(l))return;const b=Ti(l.slice(0,-1),"\\");if((l.length-b.length)%2===0)return}else{const b=Ip(r[2],"()");if(b>-1){const o=(r[0].indexOf("!")===0?5:4)+r[1].length+b;r[2]=r[2].substring(0,b),r[0]=r[0].substring(0,o).trim(),r[3]=""}}let h=r[2],y="";if(this.options.pedantic){const b=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(h);b&&(h=b[1],y=b[3])}else y=r[3]?r[3].slice(1,-1):"";return h=h.trim(),/^</.test(h)&&(this.options.pedantic&&!/>$/.test(l)?h=h.slice(1):h=h.slice(1,-1)),no(r,{href:h&&h.replace(this.rules.inline._escapes,"$1"),title:y&&y.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(t,r){let l;if((l=this.rules.inline.reflink.exec(t))||(l=this.rules.inline.nolink.exec(t))){let h=(l[2]||l[1]).replace(/\s+/g," ");if(h=r[h.toLowerCase()],!h||!h.href){const y=l[0].charAt(0);return{type:"text",raw:y,text:y}}return no(l,h,l[0],this.lexer)}}emStrong(t,r,l=""){let h=this.rules.inline.emStrong.lDelim.exec(t);if(!h||h[3]&&l.match(/[\p{L}\p{N}]/u))return;const y=h[1]||h[2]||"";if(!y||y&&(l===""||this.rules.inline.punctuation.exec(l))){const b=h[0].length-1;let i,o,n=b,u=0;const f=h[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(f.lastIndex=0,r=r.slice(-1*t.length+b);(h=f.exec(r))!=null;){if(i=h[1]||h[2]||h[3]||h[4]||h[5]||h[6],!i)continue;if(o=i.length,h[3]||h[4]){n+=o;continue}else if((h[5]||h[6])&&b%3&&!((b+o)%3)){u+=o;continue}if(n-=o,n>0)continue;if(o=Math.min(o,o+n+u),Math.min(b,o)%2){const v=t.slice(1,b+h.index+o);return{type:"em",raw:t.slice(0,b+h.index+o+1),text:v,tokens:this.lexer.inlineTokens(v)}}const _=t.slice(2,b+h.index+o-1);return{type:"strong",raw:t.slice(0,b+h.index+o+1),text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let l=r[2].replace(/\n/g," ");const h=/[^ ]/.test(l),y=/^ /.test(l)&&/ $/.test(l);return h&&y&&(l=l.substring(1,l.length-1)),l=vt(l,!0),{type:"codespan",raw:r[0],text:l}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t,r){const l=this.rules.inline.autolink.exec(t);if(l){let h,y;return l[2]==="@"?(h=vt(this.options.mangle?r(l[1]):l[1]),y="mailto:"+h):(h=vt(l[1]),y=h),{type:"link",raw:l[0],text:h,href:y,tokens:[{type:"text",raw:h,text:h}]}}}url(t,r){let l;if(l=this.rules.inline.url.exec(t)){let h,y;if(l[2]==="@")h=vt(this.options.mangle?r(l[0]):l[0]),y="mailto:"+h;else{let b;do b=l[0],l[0]=this.rules.inline._backpedal.exec(l[0])[0];while(b!==l[0]);h=vt(l[0]),l[1]==="www."?y="http://"+h:y=h}return{type:"link",raw:l[0],text:h,href:y,tokens:[{type:"text",raw:h,text:h}]}}}inlineText(t,r){const l=this.rules.inline.text.exec(t);if(l){let h;return this.lexer.state.inRawBlock?h=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):vt(l[0]):l[0]:h=vt(this.options.smartypants?r(l[0]):l[0]),{type:"text",raw:l[0],text:h}}}}const Re={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Wi,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Re._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Re._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Re.def=Ge(Re.def).replace("label",Re._label).replace("title",Re._title).getRegex();Re.bullet=/(?:[*+-]|\d{1,9}[.)])/;Re.listItemStart=Ge(/^( *)(bull) */).replace("bull",Re.bullet).getRegex();Re.list=Ge(Re.list).replace(/bull/g,Re.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Re.def.source+")").getRegex();Re._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Re._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Re.html=Ge(Re.html,"i").replace("comment",Re._comment).replace("tag",Re._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Re.paragraph=Ge(Re._paragraph).replace("hr",Re.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Re._tag).getRegex();Re.blockquote=Ge(Re.blockquote).replace("paragraph",Re.paragraph).getRegex();Re.normal=Xt({},Re);Re.gfm=Xt({},Re.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});Re.gfm.table=Ge(Re.gfm.table).replace("hr",Re.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Re._tag).getRegex();Re.gfm.paragraph=Ge(Re._paragraph).replace("hr",Re.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Re.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Re._tag).getRegex();Re.pedantic=Xt({},Re.normal,{html:Ge(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Re._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Wi,paragraph:Ge(Re.normal._paragraph).replace("hr",Re.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Re.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const we={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Wi,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Wi,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};we._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";we.punctuation=Ge(we.punctuation).replace(/punctuation/g,we._punctuation).getRegex();we.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;we.escapedEmSt=/\\\*|\\_/g;we._comment=Ge(Re._comment).replace("(?:-->|$)","-->").getRegex();we.emStrong.lDelim=Ge(we.emStrong.lDelim).replace(/punct/g,we._punctuation).getRegex();we.emStrong.rDelimAst=Ge(we.emStrong.rDelimAst,"g").replace(/punct/g,we._punctuation).getRegex();we.emStrong.rDelimUnd=Ge(we.emStrong.rDelimUnd,"g").replace(/punct/g,we._punctuation).getRegex();we._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;we._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;we._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;we.autolink=Ge(we.autolink).replace("scheme",we._scheme).replace("email",we._email).getRegex();we._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;we.tag=Ge(we.tag).replace("comment",we._comment).replace("attribute",we._attribute).getRegex();we._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;we._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;we._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;we.link=Ge(we.link).replace("label",we._label).replace("href",we._href).replace("title",we._title).getRegex();we.reflink=Ge(we.reflink).replace("label",we._label).replace("ref",Re._label).getRegex();we.nolink=Ge(we.nolink).replace("ref",Re._label).getRegex();we.reflinkSearch=Ge(we.reflinkSearch,"g").replace("reflink",we.reflink).replace("nolink",we.nolink).getRegex();we.normal=Xt({},we);we.pedantic=Xt({},we.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ge(/^!?\[(label)\]\((.*?)\)/).replace("label",we._label).getRegex(),reflink:Ge(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",we._label).getRegex()});we.gfm=Xt({},we.normal,{escape:Ge(we.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});we.gfm.url=Ge(we.gfm.url,"i").replace("email",we.gfm._extended_email).getRegex();we.breaks=Xt({},we.gfm,{br:Ge(we.br).replace("{2,}","*").getRegex(),text:Ge(we.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Fp(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function so(e){let t="",r,l;const h=e.length;for(r=0;r<h;r++)l=e.charCodeAt(r),Math.random()>.5&&(l="x"+l.toString(16)),t+="&#"+l+";";return t}class ur{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||qr,this.options.tokenizer=this.options.tokenizer||new ls,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:Re.normal,inline:we.normal};this.options.pedantic?(r.block=Re.pedantic,r.inline=we.pedantic):this.options.gfm&&(r.block=Re.gfm,this.options.breaks?r.inline=we.breaks:r.inline=we.gfm),this.tokenizer.rules=r}static get rules(){return{block:Re,inline:we}}static lex(t,r){return new ur(r).lex(t)}static lexInline(t,r){return new ur(r).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let r;for(;r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(i,o,n)=>o+"    ".repeat(n.length));let l,h,y,b;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(i=>(l=i.call({lexer:this},t,r))?(t=t.substring(l.raw.length),r.push(l),!0):!1))){if(l=this.tokenizer.space(t)){t=t.substring(l.raw.length),l.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(l);continue}if(l=this.tokenizer.code(t)){t=t.substring(l.raw.length),h=r[r.length-1],h&&(h.type==="paragraph"||h.type==="text")?(h.raw+=`
`+l.raw,h.text+=`
`+l.text,this.inlineQueue[this.inlineQueue.length-1].src=h.text):r.push(l);continue}if(l=this.tokenizer.fences(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.heading(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.hr(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.blockquote(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.list(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.html(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.def(t)){t=t.substring(l.raw.length),h=r[r.length-1],h&&(h.type==="paragraph"||h.type==="text")?(h.raw+=`
`+l.raw,h.text+=`
`+l.raw,this.inlineQueue[this.inlineQueue.length-1].src=h.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.lheading(t)){t=t.substring(l.raw.length),r.push(l);continue}if(y=t,this.options.extensions&&this.options.extensions.startBlock){let i=1/0;const o=t.slice(1);let n;this.options.extensions.startBlock.forEach(function(u){n=u.call({lexer:this},o),typeof n=="number"&&n>=0&&(i=Math.min(i,n))}),i<1/0&&i>=0&&(y=t.substring(0,i+1))}if(this.state.top&&(l=this.tokenizer.paragraph(y))){h=r[r.length-1],b&&h.type==="paragraph"?(h.raw+=`
`+l.raw,h.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=h.text):r.push(l),b=y.length!==t.length,t=t.substring(l.raw.length);continue}if(l=this.tokenizer.text(t)){t=t.substring(l.raw.length),h=r[r.length-1],h&&h.type==="text"?(h.raw+=`
`+l.raw,h.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=h.text):r.push(l);continue}if(t){const i="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(i);break}else throw new Error(i)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let l,h,y,b=t,i,o,n;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(b))!=null;)u.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(b=b.slice(0,i.index)+"["+io("a",i[0].length-2)+"]"+b.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.blockSkip.exec(b))!=null;)b=b.slice(0,i.index)+"["+io("a",i[0].length-2)+"]"+b.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(i=this.tokenizer.rules.inline.escapedEmSt.exec(b))!=null;)b=b.slice(0,i.index)+"++"+b.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(o||(n=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(l=u.call({lexer:this},t,r))?(t=t.substring(l.raw.length),r.push(l),!0):!1))){if(l=this.tokenizer.escape(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.tag(t)){t=t.substring(l.raw.length),h=r[r.length-1],h&&l.type==="text"&&h.type==="text"?(h.raw+=l.raw,h.text+=l.text):r.push(l);continue}if(l=this.tokenizer.link(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(l.raw.length),h=r[r.length-1],h&&l.type==="text"&&h.type==="text"?(h.raw+=l.raw,h.text+=l.text):r.push(l);continue}if(l=this.tokenizer.emStrong(t,b,n)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.codespan(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.br(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.del(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.autolink(t,so)){t=t.substring(l.raw.length),r.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(t,so))){t=t.substring(l.raw.length),r.push(l);continue}if(y=t,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const f=t.slice(1);let _;this.options.extensions.startInline.forEach(function(v){_=v.call({lexer:this},f),typeof _=="number"&&_>=0&&(u=Math.min(u,_))}),u<1/0&&u>=0&&(y=t.substring(0,u+1))}if(l=this.tokenizer.inlineText(y,Fp)){t=t.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(n=l.raw.slice(-1)),o=!0,h=r[r.length-1],h&&h.type==="text"?(h.raw+=l.raw,h.text+=l.text):r.push(l);continue}if(t){const u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return r}}class cs{constructor(t){this.options=t||qr}code(t,r,l){const h=(r||"").match(/\S*/)[0];if(this.options.highlight){const y=this.options.highlight(t,h);y!=null&&y!==t&&(l=!0,t=y)}return t=t.replace(/\n$/,"")+`
`,h?'<pre><code class="'+this.options.langPrefix+vt(h,!0)+'">'+(l?t:vt(t,!0))+`</code></pre>
`:"<pre><code>"+(l?t:vt(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t){return t}heading(t,r,l,h){if(this.options.headerIds){const y=this.options.headerPrefix+h.slug(l);return`<h${r} id="${y}">${t}</h${r}>
`}return`<h${r}>${t}</h${r}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,r,l){const h=r?"ol":"ul",y=r&&l!==1?' start="'+l+'"':"";return"<"+h+y+`>
`+t+"</"+h+`>
`}listitem(t){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>
`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,r){const l=r.header?"th":"td";return(r.align?`<${l} align="${r.align}">`:`<${l}>`)+t+`</${l}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,r,l){if(t=to(this.options.sanitize,this.options.baseUrl,t),t===null)return l;let h='<a href="'+vt(t)+'"';return r&&(h+=' title="'+r+'"'),h+=">"+l+"</a>",h}image(t,r,l){if(t=to(this.options.sanitize,this.options.baseUrl,t),t===null)return l;let h=`<img src="${t}" alt="${l}"`;return r&&(h+=` title="${r}"`),h+=this.options.xhtml?"/>":">",h}text(t){return t}}class Ta{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,l){return""+l}image(t,r,l){return""+l}br(){return""}}class La{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,r){let l=t,h=0;if(this.seen.hasOwnProperty(l)){h=this.seen[t];do h++,l=t+"-"+h;while(this.seen.hasOwnProperty(l))}return r||(this.seen[t]=h,this.seen[l]=0),l}slug(t,r={}){const l=this.serialize(t);return this.getNextSafeSlug(l,r.dryrun)}}class rr{constructor(t){this.options=t||qr,this.options.renderer=this.options.renderer||new cs,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ta,this.slugger=new La}static parse(t,r){return new rr(r).parse(t)}static parseInline(t,r){return new rr(r).parseInline(t)}parse(t,r=!0){let l="",h,y,b,i,o,n,u,f,_,v,g,p,s,c,a,d,m,w,S;const k=t.length;for(h=0;h<k;h++){if(v=t[h],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[v.type]&&(S=this.options.extensions.renderers[v.type].call({parser:this},v),S!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(v.type))){l+=S||"";continue}switch(v.type){case"space":continue;case"hr":{l+=this.renderer.hr();continue}case"heading":{l+=this.renderer.heading(this.parseInline(v.tokens),v.depth,Ea(this.parseInline(v.tokens,this.textRenderer)),this.slugger);continue}case"code":{l+=this.renderer.code(v.text,v.lang,v.escaped);continue}case"table":{for(f="",u="",i=v.header.length,y=0;y<i;y++)u+=this.renderer.tablecell(this.parseInline(v.header[y].tokens),{header:!0,align:v.align[y]});for(f+=this.renderer.tablerow(u),_="",i=v.rows.length,y=0;y<i;y++){for(n=v.rows[y],u="",o=n.length,b=0;b<o;b++)u+=this.renderer.tablecell(this.parseInline(n[b].tokens),{header:!1,align:v.align[b]});_+=this.renderer.tablerow(u)}l+=this.renderer.table(f,_);continue}case"blockquote":{_=this.parse(v.tokens),l+=this.renderer.blockquote(_);continue}case"list":{for(g=v.ordered,p=v.start,s=v.loose,i=v.items.length,_="",y=0;y<i;y++)a=v.items[y],d=a.checked,m=a.task,c="",a.task&&(w=this.renderer.checkbox(d),s?a.tokens.length>0&&a.tokens[0].type==="paragraph"?(a.tokens[0].text=w+" "+a.tokens[0].text,a.tokens[0].tokens&&a.tokens[0].tokens.length>0&&a.tokens[0].tokens[0].type==="text"&&(a.tokens[0].tokens[0].text=w+" "+a.tokens[0].tokens[0].text)):a.tokens.unshift({type:"text",text:w}):c+=w),c+=this.parse(a.tokens,s),_+=this.renderer.listitem(c,m,d);l+=this.renderer.list(_,g,p);continue}case"html":{l+=this.renderer.html(v.text);continue}case"paragraph":{l+=this.renderer.paragraph(this.parseInline(v.tokens));continue}case"text":{for(_=v.tokens?this.parseInline(v.tokens):v.text;h+1<k&&t[h+1].type==="text";)v=t[++h],_+=`
`+(v.tokens?this.parseInline(v.tokens):v.text);l+=r?this.renderer.paragraph(_):_;continue}default:{const C='Token with "'+v.type+'" type was not found.';if(this.options.silent){console.error(C);return}else throw new Error(C)}}}return l}parseInline(t,r){r=r||this.renderer;let l="",h,y,b;const i=t.length;for(h=0;h<i;h++){if(y=t[h],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[y.type]&&(b=this.options.extensions.renderers[y.type].call({parser:this},y),b!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(y.type))){l+=b||"";continue}switch(y.type){case"escape":{l+=r.text(y.text);break}case"html":{l+=r.html(y.text);break}case"link":{l+=r.link(y.href,y.title,this.parseInline(y.tokens,r));break}case"image":{l+=r.image(y.href,y.title,y.text);break}case"strong":{l+=r.strong(this.parseInline(y.tokens,r));break}case"em":{l+=r.em(this.parseInline(y.tokens,r));break}case"codespan":{l+=r.codespan(y.text);break}case"br":{l+=r.br();break}case"del":{l+=r.del(this.parseInline(y.tokens,r));break}case"text":{l+=r.text(y.text);break}default:{const o='Token with "'+y.type+'" type was not found.';if(this.options.silent){console.error(o);return}else throw new Error(o)}}}return l}}function De(e,t,r){if(typeof e>"u"||e===null)throw new Error("marked(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(typeof t=="function"&&(r=t,t=null),t=Xt({},De.defaults,t||{}),Ra(t),r){const h=t.highlight;let y;try{y=ur.lex(e,t)}catch(o){return r(o)}const b=function(o){let n;if(!o)try{t.walkTokens&&De.walkTokens(y,t.walkTokens),n=rr.parse(y,t)}catch(u){o=u}return t.highlight=h,o?r(o):r(null,n)};if(!h||h.length<3||(delete t.highlight,!y.length))return b();let i=0;De.walkTokens(y,function(o){o.type==="code"&&(i++,setTimeout(()=>{h(o.text,o.lang,function(n,u){if(n)return b(n);u!=null&&u!==o.text&&(o.text=u,o.escaped=!0),i--,i===0&&b()})},0))}),i===0&&b();return}function l(h){if(h.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+vt(h.message+"",!0)+"</pre>";throw h}try{const h=ur.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(De.walkTokens(h,t.walkTokens)).then(()=>rr.parse(h,t)).catch(l);De.walkTokens(h,t.walkTokens)}return rr.parse(h,t)}catch(h){l(h)}}De.options=De.setOptions=function(e){return Xt(De.defaults,e),Cp(De.defaults),De};De.getDefaults=ka;De.defaults=qr;De.use=function(...e){const t=Xt({},...e),r=De.defaults.extensions||{renderers:{},childTokens:{}};let l;e.forEach(h=>{if(h.extensions&&(l=!0,h.extensions.forEach(y=>{if(!y.name)throw new Error("extension name required");if(y.renderer){const b=r.renderers?r.renderers[y.name]:null;b?r.renderers[y.name]=function(...i){let o=y.renderer.apply(this,i);return o===!1&&(o=b.apply(this,i)),o}:r.renderers[y.name]=y.renderer}if(y.tokenizer){if(!y.level||y.level!=="block"&&y.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");r[y.level]?r[y.level].unshift(y.tokenizer):r[y.level]=[y.tokenizer],y.start&&(y.level==="block"?r.startBlock?r.startBlock.push(y.start):r.startBlock=[y.start]:y.level==="inline"&&(r.startInline?r.startInline.push(y.start):r.startInline=[y.start]))}y.childTokens&&(r.childTokens[y.name]=y.childTokens)})),h.renderer){const y=De.defaults.renderer||new cs;for(const b in h.renderer){const i=y[b];y[b]=(...o)=>{let n=h.renderer[b].apply(y,o);return n===!1&&(n=i.apply(y,o)),n}}t.renderer=y}if(h.tokenizer){const y=De.defaults.tokenizer||new ls;for(const b in h.tokenizer){const i=y[b];y[b]=(...o)=>{let n=h.tokenizer[b].apply(y,o);return n===!1&&(n=i.apply(y,o)),n}}t.tokenizer=y}if(h.walkTokens){const y=De.defaults.walkTokens;t.walkTokens=function(b){let i=[];return i.push(h.walkTokens.call(this,b)),y&&(i=i.concat(y.call(this,b))),i}}l&&(t.extensions=r),De.setOptions(t)})};De.walkTokens=function(e,t){let r=[];for(const l of e)switch(r=r.concat(t.call(De,l)),l.type){case"table":{for(const h of l.header)r=r.concat(De.walkTokens(h.tokens,t));for(const h of l.rows)for(const y of h)r=r.concat(De.walkTokens(y.tokens,t));break}case"list":{r=r.concat(De.walkTokens(l.items,t));break}default:De.defaults.extensions&&De.defaults.extensions.childTokens&&De.defaults.extensions.childTokens[l.type]?De.defaults.extensions.childTokens[l.type].forEach(function(h){r=r.concat(De.walkTokens(l[h],t))}):l.tokens&&(r=r.concat(De.walkTokens(l.tokens,t)))}return r};De.parseInline=function(e,t){if(typeof e>"u"||e===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=Xt({},De.defaults,t||{}),Ra(t);try{const r=ur.lexInline(e,t);return t.walkTokens&&De.walkTokens(r,t.walkTokens),rr.parseInline(r,t)}catch(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+vt(r.message+"",!0)+"</pre>";throw r}};De.Parser=rr;De.parser=rr.parse;De.Renderer=cs;De.TextRenderer=Ta;De.Lexer=ur;De.lexer=ur.lex;De.Tokenizer=ls;De.Slugger=La;De.parse=De;De.options;De.setOptions;De.use;De.walkTokens;De.parseInline;rr.parse;ur.lex;/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */function _r(e){return _r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_r(e)}function Bn(e,t){return Bn=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},Bn(e,t)}function Hp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Li(e,t,r){return Hp()?Li=Reflect.construct:Li=function(h,y,b){var i=[null];i.push.apply(i,y);var o=Function.bind.apply(h,i),n=new o;return b&&Bn(n,b.prototype),n},Li.apply(null,arguments)}function Vt(e){return Np(e)||Wp(e)||Up(e)||jp()}function Np(e){if(Array.isArray(e))return Dn(e)}function Wp(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Up(e,t){if(!!e){if(typeof e=="string")return Dn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dn(e,t)}}function Dn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,l=new Array(t);r<t;r++)l[r]=e[r];return l}function jp(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vp=Object.hasOwnProperty,oo=Object.setPrototypeOf,Kp=Object.isFrozen,qp=Object.getPrototypeOf,Gp=Object.getOwnPropertyDescriptor,xt=Object.freeze,nr=Object.seal,Yp=Object.create,Aa=typeof Reflect<"u"&&Reflect,Ui=Aa.apply,On=Aa.construct;Ui||(Ui=function(t,r,l){return t.apply(r,l)});xt||(xt=function(t){return t});nr||(nr=function(t){return t});On||(On=function(t,r){return Li(t,Vt(r))});var Xp=qt(Array.prototype.forEach),ao=qt(Array.prototype.pop),ti=qt(Array.prototype.push),Ai=qt(String.prototype.toLowerCase),Zp=qt(String.prototype.match),gr=qt(String.prototype.replace),Jp=qt(String.prototype.indexOf),Qp=qt(String.prototype.trim),St=qt(RegExp.prototype.test),pn=ev(TypeError);function qt(e){return function(t){for(var r=arguments.length,l=new Array(r>1?r-1:0),h=1;h<r;h++)l[h-1]=arguments[h];return Ui(e,t,l)}}function ev(e){return function(){for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return On(e,r)}}function Ne(e,t,r){r=r||Ai,oo&&oo(e,null);for(var l=t.length;l--;){var h=t[l];if(typeof h=="string"){var y=r(h);y!==h&&(Kp(t)||(t[l]=y),h=y)}e[h]=!0}return e}function Cr(e){var t=Yp(null),r;for(r in e)Ui(Vp,e,[r])&&(t[r]=e[r]);return t}function xi(e,t){for(;e!==null;){var r=Gp(e,t);if(r){if(r.get)return qt(r.get);if(typeof r.value=="function")return qt(r.value)}e=qp(e)}function l(h){return console.warn("fallback value for",h),null}return l}var lo=xt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),vn=xt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),gn=xt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),tv=xt(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),_n=xt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),rv=xt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),co=xt(["#text"]),uo=xt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),mn=xt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ho=xt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ki=xt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),iv=nr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),nv=nr(/<%[\w\W]*|[\w\W]*%>/gm),sv=nr(/^data-[\-\w.\u00B7-\uFFFF]/),ov=nr(/^aria-[\-\w]+$/),av=nr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),lv=nr(/^(?:\w+script|data):/i),cv=nr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),dv=nr(/^html$/i),uv=function(){return typeof window>"u"?null:window},hv=function(t,r){if(_r(t)!=="object"||typeof t.createPolicy!="function")return null;var l=null,h="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(h)&&(l=r.currentScript.getAttribute(h));var y="dompurify"+(l?"#"+l:"");try{return t.createPolicy(y,{createHTML:function(i){return i},createScriptURL:function(i){return i}})}catch{return console.warn("TrustedTypes policy "+y+" could not be created."),null}};function Ba(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:uv(),t=function(N){return Ba(N)};if(t.version="2.4.0",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;var r=e.document,l=e.document,h=e.DocumentFragment,y=e.HTMLTemplateElement,b=e.Node,i=e.Element,o=e.NodeFilter,n=e.NamedNodeMap,u=n===void 0?e.NamedNodeMap||e.MozNamedAttrMap:n,f=e.HTMLFormElement,_=e.DOMParser,v=e.trustedTypes,g=i.prototype,p=xi(g,"cloneNode"),s=xi(g,"nextSibling"),c=xi(g,"childNodes"),a=xi(g,"parentNode");if(typeof y=="function"){var d=l.createElement("template");d.content&&d.content.ownerDocument&&(l=d.content.ownerDocument)}var m=hv(v,r),w=m?m.createHTML(""):"",S=l,k=S.implementation,C=S.createNodeIterator,E=S.createDocumentFragment,D=S.getElementsByTagName,P=r.importNode,B={};try{B=Cr(l).documentMode?l.documentMode:{}}catch{}var x={};t.isSupported=typeof a=="function"&&k&&typeof k.createHTMLDocument<"u"&&B!==9;var R=iv,T=nv,O=sv,M=ov,V=lv,F=cv,W=av,G=null,ie=Ne({},[].concat(Vt(lo),Vt(vn),Vt(gn),Vt(_n),Vt(co))),L=null,q=Ne({},[].concat(Vt(uo),Vt(mn),Vt(ho),Vt(ki))),Q=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),I=null,z=null,se=!0,Z=!0,fe=!1,le=!1,Le=!1,pe=!1,Pe=!1,ce=!1,_e=!1,ke=!1,Ae=!0,Xe=!1,Me="user-content-",ae=!0,ge=!1,je={},ut=null,Zt=Ne({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Jt=null,Qt=Ne({},["audio","video","img","source","image","track"]),Ht=null,Nt=Ne({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Dt="http://www.w3.org/1998/Math/MathML",Ot="http://www.w3.org/2000/svg",yt="http://www.w3.org/1999/xhtml",Mt=yt,Pt=!1,st,te=["application/xhtml+xml","text/html"],me="text/html",Se,ze=null,Fe=l.createElement("form"),He=function(N){return N instanceof RegExp||N instanceof Function},$e=function(N){ze&&ze===N||((!N||_r(N)!=="object")&&(N={}),N=Cr(N),st=te.indexOf(N.PARSER_MEDIA_TYPE)===-1?st=me:st=N.PARSER_MEDIA_TYPE,Se=st==="application/xhtml+xml"?function(de){return de}:Ai,G="ALLOWED_TAGS"in N?Ne({},N.ALLOWED_TAGS,Se):ie,L="ALLOWED_ATTR"in N?Ne({},N.ALLOWED_ATTR,Se):q,Ht="ADD_URI_SAFE_ATTR"in N?Ne(Cr(Nt),N.ADD_URI_SAFE_ATTR,Se):Nt,Jt="ADD_DATA_URI_TAGS"in N?Ne(Cr(Qt),N.ADD_DATA_URI_TAGS,Se):Qt,ut="FORBID_CONTENTS"in N?Ne({},N.FORBID_CONTENTS,Se):Zt,I="FORBID_TAGS"in N?Ne({},N.FORBID_TAGS,Se):{},z="FORBID_ATTR"in N?Ne({},N.FORBID_ATTR,Se):{},je="USE_PROFILES"in N?N.USE_PROFILES:!1,se=N.ALLOW_ARIA_ATTR!==!1,Z=N.ALLOW_DATA_ATTR!==!1,fe=N.ALLOW_UNKNOWN_PROTOCOLS||!1,le=N.SAFE_FOR_TEMPLATES||!1,Le=N.WHOLE_DOCUMENT||!1,ce=N.RETURN_DOM||!1,_e=N.RETURN_DOM_FRAGMENT||!1,ke=N.RETURN_TRUSTED_TYPE||!1,Pe=N.FORCE_BODY||!1,Ae=N.SANITIZE_DOM!==!1,Xe=N.SANITIZE_NAMED_PROPS||!1,ae=N.KEEP_CONTENT!==!1,ge=N.IN_PLACE||!1,W=N.ALLOWED_URI_REGEXP||W,Mt=N.NAMESPACE||yt,N.CUSTOM_ELEMENT_HANDLING&&He(N.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Q.tagNameCheck=N.CUSTOM_ELEMENT_HANDLING.tagNameCheck),N.CUSTOM_ELEMENT_HANDLING&&He(N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Q.attributeNameCheck=N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),N.CUSTOM_ELEMENT_HANDLING&&typeof N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Q.allowCustomizedBuiltInElements=N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),le&&(Z=!1),_e&&(ce=!0),je&&(G=Ne({},Vt(co)),L=[],je.html===!0&&(Ne(G,lo),Ne(L,uo)),je.svg===!0&&(Ne(G,vn),Ne(L,mn),Ne(L,ki)),je.svgFilters===!0&&(Ne(G,gn),Ne(L,mn),Ne(L,ki)),je.mathMl===!0&&(Ne(G,_n),Ne(L,ho),Ne(L,ki))),N.ADD_TAGS&&(G===ie&&(G=Cr(G)),Ne(G,N.ADD_TAGS,Se)),N.ADD_ATTR&&(L===q&&(L=Cr(L)),Ne(L,N.ADD_ATTR,Se)),N.ADD_URI_SAFE_ATTR&&Ne(Ht,N.ADD_URI_SAFE_ATTR,Se),N.FORBID_CONTENTS&&(ut===Zt&&(ut=Cr(ut)),Ne(ut,N.FORBID_CONTENTS,Se)),ae&&(G["#text"]=!0),Le&&Ne(G,["html","head","body"]),G.table&&(Ne(G,["tbody"]),delete I.tbody),xt&&xt(N),ze=N)},Ze=Ne({},["mi","mo","mn","ms","mtext"]),$t=Ne({},["foreignobject","desc","title","annotation-xml"]),sr=Ne({},["title","style","font","a","script"]),Wt=Ne({},vn);Ne(Wt,gn),Ne(Wt,tv);var er=Ne({},_n);Ne(er,rv);var Yr=function(N){var de=a(N);(!de||!de.tagName)&&(de={namespaceURI:yt,tagName:"template"});var be=Ai(N.tagName),Ue=Ai(de.tagName);return N.namespaceURI===Ot?de.namespaceURI===yt?be==="svg":de.namespaceURI===Dt?be==="svg"&&(Ue==="annotation-xml"||Ze[Ue]):Boolean(Wt[be]):N.namespaceURI===Dt?de.namespaceURI===yt?be==="math":de.namespaceURI===Ot?be==="math"&&$t[Ue]:Boolean(er[be]):N.namespaceURI===yt?de.namespaceURI===Ot&&!$t[Ue]||de.namespaceURI===Dt&&!Ze[Ue]?!1:!er[be]&&(sr[be]||!Wt[be]):!1},Rt=function(N){ti(t.removed,{element:N});try{N.parentNode.removeChild(N)}catch{try{N.outerHTML=w}catch{N.remove()}}},pr=function(N,de){try{ti(t.removed,{attribute:de.getAttributeNode(N),from:de})}catch{ti(t.removed,{attribute:null,from:de})}if(de.removeAttribute(N),N==="is"&&!L[N])if(ce||_e)try{Rt(de)}catch{}else try{de.setAttribute(N,"")}catch{}},Ut=function(N){var de,be;if(Pe)N="<remove></remove>"+N;else{var Ue=Zp(N,/^[\r\n\t ]+/);be=Ue&&Ue[0]}st==="application/xhtml+xml"&&(N='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+N+"</body></html>");var ht=m?m.createHTML(N):N;if(Mt===yt)try{de=new _().parseFromString(ht,st)}catch{}if(!de||!de.documentElement){de=k.createDocument(Mt,"template",null);try{de.documentElement.innerHTML=Pt?"":ht}catch{}}var ft=de.body||de.documentElement;return N&&be&&ft.insertBefore(l.createTextNode(be),ft.childNodes[0]||null),Mt===yt?D.call(de,Le?"html":"body")[0]:Le?de.documentElement:ft},U=function(N){return C.call(N.ownerDocument||N,N,o.SHOW_ELEMENT|o.SHOW_COMMENT|o.SHOW_TEXT,null,!1)},oe=function(N){return N instanceof f&&(typeof N.nodeName!="string"||typeof N.textContent!="string"||typeof N.removeChild!="function"||!(N.attributes instanceof u)||typeof N.removeAttribute!="function"||typeof N.setAttribute!="function"||typeof N.namespaceURI!="string"||typeof N.insertBefore!="function")},Ee=function(N){return _r(b)==="object"?N instanceof b:N&&_r(N)==="object"&&typeof N.nodeType=="number"&&typeof N.nodeName=="string"},Ve=function(N,de,be){!x[N]||Xp(x[N],function(Ue){Ue.call(t,de,be,ze)})},tt=function(N){var de;if(Ve("beforeSanitizeElements",N,null),oe(N)||St(/[\u0080-\uFFFF]/,N.nodeName))return Rt(N),!0;var be=Se(N.nodeName);if(Ve("uponSanitizeElement",N,{tagName:be,allowedTags:G}),N.hasChildNodes()&&!Ee(N.firstElementChild)&&(!Ee(N.content)||!Ee(N.content.firstElementChild))&&St(/<[/\w]/g,N.innerHTML)&&St(/<[/\w]/g,N.textContent)||be==="select"&&St(/<template/i,N.innerHTML))return Rt(N),!0;if(!G[be]||I[be]){if(!I[be]&&It(be)&&(Q.tagNameCheck instanceof RegExp&&St(Q.tagNameCheck,be)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(be)))return!1;if(ae&&!ut[be]){var Ue=a(N)||N.parentNode,ht=c(N)||N.childNodes;if(ht&&Ue)for(var ft=ht.length,lt=ft-1;lt>=0;--lt)Ue.insertBefore(p(ht[lt],!0),s(N))}return Rt(N),!0}return N instanceof i&&!Yr(N)||(be==="noscript"||be==="noembed")&&St(/<\/no(script|embed)/i,N.innerHTML)?(Rt(N),!0):(le&&N.nodeType===3&&(de=N.textContent,de=gr(de,R," "),de=gr(de,T," "),N.textContent!==de&&(ti(t.removed,{element:N.cloneNode()}),N.textContent=de)),Ve("afterSanitizeElements",N,null),!1)},rt=function(N,de,be){if(Ae&&(de==="id"||de==="name")&&(be in l||be in Fe))return!1;if(!(Z&&!z[de]&&St(O,de))){if(!(se&&St(M,de))){if(!L[de]||z[de]){if(!(It(N)&&(Q.tagNameCheck instanceof RegExp&&St(Q.tagNameCheck,N)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(N))&&(Q.attributeNameCheck instanceof RegExp&&St(Q.attributeNameCheck,de)||Q.attributeNameCheck instanceof Function&&Q.attributeNameCheck(de))||de==="is"&&Q.allowCustomizedBuiltInElements&&(Q.tagNameCheck instanceof RegExp&&St(Q.tagNameCheck,be)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(be))))return!1}else if(!Ht[de]){if(!St(W,gr(be,F,""))){if(!((de==="src"||de==="xlink:href"||de==="href")&&N!=="script"&&Jp(be,"data:")===0&&Jt[N])){if(!(fe&&!St(V,gr(be,F,"")))){if(be)return!1}}}}}}return!0},It=function(N){return N.indexOf("-")>0},zt=function(N){var de,be,Ue,ht;Ve("beforeSanitizeAttributes",N,null);var ft=N.attributes;if(!!ft){var lt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:L};for(ht=ft.length;ht--;){de=ft[ht];var Lr=de,pt=Lr.name,Xr=Lr.namespaceURI;if(be=pt==="value"?de.value:Qp(de.value),Ue=Se(pt),lt.attrName=Ue,lt.attrValue=be,lt.keepAttr=!0,lt.forceKeepAttr=void 0,Ve("uponSanitizeAttribute",N,lt),be=lt.attrValue,!lt.forceKeepAttr&&(pr(pt,N),!!lt.keepAttr)){if(St(/\/>/i,be)){pr(pt,N);continue}le&&(be=gr(be,R," "),be=gr(be,T," "));var vi=Se(N.nodeName);if(!!rt(vi,Ue,be)){if(Xe&&(Ue==="id"||Ue==="name")&&(pr(pt,N),be=Me+be),m&&_r(v)==="object"&&typeof v.getAttributeType=="function"&&!Xr)switch(v.getAttributeType(vi,Ue)){case"TrustedHTML":be=m.createHTML(be);break;case"TrustedScriptURL":be=m.createScriptURL(be);break}try{Xr?N.setAttributeNS(Xr,pt,be):N.setAttribute(pt,be),ao(t.removed)}catch{}}}}Ve("afterSanitizeAttributes",N,null)}},jt=function Ce(N){var de,be=U(N);for(Ve("beforeSanitizeShadowDOM",N,null);de=be.nextNode();)Ve("uponSanitizeShadowNode",de,null),!tt(de)&&(de.content instanceof h&&Ce(de.content),zt(de));Ve("afterSanitizeShadowDOM",N,null)};return t.sanitize=function(Ce){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},de,be,Ue,ht,ft;if(Pt=!Ce,Pt&&(Ce="<!-->"),typeof Ce!="string"&&!Ee(Ce)){if(typeof Ce.toString!="function")throw pn("toString is not a function");if(Ce=Ce.toString(),typeof Ce!="string")throw pn("dirty is not a string, aborting")}if(!t.isSupported){if(_r(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof Ce=="string")return e.toStaticHTML(Ce);if(Ee(Ce))return e.toStaticHTML(Ce.outerHTML)}return Ce}if(pe||$e(N),t.removed=[],typeof Ce=="string"&&(ge=!1),ge){if(Ce.nodeName){var lt=Se(Ce.nodeName);if(!G[lt]||I[lt])throw pn("root node is forbidden and cannot be sanitized in-place")}}else if(Ce instanceof b)de=Ut("<!---->"),be=de.ownerDocument.importNode(Ce,!0),be.nodeType===1&&be.nodeName==="BODY"||be.nodeName==="HTML"?de=be:de.appendChild(be);else{if(!ce&&!le&&!Le&&Ce.indexOf("<")===-1)return m&&ke?m.createHTML(Ce):Ce;if(de=Ut(Ce),!de)return ce?null:ke?w:""}de&&Pe&&Rt(de.firstChild);for(var Lr=U(ge?Ce:de);Ue=Lr.nextNode();)Ue.nodeType===3&&Ue===ht||tt(Ue)||(Ue.content instanceof h&&jt(Ue.content),zt(Ue),ht=Ue);if(ht=null,ge)return Ce;if(ce){if(_e)for(ft=E.call(de.ownerDocument);de.firstChild;)ft.appendChild(de.firstChild);else ft=de;return L.shadowroot&&(ft=P.call(r,ft,!0)),ft}var pt=Le?de.outerHTML:de.innerHTML;return Le&&G["!doctype"]&&de.ownerDocument&&de.ownerDocument.doctype&&de.ownerDocument.doctype.name&&St(dv,de.ownerDocument.doctype.name)&&(pt="<!DOCTYPE "+de.ownerDocument.doctype.name+`>
`+pt),le&&(pt=gr(pt,R," "),pt=gr(pt,T," ")),m&&ke?m.createHTML(pt):pt},t.setConfig=function(Ce){$e(Ce),pe=!0},t.clearConfig=function(){ze=null,pe=!1},t.isValidAttribute=function(Ce,N,de){ze||$e({});var be=Se(Ce),Ue=Se(N);return rt(be,Ue,de)},t.addHook=function(Ce,N){typeof N=="function"&&(x[Ce]=x[Ce]||[],ti(x[Ce],N))},t.removeHook=function(Ce){if(x[Ce])return ao(x[Ce])},t.removeHooks=function(Ce){x[Ce]&&(x[Ce]=[])},t.removeAllHooks=function(){x={}},t}var Da=Ba();const fv=["innerHTML"],Mn=ue({__name:"div_markdown",props:{value:null,showMsg:{type:Boolean,default:!1}},emits:["action"],setup(e,{emit:t}){const r=e,l=ee(()=>{const y="---";let b="";try{b=De(r.value||y,{smartLists:!0})}catch(i){const o=r.value;return console.error({msg:"marked issue",value:o,error:i}),String(i)}try{return Da.sanitize(b,{ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|es|path|run|config|gnmic|containerlab|clab):|[^a-z]|[a-z+.-]+(?:[^a-z+.\-:]|$))/i})}catch(i){const o=r.value;return console.error({msg:"DOMPurify issue with ansiup",value:o,error:i}),String(i)}});function h(y){var f;if(y.target==null)return;const b=y.target;if(b.tagName!=="A")return;const i=(f=b.getAttribute("href"))!=null?f:"",[o,n]=i.split(":",2),u={action:o,command:n.replaceAll("/"," ").trim()||b.textContent||""};switch(o){case"run":u.action="config";break;case"containerlab":u.action="clab";break}y.preventDefault(),r.showMsg?Vo(`Clicked on (proto:${o})

${u.action}
${u.command}`):t("action",u)}return(y,b)=>(ne(),ye("div",{xstyle:{"white-space":"pre-wrap"},class:"markdown-body jv-code",onClick:h,innerHTML:$(l)},null,8,fv))}});const pv=xe(" vars "),vv=xe(" vars "),gv=xe(" md "),_v=xe(" md "),mv=xe(" Input variables "),bv=he("span",null,"Template",-1),yv=xe(" ? "),wv=xe("Add an example template"),Sv=xe(" Result "),Cv={class:"jv-container jv-light boxed"},xv=["innerHTML"],kv={key:0},Ev=xe(" The result contains the following variables: "),Rv=ue({__name:"vars_template_dialog",props:{vars:null,template:null,visible:{type:Boolean},fixedTemplate:{type:Boolean,default:!1},isLink:{type:Boolean,default:!1}},emits:["update:template","update:visible","close"],setup(e,{emit:t}){const r=e,l=fr(),h=Y(""),y=Y({}),b=Y(!0),i=Y(!1),o=Y(""),n=ee({get:()=>o.value in l.templateFiles?l.templateFiles[o.value].value:o.value in l.optTemplates?l.optTemplates[o.value]:"",set:v=>{if(o.value in l.templateFiles){l.templateFiles[o.value].value=v;return}o.value in l.optTemplates||(o.value=(r.isLink?"link.":"node.")+o.value),l.optTemplates[o.value]=v}});xn(n,()=>{h.value="...",y.value={};const v={code:xr.template,template:{template:n.value,name:o.value,vars:r.vars}};Fi(v)},{debounce:1e3}),Ko.on(v=>{h.value=v.result||"",y.value=v.resulty||{}});const u=ee({get:()=>r.visible,set:v=>{v||(t("update:visible",!1),t("close"))}});Bt(()=>{o.value=r.template});const f=ee(()=>{const v=[],g={};function p(c){if(c in g)return g[c].children;const a={type:"group",label:c,key:c,children:[]};return g[c]=a,v.push(a),a.children}if(Object.keys(l.optTemplates).forEach(c=>{p("Graph labels").push({label:c,value:c,disabled:(r.isLink?c.indexOf("link"):c.indexOf("node"))<0})}),r.isLink)return p("Template files").push({label:"only shown for nodes",disabled:!0}),v;const s=r.vars.clab_role;return Object.values(l.templateFiles).forEach(c=>{p(`/${c.p}/`).push({label:c.name,value:c.name,disabled:s?c.name.indexOf("__"+String(s))<0:!1})}),v});function _(){const v=Pc(r.isLink);n.value.includes(v)?Vo("example already added to the bottom"):n.value+=v}return(v,g)=>{const p=kn("json-viewer");return $(u)?(ne(),Te($(ss),{key:0,show:$(u),"onUpdate:show":g[5]||(g[5]=s=>Kt(u)?u.value=s:null)},{default:K(()=>[J($(Tr),{title:r.isLink?"Render link template":"Render node template",style:{width:"95%"},closable:"",onClose:g[4]||(g[4]=s=>u.value=!1)},{"header-extra":K(()=>[J($(Ys),{value:b.value,"onUpdate:value":g[0]||(g[0]=s=>b.value=s),small:""},{checked:K(()=>[pv]),unchecked:K(()=>[vv]),_:1},8,["value"]),J($(Ys),{value:i.value,"onUpdate:value":g[1]||(g[1]=s=>i.value=s),small:""},{checked:K(()=>[gv]),unchecked:K(()=>[_v]),_:1},8,["value"])]),default:K(()=>[J($(Wr),{cols:b.value?3:2,"x-gap":6},{default:K(()=>[b.value?(ne(),Te($(At),{key:0},{default:K(()=>[mv,J(p,{value:r.vars,copyable:"",boxed:"",color:"",theme:"dark",expanded:"","expand-depth":2},null,8,["value"])]),_:1})):Ke("",!0),J($(At),null,{default:K(()=>[J($(mr),{justify:"space-between"},{default:K(()=>[bv,J(or,{"onUpdate:value":_},{tooltip:K(()=>[wv]),default:K(()=>[yv]),_:1}),J($(Sf),{value:o.value,"onUpdate:value":g[2]||(g[2]=s=>o.value=s),filterable:"",tag:"",style:{width:"200px"},options:$(f),"consistent-menu-width":!1},null,8,["value","options"])]),_:1}),J($(Zi),{value:$(n),"onUpdate:value":g[3]||(g[3]=s=>Kt(n)?n.value=s:null),type:"textarea",autosize:{minRows:10,maxRows:80},autofocus:"",style:{"font-family":"monospace"}},null,8,["value"])]),_:1}),J($(At),null,{default:K(()=>[Sv,he("div",Cv,[i.value?(ne(),Te(Mn,{key:0,value:h.value},null,8,["value"])):(ne(),ye("pre",{key:1,class:"jv-code",style:{"white-space":"pre-line"},innerHTML:h.value},null,8,xv))]),y.value&&Object.keys(y.value).length>0?(ne(),ye("div",kv,[Ev,y.value?(ne(),Te(p,{key:0,value:y.value,copyable:"",boxed:"",color:"",theme:"dark",expanded:"","expand-depth":2},null,8,["value"])):Ke("",!0)])):Ke("",!0)]),_:1})]),_:1},8,["cols"])]),_:1},8,["title"])]),_:1},8,["show"])):Ke("",!0)}}});const Tv={class:"fn"},Lv=xe(" to "),Av={class:"fn"},Bv=xe(" Toggle split vars "),Dv=xe(" Test on a template "),Ov={key:0},Mv=xe(" Variables used to render templates. "),Pv={key:1},$v=he("p",null," Variables from the topology file and magic variables added by containerlab. ",-1),Iv=he("p",null,"Variables from the topology file:",-1),zv=he("p",null,"Variables added by containerlab",-1),Fv={key:2},Hv=he("p",null,"Variables in the topo file",-1),Nv=xe(" Variables available in "),Wv=he("code",null,"clab_links[]",-1),Uv=xe(" Variables available in "),jv=he("code",null,"clab_links[]",-1),fo=ue({__name:"vars_view",props:{id:null,link:{type:Boolean,default:!1}},emits:["update:close"],setup(e,{emit:t}){const r=e,l=fr(),h=Y(!0);function y(){t("update:close",!1),h.value=!1}const b=ee(()=>l.topo.nodes[r.id].vars),i=ee(()=>{const v=r.link?l.linkVars(r.id):l.topo.vars[r.id];return ms(v,u,{})}),o=ee(()=>{const v=l.topo.vars[r.id];return ms(v,u,b.value)}),n=ee(()=>l.topo.links[r.id]);function u(v,g){return v==="clab_nodes"?1:g==="clab_nodes"?-1:v==="clab_links"?1:g==="clab_links"?-1:v==="clab_far"?1:g==="clab_far"?-1:v.localeCompare(g)}const f=Y(!1);function _(){f.value=!0}return(v,g)=>(ne(),Te($(Tr),{closable:"",onClose:y},{header:K(()=>[r.link?(ne(),ye(et,{key:0},[xe(" Link "+Ie(r.id)+": ",1),he("span",Tv,Ie($(n).source)+":"+Ie($(n).source_endpoint),1),Lv,he("span",Av,Ie($(n).target)+":"+Ie($(n).target_endpoint),1)],64)):(ne(),ye(et,{key:1},[xe(" Node "+Ie(r.id),1)],64))]),"header-extra":K(()=>[$(n)?Ke("",!0):(ne(),Te($(Er),{key:0,trigger:"hover"},{trigger:K(()=>[J($(Ye),{text:"",style:{"font-size":"24px"},onClick:g[0]||(g[0]=p=>$(l).split_vars=!$(l).split_vars)},{default:K(()=>[J($(Je),null,{default:K(()=>[$(l).split_vars?(ne(),Te($(fu),{key:0})):(ne(),Te($(Pd),{key:1}))]),_:1})]),_:1})]),default:K(()=>[Bv]),_:1})),J($(Er),{trigger:"hover"},{trigger:K(()=>[J($(Ye),{text:"",style:{"font-size":"24px"},onClick:_},{default:K(()=>[J($(Je),null,{default:K(()=>[J($(Go))]),_:1})]),_:1})]),default:K(()=>[Dv]),_:1})]),default:K(()=>[$(l).split_vars&&!$(n)?(ne(),ye("div",Ov,[he("p",null,[Mv,J($(Ar),{value:$(i),copyable:"",boxed:"",color:"",theme:"dark"},null,8,["value"])])])):$(n)?(ne(),ye("div",Fv,[Hv,J($(Ar),{value:$(n).vars,copyable:"",boxed:"",color:"",theme:"dark",expanded:"","expand-depth":3},null,8,["value"]),he("p",null,[Nv,Wv,xe(" when you render "+Ie($(n).source),1)]),J($(Ar),{value:$(i).source_vars,copyable:"",boxed:"",color:"",theme:"dark",expanded:"","expand-depth":3},null,8,["value"]),he("p",null,[Uv,jv,xe(" when you render "+Ie($(n).target),1)]),J($(Ar),{value:$(i).target_vars,copyable:"",boxed:"",color:"",theme:"dark",expanded:"","expand-depth":3},null,8,["value"])])):(ne(),ye("div",Pv,[$v,Iv,J($(Ar),{value:$(b),copyable:"",boxed:"",expanded:"","expand-depth":4,theme:"dark"},null,8,["value"]),zv,J($(Ar),{value:$(o),copyable:"",boxed:"",theme:"dark",expanded:"","expand-depth":2},null,8,["value"])])),f.value?(ne(),Te(Rv,{key:3,visible:f.value,"onUpdate:visible":g[1]||(g[1]=p=>f.value=p),vars:$(i),template:$(n)?"link":"node","is-link":r.link,"is-node":!r.link},null,8,["visible","vars","template","is-link","is-node"])):Ke("",!0)]),_:1}))}}),Vv=xe(" Recommended commands for this lab "),Kv=xe("edit"),qv={class:"rel"},Gv=ue({__name:"ce_tab_home",emits:["action"],setup(e){const t=fr(),r=ai(t.optCommands),l=Y(null);let h=!1;qe(r,()=>h=!0);const y=Y(-1);qe(y,()=>{if(y.value<0&&h){h=!1;for(let f=r.length;f--;f>0)r[f]===""&&(r.splice(f,1),console.log("remove",f));t.save()}});const b=Y(!1);function i(f){var c;if(!((c=l.value)!=null&&c.textareaElRef)){console.log("no reference to text1");return}const _=l.value.textareaElRef,v=_.selectionStart,g=_.selectionEnd,p=r[y.value];let s=p.slice(v,g);s==""&&(f.includes("config")&&(s="send -l show"),f.includes("path")&&(s=Object.keys(t.topo.links).join(","))),r[y.value]=p.slice(0,v)+f.replaceAll("{}",s)+p.slice(g),bt(()=>{_.selectionStart=v,_.selectionEnd=v+f.length})}function o(f){r.splice(f+1,0,""),y.value=f+1}function n(f){f<0&&(r.push(""),f=r.length-1),y.value=f,bt(()=>{var _;return(_=l.value)==null?void 0:_.focus()})}function u(f){const _=r[f];r[f]=r[f-1],r[f-1]=_,y.value--}return(f,_)=>(ne(),ye(et,null,[he("p",null,[Vv,J(or,{value:b.value,"onUpdate:value":_[0]||(_[0]=v=>b.value=v)},{default:K(()=>[Kv]),_:1},8,["value"])]),J($(os),{striped:"",size:"small"},{default:K(()=>[he("tbody",null,[(ne(!0),ye(et,null,Tt(r,(v,g)=>(ne(),ye("tr",{key:`cmd:labf:${g}`},[he("td",qv,[J(Mn,{value:v,onAction:_[1]||(_[1]=p=>f.$emit("action",p))},null,8,["value"]),b.value?(ne(),Te($(ua),{key:0,class:"topright"},{default:K(()=>[J($(Ye),{"x-small":"",quaternary:"",onClick:p=>n(g)},{default:K(()=>[J($(Je),{component:$(qd)},null,8,["component"])]),_:2},1032,["onClick"]),J($(Ye),{"x-small":"",quaternary:"",disabled:g==0,onClick:p=>u(g)},{default:K(()=>[J($(Je),{component:$(od)},null,8,["component"])]),_:2},1032,["disabled","onClick"]),J($(Ye),{"x-small":"",quaternary:"",onClick:p=>o(g)},{default:K(()=>[J($(Je),{component:$(rd)},null,8,["component"])]),_:2},1032,["onClick"])]),_:2},1024)):Ke("",!0)])]))),128))])]),_:1}),J($(ss),{show:y.value>=0,"onUpdate:show":_[6]||(_[6]=v=>y.value=-1)},{default:K(()=>[J($(Tr),{style:{width:"90%","max-width":"980px"},closable:"",role:"dialog","aria-modal":"true",onClose:_[5]||(_[5]=v=>y.value=-1)},{"header-extra":K(()=>[J($(Ye),{quaternary:"",onClick:_[2]||(_[2]=v=>i("[{}](path:)"))},{default:K(()=>[J($(Je),{component:$(su)},null,8,["component"])]),_:1}),J($(Ye),{quaternary:"",onClick:_[3]||(_[3]=v=>i("[{}](config:)"))},{default:K(()=>[J($(Je),{component:$(Rn)},null,8,["component"])]),_:1})]),default:K(()=>[y.value>=0?(ne(),Te($(Wr),{key:0,cols:"2","x-gap":10},{default:K(()=>[J($(At),null,{default:K(()=>[J($(Zi),{ref_key:"text1",ref:l,value:y.value>=0?r[y.value]:"",type:"textarea",autosize:{minRows:3},"onUpdate:value":_[4]||(_[4]=v=>r[y.value]=v)},null,8,["value"])]),_:1}),J($(At),null,{default:K(()=>[J(Mn,{value:r[y.value],"show-msg":""},null,8,["value"])]),_:1})]),_:1})):Ke("",!0)]),_:1})]),_:1},8,["show"])],64))}});const Oa=(e,t)=>{const r=e.__vccOpts||e;for(const[l,h]of t)r[l]=h;return r},Ma=Oa(Gv,[["__scopeId","data-v-c9e7ba99"]]);Pr("tipN",1);function Yv(e){window.$labctl_notify=e}const Xv=[{title:"Select multiple nodes/links",content:`SHIFT + Click allows you to select more than one node or link.

Hold CTRL to select a rectangle with nodes.`,shown:0},{title:"Edit templates",content:`You can edit templates from the variables view under 'Config Engine', vars tab.

Select nodes/links and test&edit the templates.`,shown:0}];function Pa(e){const t=Xv.filter(l=>l.shown<1&&(l.title.search(e)>=0||l.content.search(e)>=0));if(t.length==0)return;t[0].shown+=1;const r={duration:6e3};Object.assign(r,t[0]),window.$labctl_notify.info(r)}const Zv=xe(" Template "),Jv={class:"fn"},Qv=xe(" role "),eg={class:"fn"},tg=xe(" Reference "),rg=xe(" Filename: "),ig={class:"fn"},ng={key:0},ds=ue({__name:"template_preview_dialog",props:{template:null,visible:{type:Boolean}},emits:["update:visible","close"],setup(e,{emit:t}){const r=e,l=fr(),h=ee(()=>{const i=r.template;return i in l.templateFiles?l.templateFiles[i]:{name:i,p:"",shadow:[],value:`Template ${i} not found...`}});Bt(()=>{Pa("edit template")});const y=ee({get:()=>r.visible,set:i=>{i||(t("update:visible",!1),t("close"))}}),b=ee(()=>En(r.template));return(i,o)=>$(y)?(ne(),Te($(ss),{key:0,show:$(y),"onUpdate:show":o[1]||(o[1]=n=>Kt(y)?y.value=n:null)},{default:K(()=>[J($(Tr),{style:{width:"90%","max-width":"980px"},closable:"",onClose:o[0]||(o[0]=n=>y.value=!1)},{header:K(()=>[Zv,he("span",Jv,Ie($(b).name),1),Qv,he("span",eg,Ie($(b).role),1)]),"header-extra":K(()=>[J($(Ye),{tag:"a",target:"_blank",href:"https://labctl.net/reference/template-functions"},{default:K(()=>[tg]),_:1})]),default:K(()=>[he("p",null,[rg,he("span",ig," \u2026/"+Ie($(h).p)+"/"+Ie($(h).name),1)]),$(h).shadow.length?(ne(),ye("p",ng," This template shadows/hides other templates with the same name: "+Ie($(h).shadow.join(", ")),1)):Ke("",!0),J($(Wr),{cols:1,"x-gap":6},{default:K(()=>[J($(At),null,{default:K(()=>[J($(Zi),{value:$(h).value,type:"textarea",autosize:{minRows:5},autofocus:"",style:{"font-family":"monospace"}},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])):Ke("",!0)}});const sg=he("h3",null,"Available templates",-1),og=he("th",null,"Folder(s)",-1),ag=he("th",null,"Template",-1),lg=xe(" Template file: "),cg={class:"fn"},dg={key:0},ug=xe(" Shadows "),hg={class:"fn"},fg=ue({__name:"ce_tab_templates",setup(e){const t=fr(),r=ee(()=>{const b={};return Object.keys(t.templateFiles).sort().forEach(i=>{const o=En(i);o.name in b||(b[o.name]={}),b[o.name][o.role]=!0}),b}),l=ee(()=>{const b=Object.keys(t.templateFiles).map(o=>En(o).role);return[...new Set(b)].sort()});function h(b,i){const o=`${b}__${i}.tmpl`;return o in t.templateFiles?t.templateFiles[o]:{name:o,p:"",value:"",shadow:[]}}const y=Y("");return(b,i)=>(ne(),ye(et,null,[sg,J($(os),{striped:"",size:"small"},{default:K(()=>[he("thead",null,[he("tr",null,[og,ag,(ne(!0),ye(et,null,Tt($(l),o=>(ne(),ye("th",{key:`ce:th:${o}`,class:"cen"},Ie(o),1))),128))])]),he("tbody",null,[(ne(!0),ye(et,null,Tt($(r),(o,n)=>(ne(),ye("tr",{key:`ce:t:${n}`},[he("td",null,Ie([...new Set(Object.keys(o).map(u=>".../"+h(n,u).p))].join(",")),1),he("td",null,Ie(n),1),(ne(!0),ye(et,null,Tt($(l),(u,f)=>(ne(),ye("td",{key:`td:${n}_${f}`,class:"cen"},[o[u]?(ne(),Te($(Er),{key:0,trigger:"hover"},{trigger:K(()=>[J($(Ye),{quaternary:"",small:"",onClick:_=>y.value=h(n,u).name},{default:K(()=>[J($(Je),{component:h(n,u).shadow.length?$(Wd):$(_d),size:"18px"},null,8,["component"])]),_:2},1032,["onClick"])]),default:K(()=>[he("p",null,[lg,he("span",cg," \u2026/"+Ie(h(n,u).p)+"/"+Ie(h(n,u).name),1)]),h(n,u).shadow.length?(ne(),ye("p",dg,[ug,he("span",hg," \u2026/"+Ie(h(n,u).shadow.join(", "))+"/ ",1)])):Ke("",!0),J($(fa),{"line-clamp":5,tooltip:!1},{default:K(()=>[he("pre",null,[he("code",null,Ie(h(n,u).value),1)])]),_:2},1024)]),_:2},1024)):Ke("",!0)]))),128))]))),128))])]),_:1}),y.value!==""?(ne(),Te(ds,{key:0,visible:"",template:y.value,onClose:i[0]||(i[0]=o=>y.value="")},null,8,["template"])):Ke("",!0)],64))}});var $a={};(function(e){(function(t,r){if(typeof e.nodeName!="string")r(e);else{var l={};r(l),t.AnsiUp=l.default}})(ma,function(t){var r=this&&this.__makeTemplateObject||function(i,o){return Object.defineProperty?Object.defineProperty(i,"raw",{value:o}):i.raw=o,i},l;(function(i){i[i.EOS=0]="EOS",i[i.Text=1]="Text",i[i.Incomplete=2]="Incomplete",i[i.ESC=3]="ESC",i[i.Unknown=4]="Unknown",i[i.SGR=5]="SGR",i[i.OSCURL=6]="OSCURL"})(l||(l={}));var h=function(){function i(){this.VERSION="5.1.0",this.setup_palettes(),this._use_classes=!1,this.bold=!1,this.italic=!1,this.underline=!1,this.fg=this.bg=null,this._buffer="",this._url_whitelist={http:1,https:1}}return Object.defineProperty(i.prototype,"use_classes",{get:function(){return this._use_classes},set:function(o){this._use_classes=o},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"url_whitelist",{get:function(){return this._url_whitelist},set:function(o){this._url_whitelist=o},enumerable:!1,configurable:!0}),i.prototype.setup_palettes=function(){var o=this;this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.palette_256=[],this.ansi_colors.forEach(function(c){c.forEach(function(a){o.palette_256.push(a)})});for(var n=[0,95,135,175,215,255],u=0;u<6;++u)for(var f=0;f<6;++f)for(var _=0;_<6;++_){var v={rgb:[n[u],n[f],n[_]],class_name:"truecolor"};this.palette_256.push(v)}for(var g=8,p=0;p<24;++p,g+=10){var s={rgb:[g,g,g],class_name:"truecolor"};this.palette_256.push(s)}},i.prototype.escape_txt_for_html=function(o){return o.replace(/[&<>"']/gm,function(n){if(n==="&")return"&amp;";if(n==="<")return"&lt;";if(n===">")return"&gt;";if(n==='"')return"&quot;";if(n==="'")return"&#x27;"})},i.prototype.append_buffer=function(o){var n=this._buffer+o;this._buffer=n},i.prototype.get_next_packet=function(){var o={kind:l.EOS,text:"",url:""},n=this._buffer.length;if(n==0)return o;var u=this._buffer.indexOf("\x1B");if(u==-1)return o.kind=l.Text,o.text=this._buffer,this._buffer="",o;if(u>0)return o.kind=l.Text,o.text=this._buffer.slice(0,u),this._buffer=this._buffer.slice(u),o;if(u==0){if(n==1)return o.kind=l.Incomplete,o;var f=this._buffer.charAt(1);if(f!="["&&f!="]")return o.kind=l.ESC,o.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),o;if(f=="["){this._csi_regex||(this._csi_regex=y(r([`
                        ^                           # beginning of line
                                                    #
                                                    # First attempt
                        (?:                         # legal sequence
                          \x1B[                      # CSI
                          ([<-?]?)              # private-mode char
                          ([d;]*)                    # any digits or semicolons
                          ([ -/]?               # an intermediate modifier
                          [@-~])                # the command
                        )
                        |                           # alternate (second attempt)
                        (?:                         # illegal sequence
                          \x1B[                      # CSI
                          [ -~]*                # anything legal
                          ([\0-:])              # anything illegal
                        )
                    `],[`
                        ^                           # beginning of line
                                                    #
                                                    # First attempt
                        (?:                         # legal sequence
                          \\x1b\\[                      # CSI
                          ([\\x3c-\\x3f]?)              # private-mode char
                          ([\\d;]*)                    # any digits or semicolons
                          ([\\x20-\\x2f]?               # an intermediate modifier
                          [\\x40-\\x7e])                # the command
                        )
                        |                           # alternate (second attempt)
                        (?:                         # illegal sequence
                          \\x1b\\[                      # CSI
                          [\\x20-\\x7e]*                # anything legal
                          ([\\x00-\\x1f:])              # anything illegal
                        )
                    `])));var _=this._buffer.match(this._csi_regex);if(_===null)return o.kind=l.Incomplete,o;if(_[4])return o.kind=l.ESC,o.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),o;_[1]!=""||_[3]!="m"?o.kind=l.Unknown:o.kind=l.SGR,o.text=_[2];var v=_[0].length;return this._buffer=this._buffer.slice(v),o}if(f=="]"){if(n<4)return o.kind=l.Incomplete,o;if(this._buffer.charAt(2)!="8"||this._buffer.charAt(3)!=";")return o.kind=l.ESC,o.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),o;this._osc_st||(this._osc_st=b(r([`
                        (?:                         # legal sequence
                          (\x1B\\)                    # ESC                           |                           # alternate
                          (\x07)                      # BEL (what xterm did)
                        )
                        |                           # alternate (second attempt)
                        (                           # illegal sequence
                          [\0-]                 # anything illegal
                          |                           # alternate
                          [\b-]                 # anything illegal
                          |                           # alternate
                          [-]                 # anything illegal
                        )
                    `],[`
                        (?:                         # legal sequence
                          (\\x1b\\\\)                    # ESC \\
                          |                           # alternate
                          (\\x07)                      # BEL (what xterm did)
                        )
                        |                           # alternate (second attempt)
                        (                           # illegal sequence
                          [\\x00-\\x06]                 # anything illegal
                          |                           # alternate
                          [\\x08-\\x1a]                 # anything illegal
                          |                           # alternate
                          [\\x1c-\\x1f]                 # anything illegal
                        )
                    `]))),this._osc_st.lastIndex=0;{var g=this._osc_st.exec(this._buffer);if(g===null)return o.kind=l.Incomplete,o;if(g[3])return o.kind=l.ESC,o.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),o}{var p=this._osc_st.exec(this._buffer);if(p===null)return o.kind=l.Incomplete,o;if(p[3])return o.kind=l.ESC,o.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),o}this._osc_regex||(this._osc_regex=y(r([`
                        ^                           # beginning of line
                                                    #
                        \x1B]8;                    # OSC Hyperlink
                        [ -:<-~]*       # params (excluding ;)
                        ;                           # end of params
                        ([!-~]{0,512})        # URL capture
                        (?:                         # ST
                          (?:\x1B\\)                  # ESC                           |                           # alternate
                          (?:\x07)                    # BEL (what xterm did)
                        )
                        ([ -~]+)              # TEXT capture
                        \x1B]8;;                   # OSC Hyperlink End
                        (?:                         # ST
                          (?:\x1B\\)                  # ESC                           |                           # alternate
                          (?:\x07)                    # BEL (what xterm did)
                        )
                    `],[`
                        ^                           # beginning of line
                                                    #
                        \\x1b\\]8;                    # OSC Hyperlink
                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)
                        ;                           # end of params
                        ([\\x21-\\x7e]{0,512})        # URL capture
                        (?:                         # ST
                          (?:\\x1b\\\\)                  # ESC \\
                          |                           # alternate
                          (?:\\x07)                    # BEL (what xterm did)
                        )
                        ([\\x20-\\x7e]+)              # TEXT capture
                        \\x1b\\]8;;                   # OSC Hyperlink End
                        (?:                         # ST
                          (?:\\x1b\\\\)                  # ESC \\
                          |                           # alternate
                          (?:\\x07)                    # BEL (what xterm did)
                        )
                    `])));var _=this._buffer.match(this._osc_regex);if(_===null)return o.kind=l.ESC,o.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),o;o.kind=l.OSCURL,o.url=_[1],o.text=_[2];var v=_[0].length;return this._buffer=this._buffer.slice(v),o}}},i.prototype.ansi_to_html=function(o){this.append_buffer(o);for(var n=[];;){var u=this.get_next_packet();if(u.kind==l.EOS||u.kind==l.Incomplete)break;u.kind==l.ESC||u.kind==l.Unknown||(u.kind==l.Text?n.push(this.transform_to_html(this.with_state(u))):u.kind==l.SGR?this.process_ansi(u):u.kind==l.OSCURL&&n.push(this.process_hyperlink(u)))}return n.join("")},i.prototype.with_state=function(o){return{bold:this.bold,italic:this.italic,underline:this.underline,fg:this.fg,bg:this.bg,text:o.text}},i.prototype.process_ansi=function(o){for(var n=o.text.split(";");n.length>0;){var u=n.shift(),f=parseInt(u,10);if(isNaN(f)||f===0)this.fg=this.bg=null,this.bold=!1,this.italic=!1,this.underline=!1;else if(f===1)this.bold=!0;else if(f===3)this.italic=!0;else if(f===4)this.underline=!0;else if(f===22)this.bold=!1;else if(f===23)this.italic=!1;else if(f===24)this.underline=!1;else if(f===39)this.fg=null;else if(f===49)this.bg=null;else if(f>=30&&f<38)this.fg=this.ansi_colors[0][f-30];else if(f>=40&&f<48)this.bg=this.ansi_colors[0][f-40];else if(f>=90&&f<98)this.fg=this.ansi_colors[1][f-90];else if(f>=100&&f<108)this.bg=this.ansi_colors[1][f-100];else if((f===38||f===48)&&n.length>0){var _=f===38,v=n.shift();if(v==="5"&&n.length>0){var g=parseInt(n.shift(),10);g>=0&&g<=255&&(_?this.fg=this.palette_256[g]:this.bg=this.palette_256[g])}if(v==="2"&&n.length>2){var p=parseInt(n.shift(),10),s=parseInt(n.shift(),10),c=parseInt(n.shift(),10);if(p>=0&&p<=255&&s>=0&&s<=255&&c>=0&&c<=255){var a={rgb:[p,s,c],class_name:"truecolor"};_?this.fg=a:this.bg=a}}}}},i.prototype.transform_to_html=function(o){var n=o.text;if(n.length===0||(n=this.escape_txt_for_html(n),!o.bold&&!o.italic&&!o.underline&&o.fg===null&&o.bg===null))return n;var u=[],f=[],_=o.fg,v=o.bg;o.bold&&u.push("font-weight:bold"),o.italic&&u.push("font-style:italic"),o.underline&&u.push("text-decoration:underline"),this._use_classes?(_&&(_.class_name!=="truecolor"?f.push(_.class_name+"-fg"):u.push("color:rgb("+_.rgb.join(",")+")")),v&&(v.class_name!=="truecolor"?f.push(v.class_name+"-bg"):u.push("background-color:rgb("+v.rgb.join(",")+")"))):(_&&u.push("color:rgb("+_.rgb.join(",")+")"),v&&u.push("background-color:rgb("+v.rgb+")"));var g="",p="";return f.length&&(g=' class="'+f.join(" ")+'"'),u.length&&(p=' style="'+u.join(";")+'"'),"<span"+p+g+">"+n+"</span>"},i.prototype.process_hyperlink=function(o){var n=o.url.split(":");if(n.length<1||!this._url_whitelist[n[0]])return"";var u='<a href="'+this.escape_txt_for_html(o.url)+'">'+this.escape_txt_for_html(o.text)+"</a>";return u},i}();function y(i){var o=i.raw[0],n=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,u=o.replace(n,"");return new RegExp(u)}function b(i){var o=i.raw[0],n=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,u=o.replace(n,"");return new RegExp(u,"g")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=h})})($a);const pg=Pf($a),vg={class:"jv-container boxed jv-dark"},gg=["innerHTML"],_g=ue({__name:"div_ansi",props:{value:null,open:{type:Boolean,default:!1}},setup(e){const t=e,r=Y(t.open);function l(){r.value=!r.value}const h=ee(()=>{const b=new pg().ansi_to_html(t.value);try{return Da.sanitize(b)}catch(i){const o=t.value;return console.error({msg:"DOMPurify issue with ansiup",value:o,error:i}),String(i)}});return(y,b)=>(ne(),ye("div",vg,[he("div",{style:ui({"white-space":"pre",padding:"10px"}),class:bs({boxed:!0,"jv-code":!0,open:r.value}),innerHTML:$(h)},null,14,gg),he("div",{class:"jv-more",onClick:l},[he("span",{class:bs({"jv-toggle":!0,open:r.value})},null,2)])]))}}),mg=ue({__name:"config_results",props:{node:null},setup(e){const t=e,r=fr(),l=`cr:${Math.random()}:${t.node}:`,h=ee(()=>{if(typeof r.results[t.node]>"u")return{};const y={};let b;return r.results[t.node].forEach(i=>{i.source!=b&&(b=i.source,y[b]=[]),y[b].push(i)}),y});return(y,b)=>(ne(),Te($(gf),{"default-expanded-names":Object.keys($(h)),"display-directive":"show"},{default:K(()=>[(ne(!0),ye(et,null,Tt($(h),(i,o)=>(ne(),Te($(bf),{key:`${l}${o}`,title:o,name:o},{default:K(()=>[(ne(!0),ye(et,null,Tt(i,(n,u)=>(ne(),ye("div",{key:`${l}${o}${u}`},[n.prompt||n.command?(ne(),Te($(mr),{key:0,justify:"space-between"},{default:K(()=>[J($(ci),{bordered:!1,style:{"font-family":"v-mono"}},{default:K(()=>[xe(Ie(n.prompt)+" ",1),he("b",null,Ie(n.command),1)]),_:2},1024),J($(ci),{bordered:!1,round:"",size:"small"},{default:K(()=>[xe(Ie(n.node),1)]),_:2},1024)]),_:2},1024)):Ke("",!0),J(_g,{value:n.response,open:""},null,8,["value"])]))),128))]),_:2},1032,["title","name"]))),128))]),_:1},8,["default-expanded-names"]))}}),bg={key:2},yg=xe("Run a command"),wg={key:0},Sg=xe(" Nodes with results "),Cg={key:1},xg={key:3},kg=he("h3",null,"Available variables",-1),Eg=he("p",null,"Select a node/link to show available variables.",-1),Rg=he("h3",null,"Available nodes",-1),Tg=he("thead",null,[he("tr",null,[he("th",null,"Node"),he("th",null,"Role"),he("th",null,"Kind"),he("th",null,"system_ip"),he("th",null,"Image")])],-1),Lg={key:4},Ag=ue({__name:"ce_panel",props:{visible:null,selected:null,selectedLinks:null},emits:["path","update:visible","update:selected","update:selectedLinks"],setup(e,{emit:t}){const r=e,l=fr(),h=Y(!1),{optCommands:y}=Zn(l),b=ee({get:()=>r.visible,set:c=>t("update:visible",c)}),i=Y(""),o=Y(y.value.length>0?"home":"run"),n=Y("");function u(){if(h.value){Ic("Busy executing config");return}n.value=i.value,Object.keys(l.results).forEach(c=>delete l.results[c]),h.value=!0,Fi({code:xr.config,config:{cmd:i.value}})}const f=ee(()=>Object.keys(l.results).sort()),_=ee(()=>Object.keys(l.results).sort().filter(c=>r.selected.includes(c)));qo.on(c=>{var a;if(c.code===xr.config&&c.config&&c.config.results){const d=c.config.results[0].node;v(d,!0)}c.code===xr.config&&((a=c.config)==null?void 0:a.cmd)&&setTimeout(()=>{h.value=!1},100)});function v(c,a){const d=r.selected.includes(c);if(typeof a>"u"&&(a=!d),a==d)return;const m=[...r.selected];a?m.push(c):m.splice(m.indexOf(c),1),t("update:selected",m)}function g(c){const a=[...r.selectedLinks];a.splice(a.indexOf(c),1),t("update:selectedLinks",a)}function p(c){c.action==="config"?(i.value=c.command,o.value="run"):c.action==="path"?t("path",c.command):console.log(c)}const s=Y("");return(c,a)=>(ne(),Te(Qi,{visible:$(b),"onUpdate:visible":a[3]||(a[3]=d=>Kt(b)?b.value=d:null),title:"Config Engine"},{"header-extra":K(()=>[J($(xa),{value:o.value,"onUpdate:value":a[0]||(a[0]=d=>o.value=d),type:"bar",size:"large",style:{"margin-right":"20px"}},{default:K(()=>[J($(cr),{name:"home"},{default:K(()=>[J($(Je),{component:$(Yo)},null,8,["component"])]),_:1},8,["name"]),J($(cr),{name:"run"},{default:K(()=>[J($(js),{type:"warning",processing:"",value:$(f).length},{default:K(()=>[J($(Je),{component:$(Rn),color:"var(--n-tab-text-color)"},null,8,["component"])]),_:1},8,["value"])]),_:1},8,["name"]),J($(cr),{name:"vars"},{default:K(()=>[J($(js),{type:"info",processing:"",value:r.selected.length+r.selectedLinks.length},{default:K(()=>[J($(Je),{component:$(Xo),color:"var(--n-tab-text-color)"},null,8,["component"])]),_:1},8,["value"])]),_:1},8,["name"]),J($(cr),{name:"templates"},{default:K(()=>[J($(Je),{component:$(Go)},null,8,["component"])]),_:1},8,["name"])]),_:1},8,["value"])]),default:K(()=>[o.value==="home"?(ne(),Te(Ma,{key:0,onAction:p})):o.value==="templates"?(ne(),Te(fg,{key:1})):o.value==="run"?(ne(),ye("div",bg,[he("p",null,[J($(Qh),null,{default:K(()=>[J($(rf),null,{default:K(()=>[yg]),_:1}),J($(Zi),{value:i.value,"onUpdate:value":a[1]||(a[1]=d=>i.value=d),autofocus:"",placeholder:"compare / commit / send",style:{width:"100%"},onKeyup:$c(zc(u,["ctrl"]),["enter"])},null,8,["value","onKeyup"]),J($(Ye),{loading:h.value,onClick:u},{icon:K(()=>[J($(Je),null,{default:K(()=>[J($(Rn))]),_:1})]),_:1},8,["loading"])]),_:1})]),$(f).length>0?(ne(),ye("p",wg,[J($(mr),{justify:"space-between"},{default:K(()=>[Sg,J($(mr),null,{default:K(()=>[(ne(!0),ye(et,null,Tt($(f),d=>(ne(),Te(or,{key:`ce:nres:${d}`,value:r.selected.includes(d),"onUpdate:value":m=>v(d)},{default:K(()=>[xe(Ie(d),1)]),_:2},1032,["value","onUpdate:value"]))),128))]),_:1})]),_:1})])):Ke("",!0),n.value!=""?(ne(),ye("p",Cg,' The current results were obtained by running "'+Ie(n.value)+'". ',1)):Ke("",!0),J($(Wr),{cols:2},{default:K(()=>[(ne(!0),ye(et,null,Tt($(_),d=>(ne(),Te($(At),{key:`ce:tabs:${d}`,tab:d,name:d},{default:K(()=>[J($(Tr),{title:d,closable:"",onClose:m=>v(d)},{default:K(()=>[J(mg,{node:d},null,8,["node"])]),_:2},1032,["title","onClose"])]),_:2},1032,["tab","name"]))),128))]),_:1})])):o.value==="vars"?(ne(),ye("div",xg,[r.selected.length>0||r.selectedLinks.length>0?(ne(),ye(et,{key:0},[kg,J($(Wr),{cols:2},{default:K(()=>[(ne(!0),ye(et,null,Tt(r.selected,d=>(ne(),Te($(At),{key:`gnode:${d}`},{default:K(()=>[J(fo,{id:d,onClose:m=>v(d,!1)},null,8,["id","onClose"])]),_:2},1024))),128)),(ne(!0),ye(et,null,Tt(r.selectedLinks,d=>(ne(),Te($(At),{key:`glink:${d}`},{default:K(()=>[J(fo,{id:d,link:"",onClose:m=>g(d)},null,8,["id","onClose"])]),_:2},1024))),128))]),_:1})],64)):(ne(),ye(et,{key:1},[Eg,Rg,J($(os),{striped:"",size:"small"},{default:K(()=>[Tg,he("tbody",null,[(ne(!0),ye(et,null,Tt($(l).topo.nodes,(d,m)=>(ne(),ye("tr",{key:`a:nde:${m}`},[he("td",null,[J($(Ye),{quaternary:"","x-small":"",onClick:w=>v(m,!0)},{default:K(()=>[xe(Ie(m),1)]),_:2},1032,["onClick"])]),he("td",null,Ie($(l).topo.vars[m].clab_role),1),he("td",null,Ie(d.kind),1),he("td",null,Ie($(l).topo.vars[m].clab_system_ip),1),he("td",null,Ie(d.image),1)]))),128))])]),_:1})],64))])):(ne(),ye("div",Lg,"Unknown tab: "+Ie(o.value),1)),s.value!==""?(ne(),Te(ds,{key:5,visible:"",template:s.value,onClose:a[2]||(a[2]=d=>s.value="")},null,8,["template"])):Ke("",!0)]),_:1},8,["visible"]))}}),Bg={key:1},Dg=he("h2",null,"filename.clab.yml",-1),Og=he("pre",null,"abc",-1),Mg=[Dg,Og],Pg={key:2},$g=ue({__name:"lab_panel",props:{visible:null},emits:["path","update:visible","update:selected","update:selectedLinks"],setup(e,{emit:t}){const r=e,l=fr(),{optCommands:h}=Zn(l),y=ee({get:()=>r.visible,set:o=>t("update:visible",o)}),b=Y((h.value.length>0,"home")),i=Y("");return(o,n)=>(ne(),Te(Qi,{visible:$(y),"onUpdate:visible":n[2]||(n[2]=u=>Kt(y)?y.value=u:null),title:"Lab"},{"header-extra":K(()=>[J($(xa),{value:b.value,"onUpdate:value":n[0]||(n[0]=u=>b.value=u),type:"bar",size:"large",style:{"margin-right":"20px"}},{default:K(()=>[J($(cr),{name:"home"},{default:K(()=>[J($(Je),{component:$(Yo)},null,8,["component"])]),_:1},8,["name"]),J($(cr),{name:"clab"},{default:K(()=>[J($(Je),{component:$(Xo),color:"var(--n-tab-text-color)"},null,8,["component"])]),_:1},8,["name"])]),_:1},8,["value"])]),default:K(()=>[b.value==="home"?(ne(),Te(Ma,{key:0})):b.value==="clab"?(ne(),ye("div",Bg,Mg)):(ne(),ye("div",Pg,"Unknown tab: "+Ie(b.value),1)),i.value!==""?(ne(),Te(ds,{key:3,visible:"",template:i.value,onClose:n[1]||(n[1]=u=>i.value="")},null,8,["template"])):Ke("",!0)]),_:1},8,["visible"]))}});var Ia={exports:{}};(function(e,t){(function(r,l){e.exports=l()})(self,function(){return(()=>{var r={4567:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AccessibilityManager=void 0;const n=o(9042),u=o(6114),f=o(9924),_=o(3656),v=o(844),g=o(5596),p=o(9631);class s extends v.Disposable{constructor(a,d){super(),this._terminal=a,this._renderService=d,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityTreeRoot=document.createElement("div"),this._accessibilityTreeRoot.classList.add("xterm-accessibility"),this._accessibilityTreeRoot.tabIndex=0,this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let m=0;m<this._terminal.rows;m++)this._rowElements[m]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[m]);if(this._topBoundaryFocusListener=m=>this._onBoundaryFocus(m,0),this._bottomBoundaryFocusListener=m=>this._onBoundaryFocus(m,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityTreeRoot.appendChild(this._rowContainer),this._renderRowsDebouncer=new f.TimeBasedDebouncer(this._renderRows.bind(this)),this._refreshRows(),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityTreeRoot.appendChild(this._liveRegion),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityTreeRoot),this.register(this._renderRowsDebouncer),this.register(this._terminal.onResize(m=>this._onResize(m.rows))),this.register(this._terminal.onRender(m=>this._refreshRows(m.start,m.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(m=>this._onChar(m))),this.register(this._terminal.onLineFeed(()=>this._onChar(`
`))),this.register(this._terminal.onA11yTab(m=>this._onTab(m))),this.register(this._terminal.onKey(m=>this._onKey(m.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new g.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,_.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions()))}dispose(){super.dispose(),(0,p.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0}_onBoundaryFocus(a,d){const m=a.target,w=this._rowElements[d===0?1:this._rowElements.length-2];if(m.getAttribute("aria-posinset")===(d===0?"1":`${this._terminal.buffer.lines.length}`)||a.relatedTarget!==w)return;let S,k;if(d===0?(S=m,k=this._rowElements.pop(),this._rowContainer.removeChild(k)):(S=this._rowElements.shift(),k=m,this._rowContainer.removeChild(S)),S.removeEventListener("focus",this._topBoundaryFocusListener),k.removeEventListener("focus",this._bottomBoundaryFocusListener),d===0){const C=this._createAccessibilityTreeNode();this._rowElements.unshift(C),this._rowContainer.insertAdjacentElement("afterbegin",C)}else{const C=this._createAccessibilityTreeNode();this._rowElements.push(C),this._rowContainer.appendChild(C)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(d===0?-1:1),this._rowElements[d===0?1:this._rowElements.length-2].focus(),a.preventDefault(),a.stopImmediatePropagation()}_onResize(a){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let d=this._rowContainer.children.length;d<this._terminal.rows;d++)this._rowElements[d]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[d]);for(;this._rowElements.length>a;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const a=document.createElement("div");return a.setAttribute("role","listitem"),a.tabIndex=-1,this._refreshRowDimensions(a),a}_onTab(a){for(let d=0;d<a;d++)this._onChar(" ")}_onChar(a){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==a&&(this._charsToAnnounce+=a):this._charsToAnnounce+=a,a===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=n.tooMuchOutput)),u.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityTreeRoot.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,u.isMac&&(0,p.removeElementFromParent)(this._liveRegion)}_onKey(a){this._clearLiveRegion(),this._charsToConsume.push(a)}_refreshRows(a,d){this._renderRowsDebouncer.refresh(a,d,this._terminal.rows)}_renderRows(a,d){const m=this._terminal.buffer,w=m.lines.length.toString();for(let S=a;S<=d;S++){const k=m.translateBufferLineToString(m.ydisp+S,!0),C=(m.ydisp+S+1).toString(),E=this._rowElements[S];E&&(k.length===0?E.innerText="\xA0":E.textContent=k,E.setAttribute("aria-posinset",C),E.setAttribute("aria-setsize",w))}this._announceCharacters()}_refreshRowsDimensions(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(let a=0;a<this._terminal.rows;a++)this._refreshRowDimensions(this._rowElements[a])}}_refreshRowDimensions(a){a.style.height=`${this._renderService.dimensions.actualCellHeight}px`}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}}i.AccessibilityManager=s},3614:(b,i)=>{function o(_){return _.replace(/\r?\n/g,"\r")}function n(_,v){return v?"\x1B[200~"+_+"\x1B[201~":_}function u(_,v,g){_=n(_=o(_),g.decPrivateModes.bracketedPasteMode),g.triggerDataEvent(_,!0),v.value=""}function f(_,v,g){const p=g.getBoundingClientRect(),s=_.clientX-p.left-10,c=_.clientY-p.top-10;v.style.width="20px",v.style.height="20px",v.style.left=`${s}px`,v.style.top=`${c}px`,v.style.zIndex="1000",v.focus()}Object.defineProperty(i,"__esModule",{value:!0}),i.rightClickHandler=i.moveTextAreaUnderMouseCursor=i.paste=i.handlePasteEvent=i.copyHandler=i.bracketTextForPaste=i.prepareTextForTerminal=void 0,i.prepareTextForTerminal=o,i.bracketTextForPaste=n,i.copyHandler=function(_,v){_.clipboardData&&_.clipboardData.setData("text/plain",v.selectionText),_.preventDefault()},i.handlePasteEvent=function(_,v,g){_.stopPropagation(),_.clipboardData&&u(_.clipboardData.getData("text/plain"),v,g)},i.paste=u,i.moveTextAreaUnderMouseCursor=f,i.rightClickHandler=function(_,v,g,p,s){f(_,v,g),s&&p.rightClickSelect(_),v.value=p.selectionText,v.select()}},7239:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorContrastCache=void 0;const n=o(1505);i.ColorContrastCache=class{constructor(){this._color=new n.TwoKeyMap,this._css=new n.TwoKeyMap}setCss(u,f,_){this._css.set(u,f,_)}getCss(u,f){return this._css.get(u,f)}setColor(u,f,_){this._color.set(u,f,_)}getColor(u,f){return this._color.get(u,f)}clear(){this._color.clear(),this._css.clear()}}},5680:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorManager=i.DEFAULT_ANSI_COLORS=void 0;const n=o(8055),u=o(7239),f=n.css.toColor("#ffffff"),_=n.css.toColor("#000000"),v=n.css.toColor("#ffffff"),g=n.css.toColor("#000000"),p={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};i.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const s=[n.css.toColor("#2e3436"),n.css.toColor("#cc0000"),n.css.toColor("#4e9a06"),n.css.toColor("#c4a000"),n.css.toColor("#3465a4"),n.css.toColor("#75507b"),n.css.toColor("#06989a"),n.css.toColor("#d3d7cf"),n.css.toColor("#555753"),n.css.toColor("#ef2929"),n.css.toColor("#8ae234"),n.css.toColor("#fce94f"),n.css.toColor("#729fcf"),n.css.toColor("#ad7fa8"),n.css.toColor("#34e2e2"),n.css.toColor("#eeeeec")],c=[0,95,135,175,215,255];for(let a=0;a<216;a++){const d=c[a/36%6|0],m=c[a/6%6|0],w=c[a%6];s.push({css:n.channels.toCss(d,m,w),rgba:n.channels.toRgba(d,m,w)})}for(let a=0;a<24;a++){const d=8+10*a;s.push({css:n.channels.toCss(d,d,d),rgba:n.channels.toRgba(d,d,d)})}return s})()),i.ColorManager=class{constructor(s,c){this.allowTransparency=c;const a=s.createElement("canvas");a.width=1,a.height=1;const d=a.getContext("2d");if(!d)throw new Error("Could not get rendering context");this._ctx=d,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new u.ColorContrastCache,this.colors={foreground:f,background:_,cursor:v,cursorAccent:g,selectionForeground:void 0,selectionBackgroundTransparent:p,selectionBackgroundOpaque:n.color.blend(_,p),selectionInactiveBackgroundTransparent:p,selectionInactiveBackgroundOpaque:n.color.blend(_,p),ansi:i.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors()}onOptionsChange(s,c){switch(s){case"minimumContrastRatio":this._contrastCache.clear();break;case"allowTransparency":this.allowTransparency=c}}setTheme(s={}){this.colors.foreground=this._parseColor(s.foreground,f),this.colors.background=this._parseColor(s.background,_),this.colors.cursor=this._parseColor(s.cursor,v,!0),this.colors.cursorAccent=this._parseColor(s.cursorAccent,g,!0),this.colors.selectionBackgroundTransparent=this._parseColor(s.selectionBackground,p,!0),this.colors.selectionBackgroundOpaque=n.color.blend(this.colors.background,this.colors.selectionBackgroundTransparent),this.colors.selectionInactiveBackgroundTransparent=this._parseColor(s.selectionInactiveBackground,this.colors.selectionBackgroundTransparent,!0),this.colors.selectionInactiveBackgroundOpaque=n.color.blend(this.colors.background,this.colors.selectionInactiveBackgroundTransparent);const c={css:"",rgba:0};if(this.colors.selectionForeground=s.selectionForeground?this._parseColor(s.selectionForeground,c):void 0,this.colors.selectionForeground===c&&(this.colors.selectionForeground=void 0),n.color.isOpaque(this.colors.selectionBackgroundTransparent)&&(this.colors.selectionBackgroundTransparent=n.color.opacity(this.colors.selectionBackgroundTransparent,.3)),n.color.isOpaque(this.colors.selectionInactiveBackgroundTransparent)&&(this.colors.selectionInactiveBackgroundTransparent=n.color.opacity(this.colors.selectionInactiveBackgroundTransparent,.3)),this.colors.ansi=i.DEFAULT_ANSI_COLORS.slice(),this.colors.ansi[0]=this._parseColor(s.black,i.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(s.red,i.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(s.green,i.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(s.yellow,i.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(s.blue,i.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(s.magenta,i.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(s.cyan,i.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(s.white,i.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(s.brightBlack,i.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(s.brightRed,i.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(s.brightGreen,i.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(s.brightYellow,i.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(s.brightBlue,i.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(s.brightMagenta,i.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(s.brightCyan,i.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(s.brightWhite,i.DEFAULT_ANSI_COLORS[15]),s.extendedAnsi){const a=Math.min(this.colors.ansi.length-16,s.extendedAnsi.length);for(let d=0;d<a;d++)this.colors.ansi[d+16]=this._parseColor(s.extendedAnsi[d],i.DEFAULT_ANSI_COLORS[d+16])}this._contrastCache.clear(),this._updateRestoreColors()}restoreColor(s){if(s!==void 0)switch(s){case 256:this.colors.foreground=this._restoreColors.foreground;break;case 257:this.colors.background=this._restoreColors.background;break;case 258:this.colors.cursor=this._restoreColors.cursor;break;default:this.colors.ansi[s]=this._restoreColors.ansi[s]}else for(let c=0;c<this._restoreColors.ansi.length;++c)this.colors.ansi[c]=this._restoreColors.ansi[c]}_updateRestoreColors(){this._restoreColors={foreground:this.colors.foreground,background:this.colors.background,cursor:this.colors.cursor,ansi:this.colors.ansi.slice()}}_parseColor(s,c,a=this.allowTransparency){if(s===void 0)return c;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=s,typeof this._ctx.fillStyle!="string")return console.warn(`Color: ${s} is invalid using fallback ${c.css}`),c;this._ctx.fillRect(0,0,1,1);const d=this._ctx.getImageData(0,0,1,1).data;if(d[3]!==255){if(!a)return console.warn(`Color: ${s} is using transparency, but allowTransparency is false. Using fallback ${c.css}.`),c;const[m,w,S,k]=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map(E=>Number(E)),C=Math.round(255*k);return{rgba:n.channels.toRgba(m,w,S,C),css:s}}return{css:this._ctx.fillStyle,rgba:n.channels.toRgba(d[0],d[1],d[2],d[3])}}}},9631:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.removeElementFromParent=void 0,i.removeElementFromParent=function(...o){var n;for(const u of o)(n=u==null?void 0:u.parentElement)===null||n===void 0||n.removeChild(u)}},3656:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.addDisposableDomListener=void 0,i.addDisposableDomListener=function(o,n,u,f){o.addEventListener(n,u,f);let _=!1;return{dispose:()=>{_||(_=!0,o.removeEventListener(n,u,f))}}}},6465:function(b,i,o){var n=this&&this.__decorate||function(s,c,a,d){var m,w=arguments.length,S=w<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,a):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(s,c,a,d);else for(var k=s.length-1;k>=0;k--)(m=s[k])&&(S=(w<3?m(S):w>3?m(c,a,S):m(c,a))||S);return w>3&&S&&Object.defineProperty(c,a,S),S},u=this&&this.__param||function(s,c){return function(a,d){c(a,d,s)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Linkifier2=void 0;const f=o(2585),_=o(8460),v=o(844),g=o(3656);let p=class extends v.Disposable{constructor(s){super(),this._bufferService=s,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._activeLine=-1,this._onShowLinkUnderline=this.register(new _.EventEmitter),this._onHideLinkUnderline=this.register(new _.EventEmitter),this.register((0,v.getDisposeArrayDisposable)(this._linkCacheDisposables))}get currentLink(){return this._currentLink}get onShowLinkUnderline(){return this._onShowLinkUnderline.event}get onHideLinkUnderline(){return this._onHideLinkUnderline.event}dispose(){super.dispose(),this._lastMouseEvent=void 0}registerLinkProvider(s){return this._linkProviders.push(s),{dispose:()=>{const c=this._linkProviders.indexOf(s);c!==-1&&this._linkProviders.splice(c,1)}}}attachToDom(s,c,a){this._element=s,this._mouseService=c,this._renderService=a,this.register((0,g.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,g.addDisposableDomListener)(this._element,"mousemove",this._onMouseMove.bind(this))),this.register((0,g.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,g.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_onMouseMove(s){if(this._lastMouseEvent=s,!this._element||!this._mouseService)return;const c=this._positionFromMouseEvent(s,this._element,this._mouseService);if(!c)return;this._isMouseOut=!1;const a=s.composedPath();for(let d=0;d<a.length;d++){const m=a[d];if(m.classList.contains("xterm"))break;if(m.classList.contains("xterm-hover"))return}this._lastBufferCell&&c.x===this._lastBufferCell.x&&c.y===this._lastBufferCell.y||(this._onHover(c),this._lastBufferCell=c)}_onHover(s){if(this._activeLine!==s.y)return this._clearCurrentLink(),void this._askForLink(s,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,s)||(this._clearCurrentLink(),this._askForLink(s,!0))}_askForLink(s,c){var a,d;this._activeProviderReplies&&c||((a=this._activeProviderReplies)===null||a===void 0||a.forEach(w=>{w==null||w.forEach(S=>{S.link.dispose&&S.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=s.y);let m=!1;for(const[w,S]of this._linkProviders.entries())c?!((d=this._activeProviderReplies)===null||d===void 0)&&d.get(w)&&(m=this._checkLinkProviderResult(w,s,m)):S.provideLinks(s.y,k=>{var C,E;if(this._isMouseOut)return;const D=k==null?void 0:k.map(P=>({link:P}));(C=this._activeProviderReplies)===null||C===void 0||C.set(w,D),m=this._checkLinkProviderResult(w,s,m),((E=this._activeProviderReplies)===null||E===void 0?void 0:E.size)===this._linkProviders.length&&this._removeIntersectingLinks(s.y,this._activeProviderReplies)})}_removeIntersectingLinks(s,c){const a=new Set;for(let d=0;d<c.size;d++){const m=c.get(d);if(m)for(let w=0;w<m.length;w++){const S=m[w],k=S.link.range.start.y<s?0:S.link.range.start.x,C=S.link.range.end.y>s?this._bufferService.cols:S.link.range.end.x;for(let E=k;E<=C;E++){if(a.has(E)){m.splice(w--,1);break}a.add(E)}}}}_checkLinkProviderResult(s,c,a){var d;if(!this._activeProviderReplies)return a;const m=this._activeProviderReplies.get(s);let w=!1;for(let S=0;S<s;S++)this._activeProviderReplies.has(S)&&!this._activeProviderReplies.get(S)||(w=!0);if(!w&&m){const S=m.find(k=>this._linkAtPosition(k.link,c));S&&(a=!0,this._handleNewLink(S))}if(this._activeProviderReplies.size===this._linkProviders.length&&!a)for(let S=0;S<this._activeProviderReplies.size;S++){const k=(d=this._activeProviderReplies.get(S))===null||d===void 0?void 0:d.find(C=>this._linkAtPosition(C.link,c));if(k){a=!0,this._handleNewLink(k);break}}return a}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(s){if(!this._element||!this._mouseService||!this._currentLink)return;const c=this._positionFromMouseEvent(s,this._element,this._mouseService);c&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,c)&&this._currentLink.link.activate(s,this._currentLink.link.text)}_clearCurrentLink(s,c){this._element&&this._currentLink&&this._lastMouseEvent&&(!s||!c||this._currentLink.link.range.start.y>=s&&this._currentLink.link.range.end.y<=c)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,v.disposeArray)(this._linkCacheDisposables))}_handleNewLink(s){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const c=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);c&&this._linkAtPosition(s.link,c)&&(this._currentLink=s,this._currentLink.state={decorations:{underline:s.link.decorations===void 0||s.link.decorations.underline,pointerCursor:s.link.decorations===void 0||s.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,s.link,this._lastMouseEvent),s.link.decorations={},Object.defineProperties(s.link.decorations,{pointerCursor:{get:()=>{var a,d;return(d=(a=this._currentLink)===null||a===void 0?void 0:a.state)===null||d===void 0?void 0:d.decorations.pointerCursor},set:a=>{var d,m;((d=this._currentLink)===null||d===void 0?void 0:d.state)&&this._currentLink.state.decorations.pointerCursor!==a&&(this._currentLink.state.decorations.pointerCursor=a,this._currentLink.state.isHovered&&((m=this._element)===null||m===void 0||m.classList.toggle("xterm-cursor-pointer",a)))}},underline:{get:()=>{var a,d;return(d=(a=this._currentLink)===null||a===void 0?void 0:a.state)===null||d===void 0?void 0:d.decorations.underline},set:a=>{var d,m,w;((d=this._currentLink)===null||d===void 0?void 0:d.state)&&((w=(m=this._currentLink)===null||m===void 0?void 0:m.state)===null||w===void 0?void 0:w.decorations.underline)!==a&&(this._currentLink.state.decorations.underline=a,this._currentLink.state.isHovered&&this._fireUnderlineEvent(s.link,a))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(a=>{const d=a.start===0?0:a.start+1+this._bufferService.buffer.ydisp;this._clearCurrentLink(d,a.end+1+this._bufferService.buffer.ydisp)})))}_linkHover(s,c,a){var d;!((d=this._currentLink)===null||d===void 0)&&d.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(c,!0),this._currentLink.state.decorations.pointerCursor&&s.classList.add("xterm-cursor-pointer")),c.hover&&c.hover(a,c.text)}_fireUnderlineEvent(s,c){const a=s.range,d=this._bufferService.buffer.ydisp,m=this._createLinkUnderlineEvent(a.start.x-1,a.start.y-d-1,a.end.x,a.end.y-d-1,void 0);(c?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(m)}_linkLeave(s,c,a){var d;!((d=this._currentLink)===null||d===void 0)&&d.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(c,!1),this._currentLink.state.decorations.pointerCursor&&s.classList.remove("xterm-cursor-pointer")),c.leave&&c.leave(a,c.text)}_linkAtPosition(s,c){const a=s.range.start.y===s.range.end.y,d=s.range.start.y<c.y,m=s.range.end.y>c.y;return(a&&s.range.start.x<=c.x&&s.range.end.x>=c.x||d&&s.range.end.x>=c.x||m&&s.range.start.x<=c.x||d&&m)&&s.range.start.y<=c.y&&s.range.end.y>=c.y}_positionFromMouseEvent(s,c,a){const d=a.getCoords(s,c,this._bufferService.cols,this._bufferService.rows);if(d)return{x:d[0],y:d[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(s,c,a,d,m){return{x1:s,y1:c,x2:a,y2:d,cols:this._bufferService.cols,fg:m}}};p=n([u(0,f.IBufferService)],p),i.Linkifier2=p},9042:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.tooMuchOutput=i.promptLabel=void 0,i.promptLabel="Terminal input",i.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},2962:function(b,i,o){var n=this&&this.__decorate||function(p,s,c,a){var d,m=arguments.length,w=m<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,c):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(p,s,c,a);else for(var S=p.length-1;S>=0;S--)(d=p[S])&&(w=(m<3?d(w):m>3?d(s,c,w):d(s,c))||w);return m>3&&w&&Object.defineProperty(s,c,w),w},u=this&&this.__param||function(p,s){return function(c,a){s(c,a,p)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OscLinkProvider=void 0;const f=o(511),_=o(2585);let v=class{constructor(p,s,c){this._bufferService=p,this._optionsService=s,this._oscLinkService=c}provideLinks(p,s){var c;const a=this._bufferService.buffer.lines.get(p-1);if(!a)return void s(void 0);const d=[],m=this._optionsService.rawOptions.linkHandler,w=new f.CellData,S=a.getTrimmedLength();let k=-1,C=-1,E=!1;for(let D=0;D<S;D++)if(C!==-1||a.hasContent(D)){if(a.loadCell(D,w),w.hasExtendedAttrs()&&w.extended.urlId){if(C===-1){C=D,k=w.extended.urlId;continue}E=w.extended.urlId!==k}else C!==-1&&(E=!0);if(E||C!==-1&&D===S-1){const P=(c=this._oscLinkService.getLinkData(k))===null||c===void 0?void 0:c.uri;if(P){const B={start:{x:C+1,y:p},end:{x:D+(E||D!==S-1?0:1),y:p}};d.push({text:P,range:B,activate:(x,R)=>m?m.activate(x,R,B):g(0,R),hover:(x,R)=>{var T;return(T=m==null?void 0:m.hover)===null||T===void 0?void 0:T.call(m,x,R,B)},leave:(x,R)=>{var T;return(T=m==null?void 0:m.leave)===null||T===void 0?void 0:T.call(m,x,R,B)}})}E=!1,w.hasExtendedAttrs()&&w.extended.urlId?(C=D,k=w.extended.urlId):(C=-1,k=-1)}}s(d)}};function g(p,s){if(confirm(`Do you want to navigate to ${s}?`)){const c=window.open();if(c){try{c.opener=null}catch{}c.location.href=s}else console.warn("Opening link blocked as opener could not be cleared")}}v=n([u(0,_.IBufferService),u(1,_.IOptionsService),u(2,_.IOscLinkService)],v),i.OscLinkProvider=v},6193:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.RenderDebouncer=void 0,i.RenderDebouncer=class{constructor(o,n){this._parentWindow=o,this._renderCallback=n,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(o){return this._refreshCallbacks.push(o),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(o,n,u){this._rowCount=u,o=o!==void 0?o:0,n=n!==void 0?n:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,o):o,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,n):n,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const o=Math.max(this._rowStart,0),n=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(o,n),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const o of this._refreshCallbacks)o(0);this._refreshCallbacks=[]}}},5596:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ScreenDprMonitor=void 0;const n=o(844);class u extends n.Disposable{constructor(_){super(),this._parentWindow=_,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio}setListener(_){this._listener&&this.clearListener(),this._listener=_,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}dispose(){super.dispose(),this.clearListener()}_updateDpr(){var _;this._outerListener&&((_=this._resolutionMediaMatchList)===null||_===void 0||_.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}i.ScreenDprMonitor=u},3236:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Terminal=void 0;const n=o(2950),u=o(1680),f=o(3614),_=o(2584),v=o(5435),g=o(9312),p=o(6114),s=o(3656),c=o(9042),a=o(4567),d=o(1296),m=o(7399),w=o(8460),S=o(8437),k=o(5680),C=o(3230),E=o(4725),D=o(428),P=o(8934),B=o(6465),x=o(5114),R=o(8969),T=o(8055),O=o(4269),M=o(5941),V=o(3107),F=o(5744),W=o(9074),G=o(2585),ie=o(2962),L=typeof window<"u"?window.document:null;class q extends R.CoreTerminal{constructor(I={}){super(I),this.browser=p,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._onCursorMove=new w.EventEmitter,this._onKey=new w.EventEmitter,this._onRender=new w.EventEmitter,this._onSelectionChange=new w.EventEmitter,this._onTitleChange=new w.EventEmitter,this._onBell=new w.EventEmitter,this._onFocus=new w.EventEmitter,this._onBlur=new w.EventEmitter,this._onA11yCharEmitter=new w.EventEmitter,this._onA11yTabEmitter=new w.EventEmitter,this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(B.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(ie.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(W.DecorationService),this._instantiationService.setService(G.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((z,se)=>this.refresh(z,se))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(z=>this._reportWindowsOptions(z))),this.register(this._inputHandler.onColor(z=>this._handleColorEvent(z))),this.register((0,w.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,w.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,w.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,w.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(z=>this._afterResize(z.cols,z.rows)))}get onCursorMove(){return this._onCursorMove.event}get onKey(){return this._onKey.event}get onRender(){return this._onRender.event}get onSelectionChange(){return this._onSelectionChange.event}get onTitleChange(){return this._onTitleChange.event}get onBell(){return this._onBell.event}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}_handleColorEvent(I){var z,se;if(this._colorManager){for(const Z of I){let fe,le="";switch(Z.index){case 256:fe="foreground",le="10";break;case 257:fe="background",le="11";break;case 258:fe="cursor",le="12";break;default:fe="ansi",le="4;"+Z.index}switch(Z.type){case 0:const Le=T.color.toColorRGB(fe==="ansi"?this._colorManager.colors.ansi[Z.index]:this._colorManager.colors[fe]);this.coreService.triggerDataEvent(`${_.C0.ESC}]${le};${(0,M.toRgbString)(Le)}${_.C1_ESCAPED.ST}`);break;case 1:fe==="ansi"?this._colorManager.colors.ansi[Z.index]=T.rgba.toColor(...Z.color):this._colorManager.colors[fe]=T.rgba.toColor(...Z.color);break;case 2:this._colorManager.restoreColor(Z.index)}}(z=this._renderService)===null||z===void 0||z.setColors(this._colorManager.colors),(se=this.viewport)===null||se===void 0||se.onThemeChange(this._colorManager.colors)}}dispose(){var I,z,se;this._isDisposed||(super.dispose(),(I=this._renderService)===null||I===void 0||I.dispose(),this._customKeyEventHandler=void 0,this.write=()=>{},(se=(z=this.element)===null||z===void 0?void 0:z.parentNode)===null||se===void 0||se.removeChild(this.element))}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_updateOptions(I){var z,se,Z,fe;switch(super._updateOptions(I),I){case"fontFamily":case"fontSize":(z=this._renderService)===null||z===void 0||z.clear(),(se=this._charSizeService)===null||se===void 0||se.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"customGlyphs":case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"scrollback":(Z=this.viewport)===null||Z===void 0||Z.syncScrollArea();break;case"screenReaderMode":this.optionsService.rawOptions.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new a.AccessibilityManager(this,this._renderService)):((fe=this._accessibilityManager)===null||fe===void 0||fe.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.rawOptions.theme)}}_onTextAreaFocus(I){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(_.C0.ESC+"[I"),this.updateCursorStyle(I),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var I;return(I=this.textarea)===null||I===void 0?void 0:I.blur()}_onTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(_.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const I=this.buffer.ybase+this.buffer.y,z=this.buffer.lines.get(I);if(!z)return;const se=Math.min(this.buffer.x,this.cols-1),Z=this._renderService.dimensions.actualCellHeight,fe=z.getWidth(se),le=this._renderService.dimensions.actualCellWidth*fe,Le=this.buffer.y*this._renderService.dimensions.actualCellHeight,pe=se*this._renderService.dimensions.actualCellWidth;this.textarea.style.left=pe+"px",this.textarea.style.top=Le+"px",this.textarea.style.width=le+"px",this.textarea.style.height=Z+"px",this.textarea.style.lineHeight=Z+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,s.addDisposableDomListener)(this.element,"copy",z=>{this.hasSelection()&&(0,f.copyHandler)(z,this._selectionService)}));const I=z=>(0,f.handlePasteEvent)(z,this.textarea,this.coreService);this.register((0,s.addDisposableDomListener)(this.textarea,"paste",I)),this.register((0,s.addDisposableDomListener)(this.element,"paste",I)),p.isFirefox?this.register((0,s.addDisposableDomListener)(this.element,"mousedown",z=>{z.button===2&&(0,f.rightClickHandler)(z,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,s.addDisposableDomListener)(this.element,"contextmenu",z=>{(0,f.rightClickHandler)(z,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),p.isLinux&&this.register((0,s.addDisposableDomListener)(this.element,"auxclick",z=>{z.button===1&&(0,f.moveTextAreaUnderMouseCursor)(z,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,s.addDisposableDomListener)(this.textarea,"keyup",I=>this._keyUp(I),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"keydown",I=>this._keyDown(I),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"keypress",I=>this._keyPress(I),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionupdate",I=>this._compositionHelper.compositionupdate(I))),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,s.addDisposableDomListener)(this.textarea,"input",I=>this._inputEvent(I),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(I){var z;if(!I)throw new Error("Terminal requires a parent element.");I.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=I.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),I.appendChild(this.element);const se=L.createDocumentFragment();this._viewportElement=L.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),se.appendChild(this._viewportElement),this._viewportScrollArea=L.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=L.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=L.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),se.appendChild(this.screenElement),this.textarea=L.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",c.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register((0,s.addDisposableDomListener)(this.textarea,"focus",fe=>this._onTextAreaFocus(fe))),this.register((0,s.addDisposableDomListener)(this.textarea,"blur",()=>this._onTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._coreBrowserService=this._instantiationService.createInstance(x.CoreBrowserService,this.textarea,(z=this._document.defaultView)!==null&&z!==void 0?z:window),this._instantiationService.setService(E.ICoreBrowserService,this._coreBrowserService),this._charSizeService=this._instantiationService.createInstance(D.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(E.ICharSizeService,this._charSizeService),this._theme=this.options.theme||this._theme,this._colorManager=new k.ColorManager(L,this.options.allowTransparency),this.register(this.optionsService.onOptionChange(fe=>this._colorManager.onOptionsChange(fe,this.optionsService.rawOptions[fe]))),this._colorManager.setTheme(this._theme),this._characterJoinerService=this._instantiationService.createInstance(O.CharacterJoinerService),this._instantiationService.setService(E.ICharacterJoinerService,this._characterJoinerService);const Z=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(C.RenderService,Z,this.rows,this.screenElement)),this._instantiationService.setService(E.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(fe=>this._onRender.fire(fe))),this.onResize(fe=>this._renderService.resize(fe.cols,fe.rows)),this._compositionView=L.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(n.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(se),this._mouseService=this._instantiationService.createInstance(P.MouseService),this._instantiationService.setService(E.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(u.Viewport,fe=>this.scrollLines(fe,!0,1),this._viewportElement,this._viewportScrollArea,this.element),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.onCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.onResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.onBlur())),this.register(this.onFocus(()=>this._renderService.onFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(g.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(E.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(fe=>this.scrollLines(fe.amount,fe.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(fe=>this._renderService.onSelectionChanged(fe.start,fe.end,fe.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(fe=>{this.textarea.value=fe,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(fe=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,s.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(V.BufferDecorationRenderer,this.screenElement)),this.register((0,s.addDisposableDomListener)(this.element,"mousedown",fe=>this._selectionService.onMouseDown(fe))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new a.AccessibilityManager(this,this._renderService)),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(F.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onOptionChange(()=>{!this._overviewRulerRenderer&&this.options.overviewRulerWidth&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(F.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(d.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier2)}_setTheme(I){var z,se,Z;this._theme=I,(z=this._colorManager)===null||z===void 0||z.setTheme(I),(se=this._renderService)===null||se===void 0||se.setColors(this._colorManager.colors),(Z=this.viewport)===null||Z===void 0||Z.onThemeChange(this._colorManager.colors)}bindMouse(){const I=this,z=this.element;function se(le){const Le=I._mouseService.getMouseReportCoords(le,I.screenElement);if(!Le)return!1;let pe,Pe;switch(le.overrideType||le.type){case"mousemove":Pe=32,le.buttons===void 0?(pe=3,le.button!==void 0&&(pe=le.button<3?le.button:3)):pe=1&le.buttons?0:4&le.buttons?1:2&le.buttons?2:3;break;case"mouseup":Pe=0,pe=le.button<3?le.button:3;break;case"mousedown":Pe=1,pe=le.button<3?le.button:3;break;case"wheel":if(I.viewport.getLinesScrolled(le)===0)return!1;Pe=le.deltaY<0?0:1,pe=4;break;default:return!1}return!(Pe===void 0||pe===void 0||pe>4)&&I.coreMouseService.triggerMouseEvent({col:Le.col,row:Le.row,x:Le.x,y:Le.y,button:pe,action:Pe,ctrl:le.ctrlKey,alt:le.altKey,shift:le.shiftKey})}const Z={mouseup:null,wheel:null,mousedrag:null,mousemove:null},fe={mouseup:le=>(se(le),le.buttons||(this._document.removeEventListener("mouseup",Z.mouseup),Z.mousedrag&&this._document.removeEventListener("mousemove",Z.mousedrag)),this.cancel(le)),wheel:le=>(se(le),this.cancel(le,!0)),mousedrag:le=>{le.buttons&&se(le)},mousemove:le=>{le.buttons||se(le)}};this.register(this.coreMouseService.onProtocolChange(le=>{le?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(le)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&le?Z.mousemove||(z.addEventListener("mousemove",fe.mousemove),Z.mousemove=fe.mousemove):(z.removeEventListener("mousemove",Z.mousemove),Z.mousemove=null),16&le?Z.wheel||(z.addEventListener("wheel",fe.wheel,{passive:!1}),Z.wheel=fe.wheel):(z.removeEventListener("wheel",Z.wheel),Z.wheel=null),2&le?Z.mouseup||(Z.mouseup=fe.mouseup):(this._document.removeEventListener("mouseup",Z.mouseup),Z.mouseup=null),4&le?Z.mousedrag||(Z.mousedrag=fe.mousedrag):(this._document.removeEventListener("mousemove",Z.mousedrag),Z.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,s.addDisposableDomListener)(z,"mousedown",le=>{if(le.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(le))return se(le),Z.mouseup&&this._document.addEventListener("mouseup",Z.mouseup),Z.mousedrag&&this._document.addEventListener("mousemove",Z.mousedrag),this.cancel(le)})),this.register((0,s.addDisposableDomListener)(z,"wheel",le=>{if(!Z.wheel){if(!this.buffer.hasScrollback){const Le=this.viewport.getLinesScrolled(le);if(Le===0)return;const pe=_.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(le.deltaY<0?"A":"B");let Pe="";for(let ce=0;ce<Math.abs(Le);ce++)Pe+=pe;return this.coreService.triggerDataEvent(Pe,!0),this.cancel(le,!0)}return this.viewport.onWheel(le)?this.cancel(le):void 0}},{passive:!1})),this.register((0,s.addDisposableDomListener)(z,"touchstart",le=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.onTouchStart(le),this.cancel(le)},{passive:!0})),this.register((0,s.addDisposableDomListener)(z,"touchmove",le=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.onTouchMove(le)?void 0:this.cancel(le)},{passive:!1}))}refresh(I,z){var se;(se=this._renderService)===null||se===void 0||se.refreshRows(I,z)}updateCursorStyle(I){var z;!((z=this._selectionService)===null||z===void 0)&&z.shouldColumnSelect(I)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(I,z,se=0){super.scrollLines(I,z,se),this.refresh(0,this.rows-1)}paste(I){(0,f.paste)(I,this.textarea,this.coreService)}attachCustomKeyEventHandler(I){this._customKeyEventHandler=I}registerLinkProvider(I){return this.linkifier2.registerLinkProvider(I)}registerCharacterJoiner(I){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const z=this._characterJoinerService.register(I);return this.refresh(0,this.rows-1),z}deregisterCharacterJoiner(I){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(I)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}addMarker(I){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+I)}registerDecoration(I){return this._decorationService.registerDecoration(I)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(I,z,se){this._selectionService.setSelection(I,z,se)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var I;(I=this._selectionService)===null||I===void 0||I.clearSelection()}selectAll(){var I;(I=this._selectionService)===null||I===void 0||I.selectAll()}selectLines(I,z){var se;(se=this._selectionService)===null||se===void 0||se.selectLines(I,z)}_keyDown(I){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(I)===!1)return!1;const z=this.browser.isMac&&this.options.macOptionIsMeta&&I.altKey;if(!z&&!this._compositionHelper.keydown(I))return this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;z||I.key!=="Dead"&&I.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const se=(0,m.evaluateKeyboardEvent)(I,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(I),se.type===3||se.type===2){const Z=this.rows-1;return this.scrollLines(se.type===2?-Z:Z),this.cancel(I,!0)}return se.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,I)||(se.cancel&&this.cancel(I,!0),!se.key||!!(I.key&&!I.ctrlKey&&!I.altKey&&!I.metaKey&&I.key.length===1&&I.key.charCodeAt(0)>=65&&I.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(se.key!==_.C0.ETX&&se.key!==_.C0.CR||(this.textarea.value=""),this._onKey.fire({key:se.key,domEvent:I}),this._showCursor(),this.coreService.triggerDataEvent(se.key,!0),this.optionsService.rawOptions.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(I,!0))))}_isThirdLevelShift(I,z){const se=I.isMac&&!this.options.macOptionIsMeta&&z.altKey&&!z.ctrlKey&&!z.metaKey||I.isWindows&&z.altKey&&z.ctrlKey&&!z.metaKey||I.isWindows&&z.getModifierState("AltGraph");return z.type==="keypress"?se:se&&(!z.keyCode||z.keyCode>47)}_keyUp(I){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(I)===!1||(function(z){return z.keyCode===16||z.keyCode===17||z.keyCode===18}(I)||this.focus(),this.updateCursorStyle(I),this._keyPressHandled=!1)}_keyPress(I){let z;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(I)===!1)return!1;if(this.cancel(I),I.charCode)z=I.charCode;else if(I.which===null||I.which===void 0)z=I.keyCode;else{if(I.which===0||I.charCode===0)return!1;z=I.which}return!(!z||(I.altKey||I.ctrlKey||I.metaKey)&&!this._isThirdLevelShift(this.browser,I)||(z=String.fromCharCode(z),this._onKey.fire({key:z,domEvent:I}),this._showCursor(),this.coreService.triggerDataEvent(z,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(I){if(I.data&&I.inputType==="insertText"&&(!I.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const z=I.data;return this.coreService.triggerDataEvent(z,!0),this.cancel(I),!0}return!1}resize(I,z){I!==this.cols||z!==this.rows?super.resize(I,z):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(I,z){var se,Z;(se=this._charSizeService)===null||se===void 0||se.measure(),(Z=this.viewport)===null||Z===void 0||Z.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let I=1;I<this.rows;I++)this.buffer.lines.push(this.buffer.getBlankLine(S.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}}reset(){var I,z;this.options.rows=this.rows,this.options.cols=this.cols;const se=this._customKeyEventHandler;this._setup(),super.reset(),(I=this._selectionService)===null||I===void 0||I.reset(),this._decorationService.reset(),this._customKeyEventHandler=se,this.refresh(0,this.rows-1),(z=this.viewport)===null||z===void 0||z.syncScrollArea()}clearTextureAtlas(){var I;(I=this._renderService)===null||I===void 0||I.clearTextureAtlas()}_reportFocus(){var I;!((I=this.element)===null||I===void 0)&&I.classList.contains("focus")?this.coreService.triggerDataEvent(_.C0.ESC+"[I"):this.coreService.triggerDataEvent(_.C0.ESC+"[O")}_reportWindowsOptions(I){if(this._renderService)switch(I){case v.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const z=this._renderService.dimensions.canvasWidth.toFixed(0),se=this._renderService.dimensions.canvasHeight.toFixed(0);this.coreService.triggerDataEvent(`${_.C0.ESC}[4;${se};${z}t`);break;case v.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Z=this._renderService.dimensions.actualCellWidth.toFixed(0),fe=this._renderService.dimensions.actualCellHeight.toFixed(0);this.coreService.triggerDataEvent(`${_.C0.ESC}[6;${fe};${Z}t`)}}cancel(I,z){if(this.options.cancelEvents||z)return I.preventDefault(),I.stopPropagation(),!1}}i.Terminal=q},9924:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TimeBasedDebouncer=void 0,i.TimeBasedDebouncer=class{constructor(o,n=1e3){this._renderCallback=o,this._debounceThresholdMS=n,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(o,n,u){this._rowCount=u,o=o!==void 0?o:0,n=n!==void 0?n:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,o):o,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,n):n;const f=Date.now();if(f-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=f,this._innerRefresh();else if(!this._additionalRefreshRequested){const _=f-this._lastRefreshMs,v=this._debounceThresholdMS-_;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},v)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const o=Math.max(this._rowStart,0),n=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(o,n)}}},1680:function(b,i,o){var n=this&&this.__decorate||function(s,c,a,d){var m,w=arguments.length,S=w<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,a):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(s,c,a,d);else for(var k=s.length-1;k>=0;k--)(m=s[k])&&(S=(w<3?m(S):w>3?m(c,a,S):m(c,a))||S);return w>3&&S&&Object.defineProperty(c,a,S),S},u=this&&this.__param||function(s,c){return function(a,d){c(a,d,s)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Viewport=void 0;const f=o(844),_=o(3656),v=o(4725),g=o(2585);let p=class extends f.Disposable{constructor(s,c,a,d,m,w,S,k,C){super(),this._scrollLines=s,this._viewportElement=c,this._scrollArea=a,this._element=d,this._bufferService=m,this._optionsService=w,this._charSizeService=S,this._renderService=k,this._coreBrowserService=C,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentScaledCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,_.addDisposableDomListener)(this._viewportElement,"scroll",this._onScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(E=>this._activeBuffer=E.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(E=>this._renderDimensions=E)),setTimeout(()=>this.syncScrollArea(),0)}onThemeChange(s){this._viewportElement.style.backgroundColor=s.background.css}_refresh(s){if(s)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/this._coreBrowserService.dpr,this._currentScaledCellHeight=this._renderService.dimensions.scaledCellHeight,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const c=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==c&&(this._lastRecordedBufferHeight=c,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const s=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==s&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=s),this._refreshAnimationFrame=null}syncScrollArea(s=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(s);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.scaledCellHeight===this._currentScaledCellHeight||this._refresh(s)}_onScroll(s){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);const c=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(c)}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const s=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(s*(this._smoothScrollState.target-this._smoothScrollState.origin)),s<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(s,c){const a=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(c<0&&this._viewportElement.scrollTop!==0||c>0&&a<this._lastRecordedBufferHeight)||(s.cancelable&&s.preventDefault(),!1)}onWheel(s){const c=this._getPixelsScrolled(s);return c!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+c:this._smoothScrollState.target+=c,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=c,this._bubbleScroll(s,c))}_getPixelsScrolled(s){if(s.deltaY===0||s.shiftKey)return 0;let c=this._applyScrollModifier(s.deltaY,s);return s.deltaMode===WheelEvent.DOM_DELTA_LINE?c*=this._currentRowHeight:s.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(c*=this._currentRowHeight*this._bufferService.rows),c}getLinesScrolled(s){if(s.deltaY===0||s.shiftKey)return 0;let c=this._applyScrollModifier(s.deltaY,s);return s.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(c/=this._currentRowHeight+0,this._wheelPartialScroll+=c,c=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):s.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(c*=this._bufferService.rows),c}_applyScrollModifier(s,c){const a=this._optionsService.rawOptions.fastScrollModifier;return a==="alt"&&c.altKey||a==="ctrl"&&c.ctrlKey||a==="shift"&&c.shiftKey?s*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:s*this._optionsService.rawOptions.scrollSensitivity}onTouchStart(s){this._lastTouchY=s.touches[0].pageY}onTouchMove(s){const c=this._lastTouchY-s.touches[0].pageY;return this._lastTouchY=s.touches[0].pageY,c!==0&&(this._viewportElement.scrollTop+=c,this._bubbleScroll(s,c))}};p=n([u(4,g.IBufferService),u(5,g.IOptionsService),u(6,v.ICharSizeService),u(7,v.IRenderService),u(8,v.ICoreBrowserService)],p),i.Viewport=p},3107:function(b,i,o){var n=this&&this.__decorate||function(s,c,a,d){var m,w=arguments.length,S=w<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,a):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(s,c,a,d);else for(var k=s.length-1;k>=0;k--)(m=s[k])&&(S=(w<3?m(S):w>3?m(c,a,S):m(c,a))||S);return w>3&&S&&Object.defineProperty(c,a,S),S},u=this&&this.__param||function(s,c){return function(a,d){c(a,d,s)}};Object.defineProperty(i,"__esModule",{value:!0}),i.BufferDecorationRenderer=void 0;const f=o(3656),_=o(4725),v=o(844),g=o(2585);let p=class extends v.Disposable{constructor(s,c,a,d){super(),this._screenElement=s,this._bufferService=c,this._decorationService=a,this._renderService=d,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,f.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(m=>this._removeDecoration(m)))}dispose(){this._container.remove(),this._decorationElements.clear(),super.dispose()}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this.refreshDecorations(),this._animationFrame=void 0}))}refreshDecorations(){for(const s of this._decorationService.decorations)this._renderDecoration(s);this._dimensionsChanged=!1}_renderDecoration(s){this._refreshStyle(s),this._dimensionsChanged&&this._refreshXPosition(s)}_createElement(s){var c;const a=document.createElement("div");a.classList.add("xterm-decoration"),a.style.width=`${Math.round((s.options.width||1)*this._renderService.dimensions.actualCellWidth)}px`,a.style.height=(s.options.height||1)*this._renderService.dimensions.actualCellHeight+"px",a.style.top=(s.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.actualCellHeight+"px",a.style.lineHeight=`${this._renderService.dimensions.actualCellHeight}px`;const d=(c=s.options.x)!==null&&c!==void 0?c:0;return d&&d>this._bufferService.cols&&(a.style.display="none"),this._refreshXPosition(s,a),a}_refreshStyle(s){const c=s.marker.line-this._bufferService.buffers.active.ydisp;if(c<0||c>=this._bufferService.rows)s.element&&(s.element.style.display="none",s.onRenderEmitter.fire(s.element));else{let a=this._decorationElements.get(s);a||(s.onDispose(()=>this._removeDecoration(s)),a=this._createElement(s),s.element=a,this._decorationElements.set(s,a),this._container.appendChild(a)),a.style.top=c*this._renderService.dimensions.actualCellHeight+"px",a.style.display=this._altBufferIsActive?"none":"block",s.onRenderEmitter.fire(a)}}_refreshXPosition(s,c=s.element){var a;if(!c)return;const d=(a=s.options.x)!==null&&a!==void 0?a:0;(s.options.anchor||"left")==="right"?c.style.right=d?d*this._renderService.dimensions.actualCellWidth+"px":"":c.style.left=d?d*this._renderService.dimensions.actualCellWidth+"px":""}_removeDecoration(s){var c;(c=this._decorationElements.get(s))===null||c===void 0||c.remove(),this._decorationElements.delete(s)}};p=n([u(1,g.IBufferService),u(2,g.IDecorationService),u(3,_.IRenderService)],p),i.BufferDecorationRenderer=p},5871:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorZoneStore=void 0,i.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(o){if(o.options.overviewRulerOptions){for(const n of this._zones)if(n.color===o.options.overviewRulerOptions.color&&n.position===o.options.overviewRulerOptions.position){if(this._lineIntersectsZone(n,o.marker.line))return;if(this._lineAdjacentToZone(n,o.marker.line,o.options.overviewRulerOptions.position))return void this._addLineToZone(n,o.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=o.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=o.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=o.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=o.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:o.options.overviewRulerOptions.color,position:o.options.overviewRulerOptions.position,startBufferLine:o.marker.line,endBufferLine:o.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(o){this._linePadding=o}_lineIntersectsZone(o,n){return n>=o.startBufferLine&&n<=o.endBufferLine}_lineAdjacentToZone(o,n,u){return n>=o.startBufferLine-this._linePadding[u||"full"]&&n<=o.endBufferLine+this._linePadding[u||"full"]}_addLineToZone(o,n){o.startBufferLine=Math.min(o.startBufferLine,n),o.endBufferLine=Math.max(o.endBufferLine,n)}}},5744:function(b,i,o){var n=this&&this.__decorate||function(m,w,S,k){var C,E=arguments.length,D=E<3?w:k===null?k=Object.getOwnPropertyDescriptor(w,S):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(m,w,S,k);else for(var P=m.length-1;P>=0;P--)(C=m[P])&&(D=(E<3?C(D):E>3?C(w,S,D):C(w,S))||D);return E>3&&D&&Object.defineProperty(w,S,D),D},u=this&&this.__param||function(m,w){return function(S,k){w(S,k,m)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OverviewRulerRenderer=void 0;const f=o(5871),_=o(3656),v=o(4725),g=o(844),p=o(2585),s={full:0,left:0,center:0,right:0},c={full:0,left:0,center:0,right:0},a={full:0,left:0,center:0,right:0};let d=class extends g.Disposable{constructor(m,w,S,k,C,E,D){var P;super(),this._viewportElement=m,this._screenElement=w,this._bufferService=S,this._decorationService=k,this._renderService=C,this._optionsService=E,this._coreBrowseService=D,this._colorZoneStore=new f.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(P=this._viewportElement.parentElement)===null||P===void 0||P.insertBefore(this._canvas,this._viewportElement);const B=this._canvas.getContext("2d");if(!B)throw new Error("Ctx cannot be null");this._ctx=B,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners()}get _width(){return this._optionsService.options.overviewRulerWidth||0}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onOptionChange(m=>{m==="overviewRulerWidth"&&this._queueRefresh(!0)})),this.register((0,_.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>{this._queueRefresh(!0)})),this._queueRefresh(!0)}dispose(){var m;(m=this._canvas)===null||m===void 0||m.remove(),super.dispose()}_refreshDrawConstants(){const m=Math.floor(this._canvas.width/3),w=Math.ceil(this._canvas.width/3);c.full=this._canvas.width,c.left=m,c.center=w,c.right=m,this._refreshDrawHeightConstants(),a.full=0,a.left=0,a.center=c.left,a.right=c.left+c.center}_refreshDrawHeightConstants(){s.full=Math.round(2*this._coreBrowseService.dpr);const m=this._canvas.height/this._bufferService.buffer.lines.length,w=Math.round(Math.max(Math.min(m,12),6)*this._coreBrowseService.dpr);s.left=w,s.center=w,s.right=w}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*s.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*s.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*s.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*s.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const w of this._decorationService.decorations)this._colorZoneStore.addDecoration(w);this._ctx.lineWidth=1;const m=this._colorZoneStore.zones;for(const w of m)w.position!=="full"&&this._renderColorZone(w);for(const w of m)w.position==="full"&&this._renderColorZone(w);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(m){this._ctx.fillStyle=m.color,this._ctx.fillRect(a[m.position||"full"],Math.round((this._canvas.height-1)*(m.startBufferLine/this._bufferService.buffers.active.lines.length)-s[m.position||"full"]/2),c[m.position||"full"],Math.round((this._canvas.height-1)*((m.endBufferLine-m.startBufferLine)/this._bufferService.buffers.active.lines.length)+s[m.position||"full"]))}_queueRefresh(m,w){this._shouldUpdateDimensions=m||this._shouldUpdateDimensions,this._shouldUpdateAnchor=w||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};d=n([u(2,p.IBufferService),u(3,p.IDecorationService),u(4,v.IRenderService),u(5,p.IOptionsService),u(6,v.ICoreBrowserService)],d),i.OverviewRulerRenderer=d},2950:function(b,i,o){var n=this&&this.__decorate||function(p,s,c,a){var d,m=arguments.length,w=m<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,c):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(p,s,c,a);else for(var S=p.length-1;S>=0;S--)(d=p[S])&&(w=(m<3?d(w):m>3?d(s,c,w):d(s,c))||w);return m>3&&w&&Object.defineProperty(s,c,w),w},u=this&&this.__param||function(p,s){return function(c,a){s(c,a,p)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CompositionHelper=void 0;const f=o(4725),_=o(2585),v=o(2584);let g=class{constructor(p,s,c,a,d,m){this._textarea=p,this._compositionView=s,this._bufferService=c,this._optionsService=a,this._coreService=d,this._renderService=m,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(p){this._compositionView.textContent=p.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(p){if(this._isComposing||this._isSendingComposition){if(p.keyCode===229||p.keyCode===16||p.keyCode===17||p.keyCode===18)return!1;this._finalizeComposition(!1)}return p.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(p){if(this._compositionView.classList.remove("active"),this._isComposing=!1,p){const s={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let c;this._isSendingComposition=!1,s.start+=this._dataAlreadySent.length,c=this._isComposing?this._textarea.value.substring(s.start,s.end):this._textarea.value.substring(s.start),c.length>0&&this._coreService.triggerDataEvent(c,!0)}},0)}else{this._isSendingComposition=!1;const s=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(s,!0)}}_handleAnyTextareaChanges(){const p=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const s=this._textarea.value,c=s.replace(p,"");this._dataAlreadySent=c,s.length>p.length?this._coreService.triggerDataEvent(c,!0):s.length<p.length?this._coreService.triggerDataEvent(`${v.C0.DEL}`,!0):s.length===p.length&&s!==p&&this._coreService.triggerDataEvent(s,!0)}},0)}updateCompositionElements(p){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const s=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),c=this._renderService.dimensions.actualCellHeight,a=this._bufferService.buffer.y*this._renderService.dimensions.actualCellHeight,d=s*this._renderService.dimensions.actualCellWidth;this._compositionView.style.left=d+"px",this._compositionView.style.top=a+"px",this._compositionView.style.height=c+"px",this._compositionView.style.lineHeight=c+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const m=this._compositionView.getBoundingClientRect();this._textarea.style.left=d+"px",this._textarea.style.top=a+"px",this._textarea.style.width=Math.max(m.width,1)+"px",this._textarea.style.height=Math.max(m.height,1)+"px",this._textarea.style.lineHeight=m.height+"px"}p||setTimeout(()=>this.updateCompositionElements(!0),0)}}};g=n([u(2,_.IBufferService),u(3,_.IOptionsService),u(4,_.ICoreService),u(5,f.IRenderService)],g),i.CompositionHelper=g},9806:(b,i)=>{function o(n,u,f){const _=f.getBoundingClientRect(),v=n.getComputedStyle(f),g=parseInt(v.getPropertyValue("padding-left")),p=parseInt(v.getPropertyValue("padding-top"));return[u.clientX-_.left-g,u.clientY-_.top-p]}Object.defineProperty(i,"__esModule",{value:!0}),i.getCoords=i.getCoordsRelativeToElement=void 0,i.getCoordsRelativeToElement=o,i.getCoords=function(n,u,f,_,v,g,p,s,c){if(!g)return;const a=o(n,u,f);return a?(a[0]=Math.ceil((a[0]+(c?p/2:0))/p),a[1]=Math.ceil(a[1]/s),a[0]=Math.min(Math.max(a[0],1),_+(c?1:0)),a[1]=Math.min(Math.max(a[1],1),v),a):void 0}},9504:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.moveToCellSequence=void 0;const n=o(2584);function u(s,c,a,d){const m=s-f(a,s),w=c-f(a,c),S=Math.abs(m-w)-function(k,C,E){let D=0;const P=k-f(E,k),B=C-f(E,C);for(let x=0;x<Math.abs(P-B);x++){const R=_(k,C)==="A"?-1:1,T=E.buffer.lines.get(P+R*x);T!=null&&T.isWrapped&&D++}return D}(s,c,a);return p(S,g(_(s,c),d))}function f(s,c){let a=0,d=s.buffer.lines.get(c),m=d==null?void 0:d.isWrapped;for(;m&&c>=0&&c<s.rows;)a++,d=s.buffer.lines.get(--c),m=d==null?void 0:d.isWrapped;return a}function _(s,c){return s>c?"A":"B"}function v(s,c,a,d,m,w){let S=s,k=c,C="";for(;S!==a||k!==d;)S+=m?1:-1,m&&S>w.cols-1?(C+=w.buffer.translateBufferLineToString(k,!1,s,S),S=0,s=0,k++):!m&&S<0&&(C+=w.buffer.translateBufferLineToString(k,!1,0,s+1),S=w.cols-1,s=S,k--);return C+w.buffer.translateBufferLineToString(k,!1,s,S)}function g(s,c){const a=c?"O":"[";return n.C0.ESC+a+s}function p(s,c){s=Math.floor(s);let a="";for(let d=0;d<s;d++)a+=c;return a}i.moveToCellSequence=function(s,c,a,d){const m=a.buffer.x,w=a.buffer.y;if(!a.buffer.hasScrollback)return function(C,E,D,P,B,x){return u(E,P,B,x).length===0?"":p(v(C,E,C,E-f(B,E),!1,B).length,g("D",x))}(m,w,0,c,a,d)+u(w,c,a,d)+function(C,E,D,P,B,x){let R;R=u(E,P,B,x).length>0?P-f(B,P):E;const T=P,O=function(M,V,F,W,G,ie){let L;return L=u(F,W,G,ie).length>0?W-f(G,W):V,M<F&&L<=W||M>=F&&L<W?"C":"D"}(C,E,D,P,B,x);return p(v(C,R,D,T,O==="C",B).length,g(O,x))}(m,w,s,c,a,d);let S;if(w===c)return S=m>s?"D":"C",p(Math.abs(m-s),g(S,d));S=w>c?"D":"C";const k=Math.abs(w-c);return p(function(C,E){return E.cols-C}(w>c?s:m,a)+(k-1)*a.cols+1+((w>c?m:s)-1),g(S,d))}},8036:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TEXT_BASELINE=i.DIM_OPACITY=i.INVERTED_DEFAULT_COLOR=void 0;const n=o(6114);i.INVERTED_DEFAULT_COLOR=257,i.DIM_OPACITY=.5,i.TEXT_BASELINE=n.isFirefox||n.isLegacyEdge?"bottom":"ideographic"},1752:(b,i)=>{function o(n){return 57508<=n&&n<=57558}Object.defineProperty(i,"__esModule",{value:!0}),i.excludeFromContrastRatioDemands=i.isRestrictedPowerlineGlyph=i.isPowerlineGlyph=i.throwIfFalsy=void 0,i.throwIfFalsy=function(n){if(!n)throw new Error("value must not be falsy");return n},i.isPowerlineGlyph=o,i.isRestrictedPowerlineGlyph=function(n){return 57520<=n&&n<=57527},i.excludeFromContrastRatioDemands=function(n){return o(n)||function(u){return 9472<=u&&u<=9631}(n)}},1296:function(b,i,o){var n=this&&this.__decorate||function(k,C,E,D){var P,B=arguments.length,x=B<3?C:D===null?D=Object.getOwnPropertyDescriptor(C,E):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(k,C,E,D);else for(var R=k.length-1;R>=0;R--)(P=k[R])&&(x=(B<3?P(x):B>3?P(C,E,x):P(C,E))||x);return B>3&&x&&Object.defineProperty(C,E,x),x},u=this&&this.__param||function(k,C){return function(E,D){C(E,D,k)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DomRenderer=void 0;const f=o(3787),_=o(8036),v=o(844),g=o(4725),p=o(2585),s=o(8460),c=o(8055),a=o(9631),d="xterm-dom-renderer-owner-",m="xterm-focus";let w=1,S=class extends v.Disposable{constructor(k,C,E,D,P,B,x,R,T,O){super(),this._colors=k,this._element=C,this._screenElement=E,this._viewportElement=D,this._linkifier2=P,this._charSizeService=x,this._optionsService=R,this._bufferService=T,this._coreBrowserService=O,this._terminalClass=w++,this._rowElements=[],this._rowContainer=document.createElement("div"),this._rowContainer.classList.add("xterm-rows"),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add("xterm-selection"),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},this._updateDimensions(),this._injectCss(),this._rowFactory=B.createInstance(f.DomRendererRowFactory,document,this._colors),this._element.classList.add(d+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(M=>this._onLinkHover(M))),this.register(this._linkifier2.onHideLinkUnderline(M=>this._onLinkLeave(M)))}get onRequestRedraw(){return new s.EventEmitter().event}dispose(){this._element.classList.remove(d+this._terminalClass),(0,a.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),super.dispose()}_updateDimensions(){const k=this._coreBrowserService.dpr;this.dimensions.scaledCharWidth=this._charSizeService.width*k,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*k),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/k),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/k),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;for(const E of this._rowElements)E.style.width=`${this.dimensions.canvasWidth}px`,E.style.height=`${this.dimensions.actualCellHeight}px`,E.style.lineHeight=`${this.dimensions.actualCellHeight}px`,E.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const C=`${this._terminalSelector} .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: ${this.dimensions.actualCellWidth}px}`;this._dimensionsStyleElement.textContent=C,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.canvasWidth}px`,this._screenElement.style.height=`${this.dimensions.canvasHeight}px`}setColors(k){this._colors=k,this._injectCss()}_injectCss(){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let k=`${this._terminalSelector} .xterm-rows { color: ${this._colors.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px;}`;k+=`${this._terminalSelector} span:not(.${f.BOLD_CLASS}) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.${f.BOLD_CLASS} { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.${f.ITALIC_CLASS} { font-style: italic;}`,k+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",k+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${this._colors.cursor.css};  color: ${this._colors.cursorAccent.css}; } 50% {  background-color: ${this._colors.cursorAccent.css};  color: ${this._colors.cursor.css}; }}`,k+=`${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${f.CURSOR_CLASS}.${f.CURSOR_STYLE_BLOCK_CLASS} { outline: 1px solid ${this._colors.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .xterm-rows.xterm-focus .${f.CURSOR_CLASS}.${f.CURSOR_BLINK_CLASS}:not(.${f.CURSOR_STYLE_BLOCK_CLASS}) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${f.CURSOR_CLASS}.${f.CURSOR_BLINK_CLASS}.${f.CURSOR_STYLE_BLOCK_CLASS} { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${f.CURSOR_CLASS}.${f.CURSOR_STYLE_BLOCK_CLASS} { background-color: ${this._colors.cursor.css}; color: ${this._colors.cursorAccent.css};}${this._terminalSelector} .xterm-rows .${f.CURSOR_CLASS}.${f.CURSOR_STYLE_BAR_CLASS} { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${this._colors.cursor.css} inset;}${this._terminalSelector} .xterm-rows .${f.CURSOR_CLASS}.${f.CURSOR_STYLE_UNDERLINE_CLASS} { box-shadow: 0 -1px 0 ${this._colors.cursor.css} inset;}`,k+=`${this._terminalSelector} .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .xterm-selection div { position: absolute; background-color: ${this._colors.selectionBackgroundOpaque.css};}${this._terminalSelector} .xterm-selection div { position: absolute; background-color: ${this._colors.selectionInactiveBackgroundOpaque.css};}`,this._colors.ansi.forEach((C,E)=>{k+=`${this._terminalSelector} .xterm-fg-${E} { color: ${C.css}; }${this._terminalSelector} .xterm-bg-${E} { background-color: ${C.css}; }`}),k+=`${this._terminalSelector} .xterm-fg-${_.INVERTED_DEFAULT_COLOR} { color: ${c.color.opaque(this._colors.background).css}; }${this._terminalSelector} .xterm-bg-${_.INVERTED_DEFAULT_COLOR} { background-color: ${this._colors.foreground.css}; }`,this._themeStyleElement.textContent=k}onDevicePixelRatioChange(){this._updateDimensions()}_refreshRowElements(k,C){for(let E=this._rowElements.length;E<=C;E++){const D=document.createElement("div");this._rowContainer.appendChild(D),this._rowElements.push(D)}for(;this._rowElements.length>C;)this._rowContainer.removeChild(this._rowElements.pop())}onResize(k,C){this._refreshRowElements(k,C),this._updateDimensions()}onCharSizeChanged(){this._updateDimensions()}onBlur(){this._rowContainer.classList.remove(m)}onFocus(){this._rowContainer.classList.add(m)}onSelectionChanged(k,C,E){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.onSelectionChanged(k,C,E),this.renderRows(0,this._bufferService.rows-1),!k||!C)return;const D=k[1]-this._bufferService.buffer.ydisp,P=C[1]-this._bufferService.buffer.ydisp,B=Math.max(D,0),x=Math.min(P,this._bufferService.rows-1);if(B>=this._bufferService.rows||x<0)return;const R=document.createDocumentFragment();if(E){const T=k[0]>C[0];R.appendChild(this._createSelectionElement(B,T?C[0]:k[0],T?k[0]:C[0],x-B+1))}else{const T=D===B?k[0]:0,O=B===P?C[0]:this._bufferService.cols;R.appendChild(this._createSelectionElement(B,T,O));const M=x-B-1;if(R.appendChild(this._createSelectionElement(B+1,0,this._bufferService.cols,M)),B!==x){const V=P===x?C[0]:this._bufferService.cols;R.appendChild(this._createSelectionElement(x,0,V))}}this._selectionContainer.appendChild(R)}_createSelectionElement(k,C,E,D=1){const P=document.createElement("div");return P.style.height=D*this.dimensions.actualCellHeight+"px",P.style.top=k*this.dimensions.actualCellHeight+"px",P.style.left=C*this.dimensions.actualCellWidth+"px",P.style.width=this.dimensions.actualCellWidth*(E-C)+"px",P}onCursorMove(){}onOptionsChanged(){this._updateDimensions(),this._injectCss()}clear(){for(const k of this._rowElements)k.innerText=""}renderRows(k,C){const E=this._bufferService.buffer.ybase+this._bufferService.buffer.y,D=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),P=this._optionsService.rawOptions.cursorBlink;for(let B=k;B<=C;B++){const x=this._rowElements[B];x.innerText="";const R=B+this._bufferService.buffer.ydisp,T=this._bufferService.buffer.lines.get(R),O=this._optionsService.rawOptions.cursorStyle;x.appendChild(this._rowFactory.createRow(T,R,R===E,O,D,P,this.dimensions.actualCellWidth,this._bufferService.cols))}}get _terminalSelector(){return`.${d}${this._terminalClass}`}_onLinkHover(k){this._setCellUnderline(k.x1,k.x2,k.y1,k.y2,k.cols,!0)}_onLinkLeave(k){this._setCellUnderline(k.x1,k.x2,k.y1,k.y2,k.cols,!1)}_setCellUnderline(k,C,E,D,P,B){for(;k!==C||E!==D;){const x=this._rowElements[E];if(!x)return;const R=x.children[k];R&&(R.style.textDecoration=B?"underline":"none"),++k>=P&&(k=0,E++)}}};S=n([u(5,p.IInstantiationService),u(6,g.ICharSizeService),u(7,p.IOptionsService),u(8,p.IBufferService),u(9,g.ICoreBrowserService)],S),i.DomRenderer=S},3787:function(b,i,o){var n=this&&this.__decorate||function(S,k,C,E){var D,P=arguments.length,B=P<3?k:E===null?E=Object.getOwnPropertyDescriptor(k,C):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(S,k,C,E);else for(var x=S.length-1;x>=0;x--)(D=S[x])&&(B=(P<3?D(B):P>3?D(k,C,B):D(k,C))||B);return P>3&&B&&Object.defineProperty(k,C,B),B},u=this&&this.__param||function(S,k){return function(C,E){k(C,E,S)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DomRendererRowFactory=i.CURSOR_STYLE_UNDERLINE_CLASS=i.CURSOR_STYLE_BAR_CLASS=i.CURSOR_STYLE_BLOCK_CLASS=i.CURSOR_BLINK_CLASS=i.CURSOR_CLASS=i.STRIKETHROUGH_CLASS=i.UNDERLINE_CLASS=i.ITALIC_CLASS=i.DIM_CLASS=i.BOLD_CLASS=void 0;const f=o(8036),_=o(643),v=o(511),g=o(2585),p=o(8055),s=o(4725),c=o(4269),a=o(1752),d=o(3734);i.BOLD_CLASS="xterm-bold",i.DIM_CLASS="xterm-dim",i.ITALIC_CLASS="xterm-italic",i.UNDERLINE_CLASS="xterm-underline",i.STRIKETHROUGH_CLASS="xterm-strikethrough",i.CURSOR_CLASS="xterm-cursor",i.CURSOR_BLINK_CLASS="xterm-cursor-blink",i.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",i.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",i.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";let m=class{constructor(S,k,C,E,D,P,B){this._document=S,this._colors=k,this._characterJoinerService=C,this._optionsService=E,this._coreBrowserService=D,this._coreService=P,this._decorationService=B,this._workCell=new v.CellData,this._columnSelectMode=!1}setColors(S){this._colors=S}onSelectionChanged(S,k,C){this._selectionStart=S,this._selectionEnd=k,this._columnSelectMode=C}createRow(S,k,C,E,D,P,B,x){const R=this._document.createDocumentFragment(),T=this._characterJoinerService.getJoinedCharacters(k);let O=0;for(let M=Math.min(S.length,x)-1;M>=0;M--)if(S.loadCell(M,this._workCell).getCode()!==_.NULL_CELL_CODE||C&&M===D){O=M+1;break}for(let M=0;M<O;M++){S.loadCell(M,this._workCell);let V=this._workCell.getWidth();if(V===0)continue;let F=!1,W=M,G=this._workCell;if(T.length>0&&M===T[0][0]){F=!0;const pe=T.shift();G=new c.JoinedCellData(this._workCell,S.translateToString(!0,pe[0],pe[1]),pe[1]-pe[0]),W=pe[1]-1,V=G.getWidth()}const ie=this._document.createElement("span");if(V>1&&(ie.style.width=B*V+"px"),F&&(ie.style.display="inline",D>=M&&D<=W&&(D=M)),!this._coreService.isCursorHidden&&C&&M===D)switch(ie.classList.add(i.CURSOR_CLASS),P&&ie.classList.add(i.CURSOR_BLINK_CLASS),E){case"bar":ie.classList.add(i.CURSOR_STYLE_BAR_CLASS);break;case"underline":ie.classList.add(i.CURSOR_STYLE_UNDERLINE_CLASS);break;default:ie.classList.add(i.CURSOR_STYLE_BLOCK_CLASS)}if(G.isBold()&&ie.classList.add(i.BOLD_CLASS),G.isItalic()&&ie.classList.add(i.ITALIC_CLASS),G.isDim()&&ie.classList.add(i.DIM_CLASS),G.isInvisible()?ie.textContent=_.WHITESPACE_CELL_CHAR:ie.textContent=G.getChars()||_.WHITESPACE_CELL_CHAR,G.isUnderline()&&(ie.classList.add(`${i.UNDERLINE_CLASS}-${G.extended.underlineStyle}`),ie.textContent===" "&&(ie.innerHTML="&nbsp;"),!G.isUnderlineColorDefault()))if(G.isUnderlineColorRGB())ie.style.textDecorationColor=`rgb(${d.AttributeData.toColorRGB(G.getUnderlineColor()).join(",")})`;else{let pe=G.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&G.isBold()&&pe<8&&(pe+=8),ie.style.textDecorationColor=this._colors.ansi[pe].css}G.isStrikethrough()&&ie.classList.add(i.STRIKETHROUGH_CLASS);let L=G.getFgColor(),q=G.getFgColorMode(),Q=G.getBgColor(),I=G.getBgColorMode();const z=!!G.isInverse();if(z){const pe=L;L=Q,Q=pe;const Pe=q;q=I,I=Pe}let se,Z,fe=!1;this._decorationService.forEachDecorationAtCell(M,k,void 0,pe=>{pe.options.layer!=="top"&&fe||(pe.backgroundColorRGB&&(I=50331648,Q=pe.backgroundColorRGB.rgba>>8&16777215,se=pe.backgroundColorRGB),pe.foregroundColorRGB&&(q=50331648,L=pe.foregroundColorRGB.rgba>>8&16777215,Z=pe.foregroundColorRGB),fe=pe.options.layer==="top")});const le=this._isCellInSelection(M,k);let Le;switch(fe||this._colors.selectionForeground&&le&&(q=50331648,L=this._colors.selectionForeground.rgba>>8&16777215,Z=this._colors.selectionForeground),le&&(se=this._coreBrowserService.isFocused?this._colors.selectionBackgroundOpaque:this._colors.selectionInactiveBackgroundOpaque,fe=!0),fe&&ie.classList.add("xterm-decoration-top"),I){case 16777216:case 33554432:Le=this._colors.ansi[Q],ie.classList.add(`xterm-bg-${Q}`);break;case 50331648:Le=p.rgba.toColor(Q>>16,Q>>8&255,255&Q),this._addStyle(ie,`background-color:#${w((Q>>>0).toString(16),"0",6)}`);break;default:z?(Le=this._colors.foreground,ie.classList.add(`xterm-bg-${f.INVERTED_DEFAULT_COLOR}`)):Le=this._colors.background}switch(se||G.isDim()&&(se=p.color.multiplyOpacity(Le,.5)),q){case 16777216:case 33554432:G.isBold()&&L<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(L+=8),this._applyMinimumContrast(ie,Le,this._colors.ansi[L],G,se,void 0)||ie.classList.add(`xterm-fg-${L}`);break;case 50331648:const pe=p.rgba.toColor(L>>16&255,L>>8&255,255&L);this._applyMinimumContrast(ie,Le,pe,G,se,Z)||this._addStyle(ie,`color:#${w(L.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(ie,Le,this._colors.foreground,G,se,void 0)||z&&ie.classList.add(`xterm-fg-${f.INVERTED_DEFAULT_COLOR}`)}R.appendChild(ie),M=W}return R}_applyMinimumContrast(S,k,C,E,D,P){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,a.excludeFromContrastRatioDemands)(E.getCode()))return!1;let B;return D||P||(B=this._colors.contrastCache.getColor(k.rgba,C.rgba)),B===void 0&&(B=p.color.ensureContrastRatio(D||k,P||C,this._optionsService.rawOptions.minimumContrastRatio),this._colors.contrastCache.setColor((D||k).rgba,(P||C).rgba,B!=null?B:null)),!!B&&(this._addStyle(S,`color:${B.css}`),!0)}_addStyle(S,k){S.setAttribute("style",`${S.getAttribute("style")||""}${k};`)}_isCellInSelection(S,k){const C=this._selectionStart,E=this._selectionEnd;return!(!C||!E)&&(this._columnSelectMode?C[0]<=E[0]?S>=C[0]&&k>=C[1]&&S<E[0]&&k<=E[1]:S<C[0]&&k>=C[1]&&S>=E[0]&&k<=E[1]:k>C[1]&&k<E[1]||C[1]===E[1]&&k===C[1]&&S>=C[0]&&S<E[0]||C[1]<E[1]&&k===E[1]&&S<E[0]||C[1]<E[1]&&k===C[1]&&S>=C[0])}};function w(S,k,C){for(;S.length<C;)S=k+S;return S}m=n([u(2,s.ICharacterJoinerService),u(3,g.IOptionsService),u(4,s.ICoreBrowserService),u(5,g.ICoreService),u(6,g.IDecorationService)],m),i.DomRendererRowFactory=m},456:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionModel=void 0,i.SelectionModel=class{constructor(o){this._bufferService=o,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const o=this.selectionStart[0]+this.selectionStartLength;return o>this._bufferService.cols?o%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)-1]:[o%this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)]:[o,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const o=this.selectionStart[0]+this.selectionStartLength;return o>this._bufferService.cols?[o%this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)]:[Math.max(o,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const o=this.selectionStart,n=this.selectionEnd;return!(!o||!n)&&(o[1]>n[1]||o[1]===n[1]&&o[0]>n[0])}onTrim(o){return this.selectionStart&&(this.selectionStart[1]-=o),this.selectionEnd&&(this.selectionEnd[1]-=o),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(b,i,o){var n=this&&this.__decorate||function(p,s,c,a){var d,m=arguments.length,w=m<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,c):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(p,s,c,a);else for(var S=p.length-1;S>=0;S--)(d=p[S])&&(w=(m<3?d(w):m>3?d(s,c,w):d(s,c))||w);return m>3&&w&&Object.defineProperty(s,c,w),w},u=this&&this.__param||function(p,s){return function(c,a){s(c,a,p)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CharSizeService=void 0;const f=o(2585),_=o(8460);let v=class{constructor(p,s,c){this._optionsService=c,this.width=0,this.height=0,this._onCharSizeChange=new _.EventEmitter,this._measureStrategy=new g(p,s,this._optionsService)}get hasValidSize(){return this.width>0&&this.height>0}get onCharSizeChange(){return this._onCharSizeChange.event}measure(){const p=this._measureStrategy.measure();p.width===this.width&&p.height===this.height||(this.width=p.width,this.height=p.height,this._onCharSizeChange.fire())}};v=n([u(2,f.IOptionsService)],v),i.CharSizeService=v;class g{constructor(s,c,a){this._document=s,this._parentElement=c,this._optionsService=a,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const s=this._measureElement.getBoundingClientRect();return s.width!==0&&s.height!==0&&(this._result.width=s.width,this._result.height=Math.ceil(s.height)),this._result}}},4269:function(b,i,o){var n=this&&this.__decorate||function(c,a,d,m){var w,S=arguments.length,k=S<3?a:m===null?m=Object.getOwnPropertyDescriptor(a,d):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(c,a,d,m);else for(var C=c.length-1;C>=0;C--)(w=c[C])&&(k=(S<3?w(k):S>3?w(a,d,k):w(a,d))||k);return S>3&&k&&Object.defineProperty(a,d,k),k},u=this&&this.__param||function(c,a){return function(d,m){a(d,m,c)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CharacterJoinerService=i.JoinedCellData=void 0;const f=o(3734),_=o(643),v=o(511),g=o(2585);class p extends f.AttributeData{constructor(a,d,m){super(),this.content=0,this.combinedData="",this.fg=a.fg,this.bg=a.bg,this.combinedData=d,this._width=m}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(a){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}i.JoinedCellData=p;let s=class za{constructor(a){this._bufferService=a,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new v.CellData}register(a){const d={id:this._nextCharacterJoinerId++,handler:a};return this._characterJoiners.push(d),d.id}deregister(a){for(let d=0;d<this._characterJoiners.length;d++)if(this._characterJoiners[d].id===a)return this._characterJoiners.splice(d,1),!0;return!1}getJoinedCharacters(a){if(this._characterJoiners.length===0)return[];const d=this._bufferService.buffer.lines.get(a);if(!d||d.length===0)return[];const m=[],w=d.translateToString(!0);let S=0,k=0,C=0,E=d.getFg(0),D=d.getBg(0);for(let P=0;P<d.getTrimmedLength();P++)if(d.loadCell(P,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==E||this._workCell.bg!==D){if(P-S>1){const B=this._getJoinedRanges(w,C,k,d,S);for(let x=0;x<B.length;x++)m.push(B[x])}S=P,C=k,E=this._workCell.fg,D=this._workCell.bg}k+=this._workCell.getChars().length||_.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-S>1){const P=this._getJoinedRanges(w,C,k,d,S);for(let B=0;B<P.length;B++)m.push(P[B])}return m}_getJoinedRanges(a,d,m,w,S){const k=a.substring(d,m);let C=[];try{C=this._characterJoiners[0].handler(k)}catch(E){console.error(E)}for(let E=1;E<this._characterJoiners.length;E++)try{const D=this._characterJoiners[E].handler(k);for(let P=0;P<D.length;P++)za._mergeRanges(C,D[P])}catch(D){console.error(D)}return this._stringRangesToCellRanges(C,w,S),C}_stringRangesToCellRanges(a,d,m){let w=0,S=!1,k=0,C=a[w];if(C){for(let E=m;E<this._bufferService.cols;E++){const D=d.getWidth(E),P=d.getString(E).length||_.WHITESPACE_CELL_CHAR.length;if(D!==0){if(!S&&C[0]<=k&&(C[0]=E,S=!0),C[1]<=k){if(C[1]=E,C=a[++w],!C)break;C[0]<=k?(C[0]=E,S=!0):S=!1}k+=P}}C&&(C[1]=this._bufferService.cols)}}static _mergeRanges(a,d){let m=!1;for(let w=0;w<a.length;w++){const S=a[w];if(m){if(d[1]<=S[0])return a[w-1][1]=d[1],a;if(d[1]<=S[1])return a[w-1][1]=Math.max(d[1],S[1]),a.splice(w,1),a;a.splice(w,1),w--}else{if(d[1]<=S[0])return a.splice(w,0,d),a;if(d[1]<=S[1])return S[0]=Math.min(d[0],S[0]),a;d[0]<S[1]&&(S[0]=Math.min(d[0],S[0]),m=!0)}}return m?a[a.length-1][1]=d[1]:a.push(d),a}};s=n([u(0,g.IBufferService)],s),i.CharacterJoinerService=s},5114:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoreBrowserService=void 0,i.CoreBrowserService=class{constructor(o,n){this._textarea=o,this.window=n}get dpr(){return this.window.devicePixelRatio}get isFocused(){return(this._textarea.getRootNode?this._textarea.getRootNode():this._textarea.ownerDocument).activeElement===this._textarea&&this._textarea.ownerDocument.hasFocus()}}},8934:function(b,i,o){var n=this&&this.__decorate||function(g,p,s,c){var a,d=arguments.length,m=d<3?p:c===null?c=Object.getOwnPropertyDescriptor(p,s):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(g,p,s,c);else for(var w=g.length-1;w>=0;w--)(a=g[w])&&(m=(d<3?a(m):d>3?a(p,s,m):a(p,s))||m);return d>3&&m&&Object.defineProperty(p,s,m),m},u=this&&this.__param||function(g,p){return function(s,c){p(s,c,g)}};Object.defineProperty(i,"__esModule",{value:!0}),i.MouseService=void 0;const f=o(4725),_=o(9806);let v=class{constructor(g,p){this._renderService=g,this._charSizeService=p}getCoords(g,p,s,c,a){return(0,_.getCoords)(window,g,p,s,c,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,a)}getMouseReportCoords(g,p){const s=(0,_.getCoordsRelativeToElement)(window,g,p);if(!(!this._charSizeService.hasValidSize||s[0]<0||s[1]<0||s[0]>=this._renderService.dimensions.canvasWidth||s[1]>=this._renderService.dimensions.canvasHeight))return{col:Math.floor(s[0]/this._renderService.dimensions.actualCellWidth),row:Math.floor(s[1]/this._renderService.dimensions.actualCellHeight),x:Math.floor(s[0]),y:Math.floor(s[1])}}};v=n([u(0,f.IRenderService),u(1,f.ICharSizeService)],v),i.MouseService=v},3230:function(b,i,o){var n=this&&this.__decorate||function(d,m,w,S){var k,C=arguments.length,E=C<3?m:S===null?S=Object.getOwnPropertyDescriptor(m,w):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(d,m,w,S);else for(var D=d.length-1;D>=0;D--)(k=d[D])&&(E=(C<3?k(E):C>3?k(m,w,E):k(m,w))||E);return C>3&&E&&Object.defineProperty(m,w,E),E},u=this&&this.__param||function(d,m){return function(w,S){m(w,S,d)}};Object.defineProperty(i,"__esModule",{value:!0}),i.RenderService=void 0;const f=o(6193),_=o(8460),v=o(844),g=o(5596),p=o(3656),s=o(2585),c=o(4725);let a=class extends v.Disposable{constructor(d,m,w,S,k,C,E,D){if(super(),this._renderer=d,this._rowCount=m,this._charSizeService=k,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=new _.EventEmitter,this._onRenderedViewportChange=new _.EventEmitter,this._onRender=new _.EventEmitter,this._onRefreshRequest=new _.EventEmitter,this.register({dispose:()=>this._renderer.dispose()}),this._renderDebouncer=new f.RenderDebouncer(D.window,(P,B)=>this._renderRows(P,B)),this.register(this._renderDebouncer),this._screenDprMonitor=new g.ScreenDprMonitor(D.window),this._screenDprMonitor.setListener(()=>this.onDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(E.onResize(()=>this._fullRefresh())),this.register(E.buffers.onBufferActivate(()=>{var P;return(P=this._renderer)===null||P===void 0?void 0:P.clear()})),this.register(S.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.onCharSizeChanged())),this.register(C.onDecorationRegistered(()=>this._fullRefresh())),this.register(C.onDecorationRemoved(()=>this._fullRefresh())),this._renderer.onRequestRedraw(P=>this.refreshRows(P.start,P.end,!0)),this.register((0,p.addDisposableDomListener)(D.window,"resize",()=>this.onDevicePixelRatioChange())),"IntersectionObserver"in D.window){const P=new D.window.IntersectionObserver(B=>this._onIntersectionChange(B[B.length-1]),{threshold:0});P.observe(w),this.register({dispose:()=>P.disconnect()})}}get onDimensionsChange(){return this._onDimensionsChange.event}get onRenderedViewportChange(){return this._onRenderedViewportChange.event}get onRender(){return this._onRender.event}get onRefreshRequest(){return this._onRefreshRequest.event}get dimensions(){return this._renderer.dimensions}_onIntersectionChange(d){this._isPaused=d.isIntersecting===void 0?d.intersectionRatio===0:!d.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(d,m,w=!1){this._isPaused?this._needsFullRefresh=!0:(w||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(d,m,this._rowCount))}_renderRows(d,m){this._renderer.renderRows(d,m),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:d,end:m}),this._onRender.fire({start:d,end:m}),this._isNextRenderRedrawOnly=!0}resize(d,m){this._rowCount=m,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()}_fireOnCanvasResize(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)}dispose(){super.dispose()}setRenderer(d){this._renderer.dispose(),this._renderer=d,this._renderer.onRequestRedraw(m=>this.refreshRows(m.start,m.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(d){return this._renderDebouncer.addRefreshCallback(d)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var d,m;(m=(d=this._renderer)===null||d===void 0?void 0:d.clearTextureAtlas)===null||m===void 0||m.call(d),this._fullRefresh()}setColors(d){this._renderer.setColors(d),this._fullRefresh()}onDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)}onResize(d,m){this._renderer.onResize(d,m),this._fullRefresh()}onCharSizeChanged(){this._renderer.onCharSizeChanged()}onBlur(){this._renderer.onBlur()}onFocus(){this._renderer.onFocus()}onSelectionChanged(d,m,w){this._selectionState.start=d,this._selectionState.end=m,this._selectionState.columnSelectMode=w,this._renderer.onSelectionChanged(d,m,w)}onCursorMove(){this._renderer.onCursorMove()}clear(){this._renderer.clear()}};a=n([u(3,s.IOptionsService),u(4,c.ICharSizeService),u(5,s.IDecorationService),u(6,s.IBufferService),u(7,c.ICoreBrowserService)],a),i.RenderService=a},9312:function(b,i,o){var n=this&&this.__decorate||function(C,E,D,P){var B,x=arguments.length,R=x<3?E:P===null?P=Object.getOwnPropertyDescriptor(E,D):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(C,E,D,P);else for(var T=C.length-1;T>=0;T--)(B=C[T])&&(R=(x<3?B(R):x>3?B(E,D,R):B(E,D))||R);return x>3&&R&&Object.defineProperty(E,D,R),R},u=this&&this.__param||function(C,E){return function(D,P){E(D,P,C)}};Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionService=void 0;const f=o(6114),_=o(456),v=o(511),g=o(8460),p=o(4725),s=o(2585),c=o(9806),a=o(9504),d=o(844),m=o(4841),w=String.fromCharCode(160),S=new RegExp(w,"g");let k=class extends d.Disposable{constructor(C,E,D,P,B,x,R,T,O){super(),this._element=C,this._screenElement=E,this._linkifier=D,this._bufferService=P,this._coreService=B,this._mouseService=x,this._optionsService=R,this._renderService=T,this._coreBrowserService=O,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new v.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new g.EventEmitter),this._onRedrawRequest=this.register(new g.EventEmitter),this._onSelectionChange=this.register(new g.EventEmitter),this._onRequestScrollLines=this.register(new g.EventEmitter),this._mouseMoveListener=M=>this._onMouseMove(M),this._mouseUpListener=M=>this._onMouseUp(M),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(M=>this._onTrim(M)),this.register(this._bufferService.buffers.onBufferActivate(M=>this._onBufferActivate(M))),this.enable(),this._model=new _.SelectionModel(this._bufferService),this._activeSelectionMode=0}get onLinuxMouseSelection(){return this._onLinuxMouseSelection.event}get onRequestRedraw(){return this._onRedrawRequest.event}get onSelectionChange(){return this._onSelectionChange.event}get onRequestScrollLines(){return this._onRequestScrollLines.event}dispose(){this._removeMouseDownListeners()}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const C=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;return!(!C||!E||C[0]===E[0]&&C[1]===E[1])}get selectionText(){const C=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;if(!C||!E)return"";const D=this._bufferService.buffer,P=[];if(this._activeSelectionMode===3){if(C[0]===E[0])return"";const B=C[0]<E[0]?C[0]:E[0],x=C[0]<E[0]?E[0]:C[0];for(let R=C[1];R<=E[1];R++){const T=D.translateBufferLineToString(R,!0,B,x);P.push(T)}}else{const B=C[1]===E[1]?E[0]:void 0;P.push(D.translateBufferLineToString(C[1],!0,C[0],B));for(let x=C[1]+1;x<=E[1]-1;x++){const R=D.lines.get(x),T=D.translateBufferLineToString(x,!0);R!=null&&R.isWrapped?P[P.length-1]+=T:P.push(T)}if(C[1]!==E[1]){const x=D.lines.get(E[1]),R=D.translateBufferLineToString(E[1],!0,0,E[0]);x&&x.isWrapped?P[P.length-1]+=R:P.push(R)}}return P.map(B=>B.replace(S," ")).join(f.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(C){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),f.isLinux&&C&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(C){const E=this._getMouseBufferCoords(C),D=this._model.finalSelectionStart,P=this._model.finalSelectionEnd;return!!(D&&P&&E)&&this._areCoordsInSelection(E,D,P)}isCellInSelection(C,E){const D=this._model.finalSelectionStart,P=this._model.finalSelectionEnd;return!(!D||!P)&&this._areCoordsInSelection([C,E],D,P)}_areCoordsInSelection(C,E,D){return C[1]>E[1]&&C[1]<D[1]||E[1]===D[1]&&C[1]===E[1]&&C[0]>=E[0]&&C[0]<D[0]||E[1]<D[1]&&C[1]===D[1]&&C[0]<D[0]||E[1]<D[1]&&C[1]===E[1]&&C[0]>=E[0]}_selectWordAtCursor(C,E){var D,P;const B=(P=(D=this._linkifier.currentLink)===null||D===void 0?void 0:D.link)===null||P===void 0?void 0:P.range;if(B)return this._model.selectionStart=[B.start.x-1,B.start.y-1],this._model.selectionStartLength=(0,m.getRangeLength)(B,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const x=this._getMouseBufferCoords(C);return!!x&&(this._selectWordAt(x,E),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(C,E){this._model.clearSelection(),C=Math.max(C,0),E=Math.min(E,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,C],this._model.selectionEnd=[this._bufferService.cols,E],this.refresh(),this._onSelectionChange.fire()}_onTrim(C){this._model.onTrim(C)&&this.refresh()}_getMouseBufferCoords(C){const E=this._mouseService.getCoords(C,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(E)return E[0]--,E[1]--,E[1]+=this._bufferService.buffer.ydisp,E}_getMouseEventScrollAmount(C){let E=(0,c.getCoordsRelativeToElement)(this._coreBrowserService.window,C,this._screenElement)[1];const D=this._renderService.dimensions.canvasHeight;return E>=0&&E<=D?0:(E>D&&(E-=D),E=Math.min(Math.max(E,-50),50),E/=50,E/Math.abs(E)+Math.round(14*E))}shouldForceSelection(C){return f.isMac?C.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:C.shiftKey}onMouseDown(C){if(this._mouseDownTimeStamp=C.timeStamp,(C.button!==2||!this.hasSelection)&&C.button===0){if(!this._enabled){if(!this.shouldForceSelection(C))return;C.stopPropagation()}C.preventDefault(),this._dragScrollAmount=0,this._enabled&&C.shiftKey?this._onIncrementalClick(C):C.detail===1?this._onSingleClick(C):C.detail===2?this._onDoubleClick(C):C.detail===3&&this._onTripleClick(C),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_onIncrementalClick(C){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(C))}_onSingleClick(C){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(C)?3:0,this._model.selectionStart=this._getMouseBufferCoords(C),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const E=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);E&&E.length!==this._model.selectionStart[0]&&E.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_onDoubleClick(C){this._selectWordAtCursor(C,!0)&&(this._activeSelectionMode=1)}_onTripleClick(C){const E=this._getMouseBufferCoords(C);E&&(this._activeSelectionMode=2,this._selectLineAt(E[1]))}shouldColumnSelect(C){return C.altKey&&!(f.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_onMouseMove(C){if(C.stopImmediatePropagation(),!this._model.selectionStart)return;const E=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(C),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(C),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const D=this._bufferService.buffer;if(this._model.selectionEnd[1]<D.lines.length){const P=D.lines.get(this._model.selectionEnd[1]);P&&P.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}E&&E[0]===this._model.selectionEnd[0]&&E[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const C=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(C.ydisp+this._bufferService.rows,C.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=C.ydisp),this.refresh()}}_onMouseUp(C){const E=C.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&E<500&&C.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const D=this._mouseService.getCoords(C,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(D&&D[0]!==void 0&&D[1]!==void 0){const P=(0,a.moveToCellSequence)(D[0]-1,D[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(P,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const C=this._model.finalSelectionStart,E=this._model.finalSelectionEnd,D=!(!C||!E||C[0]===E[0]&&C[1]===E[1]);D?C&&E&&(this._oldSelectionStart&&this._oldSelectionEnd&&C[0]===this._oldSelectionStart[0]&&C[1]===this._oldSelectionStart[1]&&E[0]===this._oldSelectionEnd[0]&&E[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(C,E,D)):this._oldHasSelection&&this._fireOnSelectionChange(C,E,D)}_fireOnSelectionChange(C,E,D){this._oldSelectionStart=C,this._oldSelectionEnd=E,this._oldHasSelection=D,this._onSelectionChange.fire()}_onBufferActivate(C){this.clearSelection(),this._trimListener.dispose(),this._trimListener=C.activeBuffer.lines.onTrim(E=>this._onTrim(E))}_convertViewportColToCharacterIndex(C,E){let D=E[0];for(let P=0;E[0]>=P;P++){const B=C.loadCell(P,this._workCell).getChars().length;this._workCell.getWidth()===0?D--:B>1&&E[0]!==P&&(D+=B-1)}return D}setSelection(C,E,D){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[C,E],this._model.selectionStartLength=D,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(C){this._isClickInSelection(C)||(this._selectWordAtCursor(C,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(C,E,D=!0,P=!0){if(C[0]>=this._bufferService.cols)return;const B=this._bufferService.buffer,x=B.lines.get(C[1]);if(!x)return;const R=B.translateBufferLineToString(C[1],!1);let T=this._convertViewportColToCharacterIndex(x,C),O=T;const M=C[0]-T;let V=0,F=0,W=0,G=0;if(R.charAt(T)===" "){for(;T>0&&R.charAt(T-1)===" ";)T--;for(;O<R.length&&R.charAt(O+1)===" ";)O++}else{let q=C[0],Q=C[0];x.getWidth(q)===0&&(V++,q--),x.getWidth(Q)===2&&(F++,Q++);const I=x.getString(Q).length;for(I>1&&(G+=I-1,O+=I-1);q>0&&T>0&&!this._isCharWordSeparator(x.loadCell(q-1,this._workCell));){x.loadCell(q-1,this._workCell);const z=this._workCell.getChars().length;this._workCell.getWidth()===0?(V++,q--):z>1&&(W+=z-1,T-=z-1),T--,q--}for(;Q<x.length&&O+1<R.length&&!this._isCharWordSeparator(x.loadCell(Q+1,this._workCell));){x.loadCell(Q+1,this._workCell);const z=this._workCell.getChars().length;this._workCell.getWidth()===2?(F++,Q++):z>1&&(G+=z-1,O+=z-1),O++,Q++}}O++;let ie=T+M-V+W,L=Math.min(this._bufferService.cols,O-T+V+F-W-G);if(E||R.slice(T,O).trim()!==""){if(D&&ie===0&&x.getCodePoint(0)!==32){const q=B.lines.get(C[1]-1);if(q&&x.isWrapped&&q.getCodePoint(this._bufferService.cols-1)!==32){const Q=this._getWordAt([this._bufferService.cols-1,C[1]-1],!1,!0,!1);if(Q){const I=this._bufferService.cols-Q.start;ie-=I,L+=I}}}if(P&&ie+L===this._bufferService.cols&&x.getCodePoint(this._bufferService.cols-1)!==32){const q=B.lines.get(C[1]+1);if((q==null?void 0:q.isWrapped)&&q.getCodePoint(0)!==32){const Q=this._getWordAt([0,C[1]+1],!1,!1,!0);Q&&(L+=Q.length)}}return{start:ie,length:L}}}_selectWordAt(C,E){const D=this._getWordAt(C,E);if(D){for(;D.start<0;)D.start+=this._bufferService.cols,C[1]--;this._model.selectionStart=[D.start,C[1]],this._model.selectionStartLength=D.length}}_selectToWordAt(C){const E=this._getWordAt(C,!0);if(E){let D=C[1];for(;E.start<0;)E.start+=this._bufferService.cols,D--;if(!this._model.areSelectionValuesReversed())for(;E.start+E.length>this._bufferService.cols;)E.length-=this._bufferService.cols,D++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?E.start:E.start+E.length,D]}}_isCharWordSeparator(C){return C.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(C.getChars())>=0}_selectLineAt(C){const E=this._bufferService.buffer.getWrappedRangeForLine(C),D={start:{x:0,y:E.first},end:{x:this._bufferService.cols-1,y:E.last}};this._model.selectionStart=[0,E.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,m.getRangeLength)(D,this._bufferService.cols)}};k=n([u(3,s.IBufferService),u(4,s.ICoreService),u(5,p.IMouseService),u(6,s.IOptionsService),u(7,p.IRenderService),u(8,p.ICoreBrowserService)],k),i.SelectionService=k},4725:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ICharacterJoinerService=i.ISelectionService=i.IRenderService=i.IMouseService=i.ICoreBrowserService=i.ICharSizeService=void 0;const n=o(8343);i.ICharSizeService=(0,n.createDecorator)("CharSizeService"),i.ICoreBrowserService=(0,n.createDecorator)("CoreBrowserService"),i.IMouseService=(0,n.createDecorator)("MouseService"),i.IRenderService=(0,n.createDecorator)("RenderService"),i.ISelectionService=(0,n.createDecorator)("SelectionService"),i.ICharacterJoinerService=(0,n.createDecorator)("CharacterJoinerService")},6349:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CircularList=void 0;const n=o(8460);i.CircularList=class{constructor(u){this._maxLength=u,this.onDeleteEmitter=new n.EventEmitter,this.onInsertEmitter=new n.EventEmitter,this.onTrimEmitter=new n.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get onDelete(){return this.onDeleteEmitter.event}get onInsert(){return this.onInsertEmitter.event}get onTrim(){return this.onTrimEmitter.event}get maxLength(){return this._maxLength}set maxLength(u){if(this._maxLength===u)return;const f=new Array(u);for(let _=0;_<Math.min(u,this.length);_++)f[_]=this._array[this._getCyclicIndex(_)];this._array=f,this._maxLength=u,this._startIndex=0}get length(){return this._length}set length(u){if(u>this._length)for(let f=this._length;f<u;f++)this._array[f]=void 0;this._length=u}get(u){return this._array[this._getCyclicIndex(u)]}set(u,f){this._array[this._getCyclicIndex(u)]=f}push(u){this._array[this._getCyclicIndex(this._length)]=u,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(u,f,..._){if(f){for(let v=u;v<this._length-f;v++)this._array[this._getCyclicIndex(v)]=this._array[this._getCyclicIndex(v+f)];this._length-=f,this.onDeleteEmitter.fire({index:u,amount:f})}for(let v=this._length-1;v>=u;v--)this._array[this._getCyclicIndex(v+_.length)]=this._array[this._getCyclicIndex(v)];for(let v=0;v<_.length;v++)this._array[this._getCyclicIndex(u+v)]=_[v];if(_.length&&this.onInsertEmitter.fire({index:u,amount:_.length}),this._length+_.length>this._maxLength){const v=this._length+_.length-this._maxLength;this._startIndex+=v,this._length=this._maxLength,this.onTrimEmitter.fire(v)}else this._length+=_.length}trimStart(u){u>this._length&&(u=this._length),this._startIndex+=u,this._length-=u,this.onTrimEmitter.fire(u)}shiftElements(u,f,_){if(!(f<=0)){if(u<0||u>=this._length)throw new Error("start argument out of range");if(u+_<0)throw new Error("Cannot shift elements in list beyond index 0");if(_>0){for(let g=f-1;g>=0;g--)this.set(u+g+_,this.get(u+g));const v=u+f+_-this._length;if(v>0)for(this._length+=v;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let v=0;v<f;v++)this.set(u+v+_,this.get(u+v))}}_getCyclicIndex(u){return(this._startIndex+u)%this._maxLength}}},1439:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.clone=void 0,i.clone=function o(n,u=5){if(typeof n!="object")return n;const f=Array.isArray(n)?[]:{};for(const _ in n)f[_]=u<=1?n[_]:n[_]&&o(n[_],u-1);return f}},8055:(b,i)=>{var o,n,u;function f(v){const g=v.toString(16);return g.length<2?"0"+g:g}function _(v,g){return v<g?(g+.05)/(v+.05):(v+.05)/(g+.05)}Object.defineProperty(i,"__esModule",{value:!0}),i.contrastRatio=i.toPaddedHex=i.rgba=i.rgb=i.css=i.color=i.channels=void 0,function(v){v.toCss=function(g,p,s,c){return c!==void 0?`#${f(g)}${f(p)}${f(s)}${f(c)}`:`#${f(g)}${f(p)}${f(s)}`},v.toRgba=function(g,p,s,c=255){return(g<<24|p<<16|s<<8|c)>>>0}}(o=i.channels||(i.channels={})),function(v){function g(p,s){const c=Math.round(255*s),[a,d,m]=u.toChannels(p.rgba);return{css:o.toCss(a,d,m,c),rgba:o.toRgba(a,d,m,c)}}v.blend=function(p,s){const c=(255&s.rgba)/255;if(c===1)return{css:s.css,rgba:s.rgba};const a=s.rgba>>24&255,d=s.rgba>>16&255,m=s.rgba>>8&255,w=p.rgba>>24&255,S=p.rgba>>16&255,k=p.rgba>>8&255,C=w+Math.round((a-w)*c),E=S+Math.round((d-S)*c),D=k+Math.round((m-k)*c);return{css:o.toCss(C,E,D),rgba:o.toRgba(C,E,D)}},v.isOpaque=function(p){return(255&p.rgba)==255},v.ensureContrastRatio=function(p,s,c){const a=u.ensureContrastRatio(p.rgba,s.rgba,c);if(a)return u.toColor(a>>24&255,a>>16&255,a>>8&255)},v.opaque=function(p){const s=(255|p.rgba)>>>0,[c,a,d]=u.toChannels(s);return{css:o.toCss(c,a,d),rgba:s}},v.opacity=g,v.multiplyOpacity=function(p,s){return g(p,(255&p.rgba)*s/255)},v.toColorRGB=function(p){return[p.rgba>>24&255,p.rgba>>16&255,p.rgba>>8&255]}}(i.color||(i.color={})),(i.css||(i.css={})).toColor=function(v){if(v.match(/#[0-9a-f]{3,8}/i))switch(v.length){case 4:{const p=parseInt(v.slice(1,2).repeat(2),16),s=parseInt(v.slice(2,3).repeat(2),16),c=parseInt(v.slice(3,4).repeat(2),16);return u.toColor(p,s,c)}case 5:{const p=parseInt(v.slice(1,2).repeat(2),16),s=parseInt(v.slice(2,3).repeat(2),16),c=parseInt(v.slice(3,4).repeat(2),16),a=parseInt(v.slice(4,5).repeat(2),16);return u.toColor(p,s,c,a)}case 7:return{css:v,rgba:(parseInt(v.slice(1),16)<<8|255)>>>0};case 9:return{css:v,rgba:parseInt(v.slice(1),16)>>>0}}const g=v.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(g){const p=parseInt(g[1]),s=parseInt(g[2]),c=parseInt(g[3]),a=Math.round(255*(g[5]===void 0?1:parseFloat(g[5])));return u.toColor(p,s,c,a)}throw new Error("css.toColor: Unsupported css format")},function(v){function g(p,s,c){const a=p/255,d=s/255,m=c/255;return .2126*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))+.7152*(d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4))+.0722*(m<=.03928?m/12.92:Math.pow((m+.055)/1.055,2.4))}v.relativeLuminance=function(p){return g(p>>16&255,p>>8&255,255&p)},v.relativeLuminance2=g}(n=i.rgb||(i.rgb={})),function(v){function g(s,c,a){const d=s>>24&255,m=s>>16&255,w=s>>8&255;let S=c>>24&255,k=c>>16&255,C=c>>8&255,E=_(n.relativeLuminance2(S,k,C),n.relativeLuminance2(d,m,w));for(;E<a&&(S>0||k>0||C>0);)S-=Math.max(0,Math.ceil(.1*S)),k-=Math.max(0,Math.ceil(.1*k)),C-=Math.max(0,Math.ceil(.1*C)),E=_(n.relativeLuminance2(S,k,C),n.relativeLuminance2(d,m,w));return(S<<24|k<<16|C<<8|255)>>>0}function p(s,c,a){const d=s>>24&255,m=s>>16&255,w=s>>8&255;let S=c>>24&255,k=c>>16&255,C=c>>8&255,E=_(n.relativeLuminance2(S,k,C),n.relativeLuminance2(d,m,w));for(;E<a&&(S<255||k<255||C<255);)S=Math.min(255,S+Math.ceil(.1*(255-S))),k=Math.min(255,k+Math.ceil(.1*(255-k))),C=Math.min(255,C+Math.ceil(.1*(255-C))),E=_(n.relativeLuminance2(S,k,C),n.relativeLuminance2(d,m,w));return(S<<24|k<<16|C<<8|255)>>>0}v.ensureContrastRatio=function(s,c,a){const d=n.relativeLuminance(s>>8),m=n.relativeLuminance(c>>8);if(_(d,m)<a){if(m<d){const k=g(s,c,a),C=_(d,n.relativeLuminance(k>>8));if(C<a){const E=p(s,c,a);return C>_(d,n.relativeLuminance(E>>8))?k:E}return k}const w=p(s,c,a),S=_(d,n.relativeLuminance(w>>8));if(S<a){const k=g(s,c,a);return S>_(d,n.relativeLuminance(k>>8))?w:k}return w}},v.reduceLuminance=g,v.increaseLuminance=p,v.toChannels=function(s){return[s>>24&255,s>>16&255,s>>8&255,255&s]},v.toColor=function(s,c,a,d){return{css:o.toCss(s,c,a,d),rgba:o.toRgba(s,c,a,d)}}}(u=i.rgba||(i.rgba={})),i.toPaddedHex=f,i.contrastRatio=_},8969:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoreTerminal=void 0;const n=o(844),u=o(2585),f=o(4348),_=o(7866),v=o(744),g=o(7302),p=o(6975),s=o(8460),c=o(1753),a=o(3730),d=o(1480),m=o(7994),w=o(9282),S=o(5435),k=o(5981),C=o(2660);let E=!1;class D extends n.Disposable{constructor(B){super(),this._onBinary=new s.EventEmitter,this._onData=new s.EventEmitter,this._onLineFeed=new s.EventEmitter,this._onResize=new s.EventEmitter,this._onScroll=new s.EventEmitter,this._onWriteParsed=new s.EventEmitter,this._instantiationService=new f.InstantiationService,this.optionsService=new g.OptionsService(B),this._instantiationService.setService(u.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(v.BufferService)),this._instantiationService.setService(u.IBufferService,this._bufferService),this._logService=this._instantiationService.createInstance(_.LogService),this._instantiationService.setService(u.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(p.CoreService,()=>this.scrollToBottom())),this._instantiationService.setService(u.ICoreService,this.coreService),this.coreMouseService=this._instantiationService.createInstance(c.CoreMouseService),this._instantiationService.setService(u.ICoreMouseService,this.coreMouseService),this._dirtyRowService=this._instantiationService.createInstance(a.DirtyRowService),this._instantiationService.setService(u.IDirtyRowService,this._dirtyRowService),this.unicodeService=this._instantiationService.createInstance(d.UnicodeService),this._instantiationService.setService(u.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(m.CharsetService),this._instantiationService.setService(u.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(C.OscLinkService),this._instantiationService.setService(u.IOscLinkService,this._oscLinkService),this._inputHandler=new S.InputHandler(this._bufferService,this._charsetService,this.coreService,this._dirtyRowService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService),this.register((0,s.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,s.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,s.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,s.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.optionsService.onOptionChange(x=>this._updateOptions(x))),this.register(this._bufferService.onScroll(x=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._dirtyRowService.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(x=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._dirtyRowService.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=new k.WriteBuffer((x,R)=>this._inputHandler.parse(x,R)),this.register((0,s.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}get onBinary(){return this._onBinary.event}get onData(){return this._onData.event}get onLineFeed(){return this._onLineFeed.event}get onResize(){return this._onResize.event}get onWriteParsed(){return this._onWriteParsed.event}get onScroll(){return this._onScrollApi||(this._onScrollApi=new s.EventEmitter,this.register(this._onScroll.event(B=>{var x;(x=this._onScrollApi)===null||x===void 0||x.fire(B.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(B){for(const x in B)this.optionsService.options[x]=B[x]}dispose(){var B;this._isDisposed||(super.dispose(),(B=this._windowsMode)===null||B===void 0||B.dispose(),this._windowsMode=void 0)}write(B,x){this._writeBuffer.write(B,x)}writeSync(B,x){this._logService.logLevel<=u.LogLevelEnum.WARN&&!E&&(this._logService.warn("writeSync is unreliable and will be removed soon."),E=!0),this._writeBuffer.writeSync(B,x)}resize(B,x){isNaN(B)||isNaN(x)||(B=Math.max(B,v.MINIMUM_COLS),x=Math.max(x,v.MINIMUM_ROWS),this._bufferService.resize(B,x))}scroll(B,x=!1){this._bufferService.scroll(B,x)}scrollLines(B,x,R){this._bufferService.scrollLines(B,x,R)}scrollPages(B){this._bufferService.scrollPages(B)}scrollToTop(){this._bufferService.scrollToTop()}scrollToBottom(){this._bufferService.scrollToBottom()}scrollToLine(B){this._bufferService.scrollToLine(B)}registerEscHandler(B,x){return this._inputHandler.registerEscHandler(B,x)}registerDcsHandler(B,x){return this._inputHandler.registerDcsHandler(B,x)}registerCsiHandler(B,x){return this._inputHandler.registerCsiHandler(B,x)}registerOscHandler(B,x){return this._inputHandler.registerOscHandler(B,x)}_setup(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_updateOptions(B){var x;switch(B){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.rawOptions.windowsMode?this._enableWindowsMode():((x=this._windowsMode)===null||x===void 0||x.dispose(),this._windowsMode=void 0)}}_enableWindowsMode(){if(!this._windowsMode){const B=[];B.push(this.onLineFeed(w.updateWindowsModeWrappedState.bind(null,this._bufferService))),B.push(this.registerCsiHandler({final:"H"},()=>((0,w.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsMode={dispose:()=>{for(const x of B)x.dispose()}}}}}i.CoreTerminal=D},8460:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.forwardEvent=i.EventEmitter=void 0,i.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=o=>(this._listeners.push(o),{dispose:()=>{if(!this._disposed){for(let n=0;n<this._listeners.length;n++)if(this._listeners[n]===o)return void this._listeners.splice(n,1)}}})),this._event}fire(o,n){const u=[];for(let f=0;f<this._listeners.length;f++)u.push(this._listeners[f]);for(let f=0;f<u.length;f++)u[f].call(void 0,o,n)}dispose(){this._listeners&&(this._listeners.length=0),this._disposed=!0}},i.forwardEvent=function(o,n){return o(u=>n.fire(u))}},5435:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.InputHandler=i.WindowsOptionsReportType=void 0;const n=o(2584),u=o(7116),f=o(2015),_=o(844),v=o(482),g=o(8437),p=o(8460),s=o(643),c=o(511),a=o(3734),d=o(2585),m=o(6242),w=o(6351),S=o(5941),k={"(":0,")":1,"*":2,"+":3,"-":1,".":2},C=131072;function E(B,x){if(B>24)return x.setWinLines||!1;switch(B){case 1:return!!x.restoreWin;case 2:return!!x.minimizeWin;case 3:return!!x.setWinPosition;case 4:return!!x.setWinSizePixels;case 5:return!!x.raiseWin;case 6:return!!x.lowerWin;case 7:return!!x.refreshWin;case 8:return!!x.setWinSizeChars;case 9:return!!x.maximizeWin;case 10:return!!x.fullscreenWin;case 11:return!!x.getWinState;case 13:return!!x.getWinPosition;case 14:return!!x.getWinSizePixels;case 15:return!!x.getScreenSizePixels;case 16:return!!x.getCellSizePixels;case 18:return!!x.getWinSizeChars;case 19:return!!x.getScreenSizeChars;case 20:return!!x.getIconTitle;case 21:return!!x.getWinTitle;case 22:return!!x.pushTitle;case 23:return!!x.popTitle;case 24:return!!x.setWinLines}return!1}var D;(function(B){B[B.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",B[B.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(D=i.WindowsOptionsReportType||(i.WindowsOptionsReportType={}));class P extends _.Disposable{constructor(x,R,T,O,M,V,F,W,G,ie=new f.EscapeSequenceParser){super(),this._bufferService=x,this._charsetService=R,this._coreService=T,this._dirtyRowService=O,this._logService=M,this._optionsService=V,this._oscLinkService=F,this._coreMouseService=W,this._unicodeService=G,this._parser=ie,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new v.StringToUtf32,this._utf8Decoder=new v.Utf8ToUtf32,this._workCell=new c.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=g.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=g.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=new p.EventEmitter,this._onRequestRefreshRows=new p.EventEmitter,this._onRequestReset=new p.EventEmitter,this._onRequestSendFocus=new p.EventEmitter,this._onRequestSyncScrollBar=new p.EventEmitter,this._onRequestWindowsOptionsReport=new p.EventEmitter,this._onA11yChar=new p.EventEmitter,this._onA11yTab=new p.EventEmitter,this._onCursorMove=new p.EventEmitter,this._onLineFeed=new p.EventEmitter,this._onScroll=new p.EventEmitter,this._onTitleChange=new p.EventEmitter,this._onColor=new p.EventEmitter,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(L=>this._activeBuffer=L.activeBuffer)),this._parser.setCsiHandlerFallback((L,q)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(L),params:q.toArray()})}),this._parser.setEscHandlerFallback(L=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(L)})}),this._parser.setExecuteHandlerFallback(L=>{this._logService.debug("Unknown EXECUTE code: ",{code:L})}),this._parser.setOscHandlerFallback((L,q,Q)=>{this._logService.debug("Unknown OSC code: ",{identifier:L,action:q,data:Q})}),this._parser.setDcsHandlerFallback((L,q,Q)=>{q==="HOOK"&&(Q=Q.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(L),action:q,payload:Q})}),this._parser.setPrintHandler((L,q,Q)=>this.print(L,q,Q)),this._parser.registerCsiHandler({final:"@"},L=>this.insertChars(L)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},L=>this.scrollLeft(L)),this._parser.registerCsiHandler({final:"A"},L=>this.cursorUp(L)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},L=>this.scrollRight(L)),this._parser.registerCsiHandler({final:"B"},L=>this.cursorDown(L)),this._parser.registerCsiHandler({final:"C"},L=>this.cursorForward(L)),this._parser.registerCsiHandler({final:"D"},L=>this.cursorBackward(L)),this._parser.registerCsiHandler({final:"E"},L=>this.cursorNextLine(L)),this._parser.registerCsiHandler({final:"F"},L=>this.cursorPrecedingLine(L)),this._parser.registerCsiHandler({final:"G"},L=>this.cursorCharAbsolute(L)),this._parser.registerCsiHandler({final:"H"},L=>this.cursorPosition(L)),this._parser.registerCsiHandler({final:"I"},L=>this.cursorForwardTab(L)),this._parser.registerCsiHandler({final:"J"},L=>this.eraseInDisplay(L,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},L=>this.eraseInDisplay(L,!0)),this._parser.registerCsiHandler({final:"K"},L=>this.eraseInLine(L,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},L=>this.eraseInLine(L,!0)),this._parser.registerCsiHandler({final:"L"},L=>this.insertLines(L)),this._parser.registerCsiHandler({final:"M"},L=>this.deleteLines(L)),this._parser.registerCsiHandler({final:"P"},L=>this.deleteChars(L)),this._parser.registerCsiHandler({final:"S"},L=>this.scrollUp(L)),this._parser.registerCsiHandler({final:"T"},L=>this.scrollDown(L)),this._parser.registerCsiHandler({final:"X"},L=>this.eraseChars(L)),this._parser.registerCsiHandler({final:"Z"},L=>this.cursorBackwardTab(L)),this._parser.registerCsiHandler({final:"`"},L=>this.charPosAbsolute(L)),this._parser.registerCsiHandler({final:"a"},L=>this.hPositionRelative(L)),this._parser.registerCsiHandler({final:"b"},L=>this.repeatPrecedingCharacter(L)),this._parser.registerCsiHandler({final:"c"},L=>this.sendDeviceAttributesPrimary(L)),this._parser.registerCsiHandler({prefix:">",final:"c"},L=>this.sendDeviceAttributesSecondary(L)),this._parser.registerCsiHandler({final:"d"},L=>this.linePosAbsolute(L)),this._parser.registerCsiHandler({final:"e"},L=>this.vPositionRelative(L)),this._parser.registerCsiHandler({final:"f"},L=>this.hVPosition(L)),this._parser.registerCsiHandler({final:"g"},L=>this.tabClear(L)),this._parser.registerCsiHandler({final:"h"},L=>this.setMode(L)),this._parser.registerCsiHandler({prefix:"?",final:"h"},L=>this.setModePrivate(L)),this._parser.registerCsiHandler({final:"l"},L=>this.resetMode(L)),this._parser.registerCsiHandler({prefix:"?",final:"l"},L=>this.resetModePrivate(L)),this._parser.registerCsiHandler({final:"m"},L=>this.charAttributes(L)),this._parser.registerCsiHandler({final:"n"},L=>this.deviceStatus(L)),this._parser.registerCsiHandler({prefix:"?",final:"n"},L=>this.deviceStatusPrivate(L)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},L=>this.softReset(L)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},L=>this.setCursorStyle(L)),this._parser.registerCsiHandler({final:"r"},L=>this.setScrollRegion(L)),this._parser.registerCsiHandler({final:"s"},L=>this.saveCursor(L)),this._parser.registerCsiHandler({final:"t"},L=>this.windowOptions(L)),this._parser.registerCsiHandler({final:"u"},L=>this.restoreCursor(L)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},L=>this.insertColumns(L)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},L=>this.deleteColumns(L)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},L=>this.selectProtected(L)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},L=>this.requestMode(L,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},L=>this.requestMode(L,!1)),this._parser.setExecuteHandler(n.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(n.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(n.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(n.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(n.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(n.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(n.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(n.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(n.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(n.C1.IND,()=>this.index()),this._parser.setExecuteHandler(n.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(n.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new m.OscHandler(L=>(this.setTitle(L),this.setIconName(L),!0))),this._parser.registerOscHandler(1,new m.OscHandler(L=>this.setIconName(L))),this._parser.registerOscHandler(2,new m.OscHandler(L=>this.setTitle(L))),this._parser.registerOscHandler(4,new m.OscHandler(L=>this.setOrReportIndexedColor(L))),this._parser.registerOscHandler(8,new m.OscHandler(L=>this.setHyperlink(L))),this._parser.registerOscHandler(10,new m.OscHandler(L=>this.setOrReportFgColor(L))),this._parser.registerOscHandler(11,new m.OscHandler(L=>this.setOrReportBgColor(L))),this._parser.registerOscHandler(12,new m.OscHandler(L=>this.setOrReportCursorColor(L))),this._parser.registerOscHandler(104,new m.OscHandler(L=>this.restoreIndexedColor(L))),this._parser.registerOscHandler(110,new m.OscHandler(L=>this.restoreFgColor(L))),this._parser.registerOscHandler(111,new m.OscHandler(L=>this.restoreBgColor(L))),this._parser.registerOscHandler(112,new m.OscHandler(L=>this.restoreCursorColor(L))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const L in u.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:L},()=>this.selectCharset("("+L)),this._parser.registerEscHandler({intermediates:")",final:L},()=>this.selectCharset(")"+L)),this._parser.registerEscHandler({intermediates:"*",final:L},()=>this.selectCharset("*"+L)),this._parser.registerEscHandler({intermediates:"+",final:L},()=>this.selectCharset("+"+L)),this._parser.registerEscHandler({intermediates:"-",final:L},()=>this.selectCharset("-"+L)),this._parser.registerEscHandler({intermediates:".",final:L},()=>this.selectCharset("."+L)),this._parser.registerEscHandler({intermediates:"/",final:L},()=>this.selectCharset("/"+L));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(L=>(this._logService.error("Parsing error: ",L),L)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new w.DcsHandler((L,q)=>this.requestStatusString(L,q)))}getAttrData(){return this._curAttrData}get onRequestBell(){return this._onRequestBell.event}get onRequestRefreshRows(){return this._onRequestRefreshRows.event}get onRequestReset(){return this._onRequestReset.event}get onRequestSendFocus(){return this._onRequestSendFocus.event}get onRequestSyncScrollBar(){return this._onRequestSyncScrollBar.event}get onRequestWindowsOptionsReport(){return this._onRequestWindowsOptionsReport.event}get onA11yChar(){return this._onA11yChar.event}get onA11yTab(){return this._onA11yTab.event}get onCursorMove(){return this._onCursorMove.event}get onLineFeed(){return this._onLineFeed.event}get onScroll(){return this._onScroll.event}get onTitleChange(){return this._onTitleChange.event}get onColor(){return this._onColor.event}dispose(){super.dispose()}_preserveStack(x,R,T,O){this._parseStack.paused=!0,this._parseStack.cursorStartX=x,this._parseStack.cursorStartY=R,this._parseStack.decodedLength=T,this._parseStack.position=O}_logSlowResolvingAsync(x){this._logService.logLevel<=d.LogLevelEnum.WARN&&Promise.race([x,new Promise((R,T)=>setTimeout(()=>T("#SLOW_TIMEOUT"),5e3))]).catch(R=>{if(R!=="#SLOW_TIMEOUT")throw R;console.warn("async parser handler taking longer than 5000 ms")})}parse(x,R){let T,O=this._activeBuffer.x,M=this._activeBuffer.y,V=0;const F=this._parseStack.paused;if(F){if(T=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,R))return this._logSlowResolvingAsync(T),T;O=this._parseStack.cursorStartX,M=this._parseStack.cursorStartY,this._parseStack.paused=!1,x.length>C&&(V=this._parseStack.position+C)}if(this._logService.logLevel<=d.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof x=="string"?` "${x}"`:` "${Array.prototype.map.call(x,W=>String.fromCharCode(W)).join("")}"`),typeof x=="string"?x.split("").map(W=>W.charCodeAt(0)):x),this._parseBuffer.length<x.length&&this._parseBuffer.length<C&&(this._parseBuffer=new Uint32Array(Math.min(x.length,C))),F||this._dirtyRowService.clearRange(),x.length>C)for(let W=V;W<x.length;W+=C){const G=W+C<x.length?W+C:x.length,ie=typeof x=="string"?this._stringDecoder.decode(x.substring(W,G),this._parseBuffer):this._utf8Decoder.decode(x.subarray(W,G),this._parseBuffer);if(T=this._parser.parse(this._parseBuffer,ie))return this._preserveStack(O,M,ie,W),this._logSlowResolvingAsync(T),T}else if(!F){const W=typeof x=="string"?this._stringDecoder.decode(x,this._parseBuffer):this._utf8Decoder.decode(x,this._parseBuffer);if(T=this._parser.parse(this._parseBuffer,W))return this._preserveStack(O,M,W,0),this._logSlowResolvingAsync(T),T}this._activeBuffer.x===O&&this._activeBuffer.y===M||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)}print(x,R,T){let O,M;const V=this._charsetService.charset,F=this._optionsService.rawOptions.screenReaderMode,W=this._bufferService.cols,G=this._coreService.decPrivateModes.wraparound,ie=this._coreService.modes.insertMode,L=this._curAttrData;let q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowService.markDirty(this._activeBuffer.y),this._activeBuffer.x&&T-R>0&&q.getWidth(this._activeBuffer.x-1)===2&&q.setCellFromCodePoint(this._activeBuffer.x-1,0,1,L.fg,L.bg,L.extended);for(let Q=R;Q<T;++Q){if(O=x[Q],M=this._unicodeService.wcwidth(O),O<127&&V){const I=V[String.fromCharCode(O)];I&&(O=I.charCodeAt(0))}if(F&&this._onA11yChar.fire((0,v.stringFromCodePoint)(O)),this._currentLinkId!==void 0&&this._oscLinkService.addLineToLink(this._currentLinkId,this._activeBuffer.ybase+this._activeBuffer.y),M||!this._activeBuffer.x){if(this._activeBuffer.x+M-1>=W){if(G){for(;this._activeBuffer.x<W;)q.setCellFromCodePoint(this._activeBuffer.x++,0,1,L.fg,L.bg,L.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=W-1,M===2)continue}if(ie&&(q.insertCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(L),L),q.getWidth(W-1)===2&&q.setCellFromCodePoint(W-1,s.NULL_CELL_CODE,s.NULL_CELL_WIDTH,L.fg,L.bg,L.extended)),q.setCellFromCodePoint(this._activeBuffer.x++,O,M,L.fg,L.bg,L.extended),M>0)for(;--M;)q.setCellFromCodePoint(this._activeBuffer.x++,0,0,L.fg,L.bg,L.extended)}else q.getWidth(this._activeBuffer.x-1)?q.addCodepointToCell(this._activeBuffer.x-1,O):q.addCodepointToCell(this._activeBuffer.x-2,O)}T-R>0&&(q.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<W&&T-R>0&&q.getWidth(this._activeBuffer.x)===0&&!q.hasContent(this._activeBuffer.x)&&q.setCellFromCodePoint(this._activeBuffer.x,0,1,L.fg,L.bg,L.extended),this._dirtyRowService.markDirty(this._activeBuffer.y)}registerCsiHandler(x,R){return x.final!=="t"||x.prefix||x.intermediates?this._parser.registerCsiHandler(x,R):this._parser.registerCsiHandler(x,T=>!E(T.params[0],this._optionsService.rawOptions.windowOptions)||R(T))}registerDcsHandler(x,R){return this._parser.registerDcsHandler(x,new w.DcsHandler(R))}registerEscHandler(x,R){return this._parser.registerEscHandler(x,R)}registerOscHandler(x,R){return this._parser.registerOscHandler(x,new m.OscHandler(R))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowService.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowService.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var x;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((x=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||x===void 0?void 0:x.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);R.hasWidth(this._activeBuffer.x)&&!R.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const x=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-x),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(x=this._bufferService.cols-1){this._activeBuffer.x=Math.min(x,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowService.markDirty(this._activeBuffer.y)}_setCursor(x,R){this._dirtyRowService.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=x,this._activeBuffer.y=this._activeBuffer.scrollTop+R):(this._activeBuffer.x=x,this._activeBuffer.y=R),this._restrictCursor(),this._dirtyRowService.markDirty(this._activeBuffer.y)}_moveCursor(x,R){this._restrictCursor(),this._setCursor(this._activeBuffer.x+x,this._activeBuffer.y+R)}cursorUp(x){const R=this._activeBuffer.y-this._activeBuffer.scrollTop;return R>=0?this._moveCursor(0,-Math.min(R,x.params[0]||1)):this._moveCursor(0,-(x.params[0]||1)),!0}cursorDown(x){const R=this._activeBuffer.scrollBottom-this._activeBuffer.y;return R>=0?this._moveCursor(0,Math.min(R,x.params[0]||1)):this._moveCursor(0,x.params[0]||1),!0}cursorForward(x){return this._moveCursor(x.params[0]||1,0),!0}cursorBackward(x){return this._moveCursor(-(x.params[0]||1),0),!0}cursorNextLine(x){return this.cursorDown(x),this._activeBuffer.x=0,!0}cursorPrecedingLine(x){return this.cursorUp(x),this._activeBuffer.x=0,!0}cursorCharAbsolute(x){return this._setCursor((x.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(x){return this._setCursor(x.length>=2?(x.params[1]||1)-1:0,(x.params[0]||1)-1),!0}charPosAbsolute(x){return this._setCursor((x.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(x){return this._moveCursor(x.params[0]||1,0),!0}linePosAbsolute(x){return this._setCursor(this._activeBuffer.x,(x.params[0]||1)-1),!0}vPositionRelative(x){return this._moveCursor(0,x.params[0]||1),!0}hVPosition(x){return this.cursorPosition(x),!0}tabClear(x){const R=x.params[0];return R===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:R===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(x){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let R=x.params[0]||1;for(;R--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(x){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let R=x.params[0]||1;for(;R--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(x){const R=x.params[0];return R===1&&(this._curAttrData.bg|=536870912),R!==2&&R!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(x,R,T,O=!1,M=!1){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+x);V.replaceCells(R,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),M),O&&(V.isWrapped=!1)}_resetBufferLine(x,R=!1){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+x);T.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),R),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+x),T.isWrapped=!1}eraseInDisplay(x,R=!1){let T;switch(this._restrictCursor(this._bufferService.cols),x.params[0]){case 0:for(T=this._activeBuffer.y,this._dirtyRowService.markDirty(T),this._eraseInBufferLine(T++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,R);T<this._bufferService.rows;T++)this._resetBufferLine(T,R);this._dirtyRowService.markDirty(T);break;case 1:for(T=this._activeBuffer.y,this._dirtyRowService.markDirty(T),this._eraseInBufferLine(T,0,this._activeBuffer.x+1,!0,R),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(T+1).isWrapped=!1);T--;)this._resetBufferLine(T,R);this._dirtyRowService.markDirty(0);break;case 2:for(T=this._bufferService.rows,this._dirtyRowService.markDirty(T-1);T--;)this._resetBufferLine(T,R);this._dirtyRowService.markDirty(0);break;case 3:const O=this._activeBuffer.lines.length-this._bufferService.rows;O>0&&(this._activeBuffer.lines.trimStart(O),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-O,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-O,0),this._onScroll.fire(0))}return!0}eraseInLine(x,R=!1){switch(this._restrictCursor(this._bufferService.cols),x.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,R);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,R);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,R)}return this._dirtyRowService.markDirty(this._activeBuffer.y),!0}insertLines(x){this._restrictCursor();let R=x.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=this._activeBuffer.ybase+this._activeBuffer.y,O=this._bufferService.rows-1-this._activeBuffer.scrollBottom,M=this._bufferService.rows-1+this._activeBuffer.ybase-O+1;for(;R--;)this._activeBuffer.lines.splice(M-1,1),this._activeBuffer.lines.splice(T,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(x){this._restrictCursor();let R=x.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=this._activeBuffer.ybase+this._activeBuffer.y;let O;for(O=this._bufferService.rows-1-this._activeBuffer.scrollBottom,O=this._bufferService.rows-1+this._activeBuffer.ybase-O;R--;)this._activeBuffer.lines.splice(T,1),this._activeBuffer.lines.splice(O,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(x){this._restrictCursor();const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return R&&(R.insertCells(this._activeBuffer.x,x.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0}deleteChars(x){this._restrictCursor();const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return R&&(R.deleteCells(this._activeBuffer.x,x.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0}scrollUp(x){let R=x.params[0]||1;for(;R--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(x){let R=x.params[0]||1;for(;R--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(g.DEFAULT_ATTR_DATA));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=x.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);O.deleteCells(0,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=x.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);O.insertCells(0,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=x.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);O.insertCells(this._activeBuffer.x,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=x.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);O.deleteCells(this._activeBuffer.x,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(x){this._restrictCursor();const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return R&&(R.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(x.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(x){if(!this._parser.precedingCodepoint)return!0;const R=x.params[0]||1,T=new Uint32Array(R);for(let O=0;O<R;++O)T[O]=this._parser.precedingCodepoint;return this.print(T,0,T.length),!0}sendDeviceAttributesPrimary(x){return x.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(n.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(n.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(x){return x.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(n.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(n.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(x.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(n.C0.ESC+"[>83;40003;0c")),!0}_is(x){return(this._optionsService.rawOptions.termName+"").indexOf(x)===0}setMode(x){for(let R=0;R<x.length;R++)switch(x.params[R]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(x){for(let R=0;R<x.length;R++)switch(x.params[R]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,u.DEFAULT_CHARSET),this._charsetService.setgCharset(1,u.DEFAULT_CHARSET),this._charsetService.setgCharset(2,u.DEFAULT_CHARSET),this._charsetService.setgCharset(3,u.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(x){for(let R=0;R<x.length;R++)switch(x.params[R]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(x){for(let R=0;R<x.length;R++)switch(x.params[R]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),x.params[R]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(x,R){const T=this._coreService.decPrivateModes,{activeProtocol:O,activeEncoding:M}=this._coreMouseService,V=this._coreService,{buffers:F,cols:W}=this._bufferService,{active:G,alt:ie}=F,L=this._optionsService.rawOptions,q=se=>se?1:2,Q=x.params[0];return I=Q,z=R?Q===2?3:Q===4?q(V.modes.insertMode):Q===12?4:Q===20?q(L.convertEol):0:Q===1?q(T.applicationCursorKeys):Q===3?L.windowOptions.setWinLines?W===80?2:W===132?1:0:0:Q===6?q(T.origin):Q===7?q(T.wraparound):Q===8?3:Q===9?q(O==="X10"):Q===12?q(L.cursorBlink):Q===25?q(!V.isCursorHidden):Q===45?q(T.reverseWraparound):Q===66?q(T.applicationKeypad):Q===1e3?q(O==="VT200"):Q===1002?q(O==="DRAG"):Q===1003?q(O==="ANY"):Q===1004?q(T.sendFocus):Q===1005?4:Q===1006?q(M==="SGR"):Q===1015?4:Q===1016?q(M==="SGR_PIXELS"):Q===1048?1:Q===47||Q===1047||Q===1049?q(G===ie):Q===2004?q(T.bracketedPasteMode):0,V.triggerDataEvent(`${n.C0.ESC}[${R?"":"?"}${I};${z}$y`),!0;var I,z}_updateAttrColor(x,R,T,O,M){return R===2?(x|=50331648,x&=-16777216,x|=a.AttributeData.fromColorRGB([T,O,M])):R===5&&(x&=-50331904,x|=33554432|255&T),x}_extractColor(x,R,T){const O=[0,0,-1,0,0,0];let M=0,V=0;do{if(O[V+M]=x.params[R+V],x.hasSubParams(R+V)){const F=x.getSubParams(R+V);let W=0;do O[1]===5&&(M=1),O[V+W+1+M]=F[W];while(++W<F.length&&W+V+1+M<O.length);break}if(O[1]===5&&V+M>=2||O[1]===2&&V+M>=5)break;O[1]&&(M=1)}while(++V+R<x.length&&V+M<O.length);for(let F=2;F<O.length;++F)O[F]===-1&&(O[F]=0);switch(O[0]){case 38:T.fg=this._updateAttrColor(T.fg,O[1],O[3],O[4],O[5]);break;case 48:T.bg=this._updateAttrColor(T.bg,O[1],O[3],O[4],O[5]);break;case 58:T.extended=T.extended.clone(),T.extended.underlineColor=this._updateAttrColor(T.extended.underlineColor,O[1],O[3],O[4],O[5])}return V}_processUnderline(x,R){R.extended=R.extended.clone(),(!~x||x>5)&&(x=1),R.extended.underlineStyle=x,R.fg|=268435456,x===0&&(R.fg&=-268435457),R.updateExtended()}charAttributes(x){if(x.length===1&&x.params[0]===0)return this._curAttrData.fg=g.DEFAULT_ATTR_DATA.fg,this._curAttrData.bg=g.DEFAULT_ATTR_DATA.bg,!0;const R=x.length;let T;const O=this._curAttrData;for(let M=0;M<R;M++)T=x.params[M],T>=30&&T<=37?(O.fg&=-50331904,O.fg|=16777216|T-30):T>=40&&T<=47?(O.bg&=-50331904,O.bg|=16777216|T-40):T>=90&&T<=97?(O.fg&=-50331904,O.fg|=16777224|T-90):T>=100&&T<=107?(O.bg&=-50331904,O.bg|=16777224|T-100):T===0?(O.fg=g.DEFAULT_ATTR_DATA.fg,O.bg=g.DEFAULT_ATTR_DATA.bg):T===1?O.fg|=134217728:T===3?O.bg|=67108864:T===4?(O.fg|=268435456,this._processUnderline(x.hasSubParams(M)?x.getSubParams(M)[0]:1,O)):T===5?O.fg|=536870912:T===7?O.fg|=67108864:T===8?O.fg|=1073741824:T===9?O.fg|=2147483648:T===2?O.bg|=134217728:T===21?this._processUnderline(2,O):T===22?(O.fg&=-134217729,O.bg&=-134217729):T===23?O.bg&=-67108865:T===24?(O.fg&=-268435457,this._processUnderline(0,O)):T===25?O.fg&=-536870913:T===27?O.fg&=-67108865:T===28?O.fg&=-1073741825:T===29?O.fg&=2147483647:T===39?(O.fg&=-67108864,O.fg|=16777215&g.DEFAULT_ATTR_DATA.fg):T===49?(O.bg&=-67108864,O.bg|=16777215&g.DEFAULT_ATTR_DATA.bg):T===38||T===48||T===58?M+=this._extractColor(x,M,O):T===59?(O.extended=O.extended.clone(),O.extended.underlineColor=-1,O.updateExtended()):T===100?(O.fg&=-67108864,O.fg|=16777215&g.DEFAULT_ATTR_DATA.fg,O.bg&=-67108864,O.bg|=16777215&g.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",T);return!0}deviceStatus(x){switch(x.params[0]){case 5:this._coreService.triggerDataEvent(`${n.C0.ESC}[0n`);break;case 6:const R=this._activeBuffer.y+1,T=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${n.C0.ESC}[${R};${T}R`)}return!0}deviceStatusPrivate(x){if(x.params[0]===6){const R=this._activeBuffer.y+1,T=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${n.C0.ESC}[?${R};${T}R`)}return!0}softReset(x){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=g.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(x){const R=x.params[0]||1;switch(R){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const T=R%2==1;return this._optionsService.options.cursorBlink=T,!0}setScrollRegion(x){const R=x.params[0]||1;let T;return(x.length<2||(T=x.params[1])>this._bufferService.rows||T===0)&&(T=this._bufferService.rows),T>R&&(this._activeBuffer.scrollTop=R-1,this._activeBuffer.scrollBottom=T-1,this._setCursor(0,0)),!0}windowOptions(x){if(!E(x.params[0],this._optionsService.rawOptions.windowOptions))return!0;const R=x.length>1?x.params[1]:0;switch(x.params[0]){case 14:R!==2&&this._onRequestWindowsOptionsReport.fire(D.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(D.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${n.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:R!==0&&R!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),R!==0&&R!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:R!==0&&R!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),R!==0&&R!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(x){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(x){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(x){return this._windowTitle=x,this._onTitleChange.fire(x),!0}setIconName(x){return this._iconName=x,!0}setOrReportIndexedColor(x){const R=[],T=x.split(";");for(;T.length>1;){const O=T.shift(),M=T.shift();if(/^\d+$/.exec(O)){const V=parseInt(O);if(0<=V&&V<256)if(M==="?")R.push({type:0,index:V});else{const F=(0,S.parseColor)(M);F&&R.push({type:1,index:V,color:F})}}}return R.length&&this._onColor.fire(R),!0}setHyperlink(x){const R=x.split(";");return!(R.length<2)&&(R[1]?this._createHyperlink(R[0],R[1]):!R[0]&&this._finishHyperlink())}_createHyperlink(x,R){this._currentLinkId!==void 0&&this._finishHyperlink();const T=x.split(":");let O;const M=T.findIndex(V=>V.startsWith("id="));return M!==-1&&(O=T[M].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._currentLinkId=this._oscLinkService.registerLink({id:O,uri:R}),this._curAttrData.extended.urlId=this._currentLinkId,this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),this._currentLinkId=void 0,!0}_setOrReportSpecialColor(x,R){const T=x.split(";");for(let O=0;O<T.length&&!(R>=this._specialColors.length);++O,++R)if(T[O]==="?")this._onColor.fire([{type:0,index:this._specialColors[R]}]);else{const M=(0,S.parseColor)(T[O]);M&&this._onColor.fire([{type:1,index:this._specialColors[R],color:M}])}return!0}setOrReportFgColor(x){return this._setOrReportSpecialColor(x,0)}setOrReportBgColor(x){return this._setOrReportSpecialColor(x,1)}setOrReportCursorColor(x){return this._setOrReportSpecialColor(x,2)}restoreIndexedColor(x){if(!x)return this._onColor.fire([{type:2}]),!0;const R=[],T=x.split(";");for(let O=0;O<T.length;++O)if(/^\d+$/.exec(T[O])){const M=parseInt(T[O]);0<=M&&M<256&&R.push({type:2,index:M})}return R.length&&this._onColor.fire(R),!0}restoreFgColor(x){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(x){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(x){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,u.DEFAULT_CHARSET),!0}selectCharset(x){return x.length!==2?(this.selectDefaultCharset(),!0):(x[0]==="/"||this._charsetService.setgCharset(k[x[0]],u.CHARSETS[x[1]]||u.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const x=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,x,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=g.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=g.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(x){return this._charsetService.setgLevel(x),!0}screenAlignmentPattern(){const x=new c.CellData;x.content=4194304|"E".charCodeAt(0),x.fg=this._curAttrData.fg,x.bg=this._curAttrData.bg,this._setCursor(0,0);for(let R=0;R<this._bufferService.rows;++R){const T=this._activeBuffer.ybase+this._activeBuffer.y+R,O=this._activeBuffer.lines.get(T);O&&(O.fill(x),O.isWrapped=!1)}return this._dirtyRowService.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(x,R){const T=this._bufferService.buffer,O=this._optionsService.rawOptions;return(M=>(this._coreService.triggerDataEvent(`${n.C0.ESC}${M}${n.C0.ESC}\\`),!0))(x==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:x==='"p'?'P1$r61;1"p':x==="r"?`P1$r${T.scrollTop+1};${T.scrollBottom+1}r`:x==="m"?"P1$r0m":x===" q"?`P1$r${{block:2,underline:4,bar:6}[O.cursorStyle]-(O.cursorBlink?1:0)} q`:"P0$r")}}i.InputHandler=P},844:(b,i)=>{function o(n){for(const u of n)u.dispose();n.length=0}Object.defineProperty(i,"__esModule",{value:!0}),i.getDisposeArrayDisposable=i.disposeArray=i.toDisposable=i.Disposable=void 0,i.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const n of this._disposables)n.dispose();this._disposables.length=0}register(n){return this._disposables.push(n),n}unregister(n){const u=this._disposables.indexOf(n);u!==-1&&this._disposables.splice(u,1)}},i.toDisposable=function(n){return{dispose:n}},i.disposeArray=o,i.getDisposeArrayDisposable=function(n){return{dispose:()=>o(n)}}},1505:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FourKeyMap=i.TwoKeyMap=void 0;class o{constructor(){this._data={}}set(u,f,_){this._data[u]||(this._data[u]={}),this._data[u][f]=_}get(u,f){return this._data[u]?this._data[u][f]:void 0}clear(){this._data={}}}i.TwoKeyMap=o,i.FourKeyMap=class{constructor(){this._data=new o}set(n,u,f,_,v){this._data.get(n,u)||this._data.set(n,u,new o),this._data.get(n,u).set(f,_,v)}get(n,u,f,_){var v;return(v=this._data.get(n,u))===null||v===void 0?void 0:v.get(f,_)}clear(){this._data.clear()}}},6114:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isLinux=i.isWindows=i.isIphone=i.isIpad=i.isMac=i.isSafari=i.isLegacyEdge=i.isFirefox=void 0;const o=typeof navigator>"u",n=o?"node":navigator.userAgent,u=o?"node":navigator.platform;i.isFirefox=n.includes("Firefox"),i.isLegacyEdge=n.includes("Edge"),i.isSafari=/^((?!chrome|android).)*safari/i.test(n),i.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(u),i.isIpad=u==="iPad",i.isIphone=u==="iPhone",i.isWindows=["Windows","Win16","Win32","WinCE"].includes(u),i.isLinux=u.indexOf("Linux")>=0},6106:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SortedList=void 0;let o=0;i.SortedList=class{constructor(n){this._getKey=n,this._array=[]}clear(){this._array.length=0}insert(n){this._array.length!==0?(o=this._search(this._getKey(n),0,this._array.length-1),this._array.splice(o,0,n)):this._array.push(n)}delete(n){if(this._array.length===0)return!1;const u=this._getKey(n);if(u===void 0||(o=this._search(u,0,this._array.length-1),o===-1)||this._getKey(this._array[o])!==u)return!1;do if(this._array[o]===n)return this._array.splice(o,1),!0;while(++o<this._array.length&&this._getKey(this._array[o])===u);return!1}*getKeyIterator(n){if(this._array.length!==0&&(o=this._search(n,0,this._array.length-1),!(o<0||o>=this._array.length)&&this._getKey(this._array[o])===n))do yield this._array[o];while(++o<this._array.length&&this._getKey(this._array[o])===n)}forEachByKey(n,u){if(this._array.length!==0&&(o=this._search(n,0,this._array.length-1),!(o<0||o>=this._array.length)&&this._getKey(this._array[o])===n))do u(this._array[o]);while(++o<this._array.length&&this._getKey(this._array[o])===n)}values(){return this._array.values()}_search(n,u,f){if(f<u)return u;let _=Math.floor((u+f)/2);const v=this._getKey(this._array[_]);if(v>n)return this._search(n,u,_-1);if(v<n)return this._search(n,_+1,f);for(;_>0&&this._getKey(this._array[_-1])===n;)_--;return _}}},8273:(b,i)=>{function o(n,u,f=0,_=n.length){if(f>=n.length)return n;f=(n.length+f)%n.length,_=_>=n.length?n.length:(n.length+_)%n.length;for(let v=f;v<_;++v)n[v]=u;return n}Object.defineProperty(i,"__esModule",{value:!0}),i.concat=i.fillFallback=i.fill=void 0,i.fill=function(n,u,f,_){return n.fill?n.fill(u,f,_):o(n,u,f,_)},i.fillFallback=o,i.concat=function(n,u){const f=new n.constructor(n.length+u.length);return f.set(n),f.set(u,n.length),f}},9282:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.updateWindowsModeWrappedState=void 0;const n=o(643);i.updateWindowsModeWrappedState=function(u){const f=u.buffer.lines.get(u.buffer.ybase+u.buffer.y-1),_=f==null?void 0:f.get(u.cols-1),v=u.buffer.lines.get(u.buffer.ybase+u.buffer.y);v&&_&&(v.isWrapped=_[n.CHAR_DATA_CODE_INDEX]!==n.NULL_CELL_CODE&&_[n.CHAR_DATA_CODE_INDEX]!==n.WHITESPACE_CELL_CODE)}},3734:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ExtendedAttrs=i.AttributeData=void 0;class o{constructor(){this.fg=0,this.bg=0,this.extended=new n}static toColorRGB(f){return[f>>>16&255,f>>>8&255,255&f]}static fromColorRGB(f){return(255&f[0])<<16|(255&f[1])<<8|255&f[2]}clone(){const f=new o;return f.fg=this.fg,f.bg=this.bg,f.extended=this.extended.clone(),f}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}i.AttributeData=o;class n{constructor(f=0,_=0){this._ext=0,this._urlId=0,this._ext=f,this._urlId=_}get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(f){this._ext=f}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(f){this._ext&=-469762049,this._ext|=f<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(f){this._ext&=-67108864,this._ext|=67108863&f}get urlId(){return this._urlId}set urlId(f){this._urlId=f}clone(){return new n(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}i.ExtendedAttrs=n},9092:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferStringIterator=i.Buffer=i.MAX_BUFFER_SIZE=void 0;const n=o(6349),u=o(8437),f=o(511),_=o(643),v=o(4634),g=o(4863),p=o(7116),s=o(3734);i.MAX_BUFFER_SIZE=4294967295,i.Buffer=class{constructor(a,d,m){this._hasScrollback=a,this._optionsService=d,this._bufferService=m,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=u.DEFAULT_ATTR_DATA.clone(),this.savedCharset=p.DEFAULT_CHARSET,this.markers=[],this._nullCell=f.CellData.fromCharData([0,_.NULL_CELL_CHAR,_.NULL_CELL_WIDTH,_.NULL_CELL_CODE]),this._whitespaceCell=f.CellData.fromCharData([0,_.WHITESPACE_CELL_CHAR,_.WHITESPACE_CELL_WIDTH,_.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new n.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(a){return a?(this._nullCell.fg=a.fg,this._nullCell.bg=a.bg,this._nullCell.extended=a.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new s.ExtendedAttrs),this._nullCell}getWhitespaceCell(a){return a?(this._whitespaceCell.fg=a.fg,this._whitespaceCell.bg=a.bg,this._whitespaceCell.extended=a.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new s.ExtendedAttrs),this._whitespaceCell}getBlankLine(a,d){return new u.BufferLine(this._bufferService.cols,this.getNullCell(a),d)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const a=this.ybase+this.y-this.ydisp;return a>=0&&a<this._rows}_getCorrectBufferLength(a){if(!this._hasScrollback)return a;const d=a+this._optionsService.rawOptions.scrollback;return d>i.MAX_BUFFER_SIZE?i.MAX_BUFFER_SIZE:d}fillViewportRows(a){if(this.lines.length===0){a===void 0&&(a=u.DEFAULT_ATTR_DATA);let d=this._rows;for(;d--;)this.lines.push(this.getBlankLine(a))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new n.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(a,d){const m=this.getNullCell(u.DEFAULT_ATTR_DATA),w=this._getCorrectBufferLength(d);if(w>this.lines.maxLength&&(this.lines.maxLength=w),this.lines.length>0){if(this._cols<a)for(let k=0;k<this.lines.length;k++)this.lines.get(k).resize(a,m);let S=0;if(this._rows<d)for(let k=this._rows;k<d;k++)this.lines.length<d+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new u.BufferLine(a,m)):this.ybase>0&&this.lines.length<=this.ybase+this.y+S+1?(this.ybase--,S++,this.ydisp>0&&this.ydisp--):this.lines.push(new u.BufferLine(a,m)));else for(let k=this._rows;k>d;k--)this.lines.length>d+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(w<this.lines.maxLength){const k=this.lines.length-w;k>0&&(this.lines.trimStart(k),this.ybase=Math.max(this.ybase-k,0),this.ydisp=Math.max(this.ydisp-k,0),this.savedY=Math.max(this.savedY-k,0)),this.lines.maxLength=w}this.x=Math.min(this.x,a-1),this.y=Math.min(this.y,d-1),S&&(this.y+=S),this.savedX=Math.min(this.savedX,a-1),this.scrollTop=0}if(this.scrollBottom=d-1,this._isReflowEnabled&&(this._reflow(a,d),this._cols>a))for(let S=0;S<this.lines.length;S++)this.lines.get(S).resize(a,m);this._cols=a,this._rows=d}get _isReflowEnabled(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(a,d){this._cols!==a&&(a>this._cols?this._reflowLarger(a,d):this._reflowSmaller(a,d))}_reflowLarger(a,d){const m=(0,v.reflowLargerGetLinesToRemove)(this.lines,this._cols,a,this.ybase+this.y,this.getNullCell(u.DEFAULT_ATTR_DATA));if(m.length>0){const w=(0,v.reflowLargerCreateNewLayout)(this.lines,m);(0,v.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(a,d,w.countRemoved)}}_reflowLargerAdjustViewport(a,d,m){const w=this.getNullCell(u.DEFAULT_ATTR_DATA);let S=m;for(;S-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<d&&this.lines.push(new u.BufferLine(a,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-m,0)}_reflowSmaller(a,d){const m=this.getNullCell(u.DEFAULT_ATTR_DATA),w=[];let S=0;for(let k=this.lines.length-1;k>=0;k--){let C=this.lines.get(k);if(!C||!C.isWrapped&&C.getTrimmedLength()<=a)continue;const E=[C];for(;C.isWrapped&&k>0;)C=this.lines.get(--k),E.unshift(C);const D=this.ybase+this.y;if(D>=k&&D<k+E.length)continue;const P=E[E.length-1].getTrimmedLength(),B=(0,v.reflowSmallerGetNewLineLengths)(E,this._cols,a),x=B.length-E.length;let R;R=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+x):Math.max(0,this.lines.length-this.lines.maxLength+x);const T=[];for(let G=0;G<x;G++){const ie=this.getBlankLine(u.DEFAULT_ATTR_DATA,!0);T.push(ie)}T.length>0&&(w.push({start:k+E.length+S,newLines:T}),S+=T.length),E.push(...T);let O=B.length-1,M=B[O];M===0&&(O--,M=B[O]);let V=E.length-x-1,F=P;for(;V>=0;){const G=Math.min(F,M);if(E[O]===void 0)break;if(E[O].copyCellsFrom(E[V],F-G,M-G,G,!0),M-=G,M===0&&(O--,M=B[O]),F-=G,F===0){V--;const ie=Math.max(V,0);F=(0,v.getWrappedLineTrimmedLength)(E,ie,this._cols)}}for(let G=0;G<E.length;G++)B[G]<a&&E[G].setCell(B[G],m);let W=x-R;for(;W-- >0;)this.ybase===0?this.y<d-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+S)-d&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+x,this.ybase+d-1)}if(w.length>0){const k=[],C=[];for(let O=0;O<this.lines.length;O++)C.push(this.lines.get(O));const E=this.lines.length;let D=E-1,P=0,B=w[P];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+S);let x=0;for(let O=Math.min(this.lines.maxLength-1,E+S-1);O>=0;O--)if(B&&B.start>D+x){for(let M=B.newLines.length-1;M>=0;M--)this.lines.set(O--,B.newLines[M]);O++,k.push({index:D+1,amount:B.newLines.length}),x+=B.newLines.length,B=w[++P]}else this.lines.set(O,C[D--]);let R=0;for(let O=k.length-1;O>=0;O--)k[O].index+=R,this.lines.onInsertEmitter.fire(k[O]),R+=k[O].amount;const T=Math.max(0,E+S-this.lines.maxLength);T>0&&this.lines.onTrimEmitter.fire(T)}}stringIndexToBufferIndex(a,d,m=!1){for(;d;){const w=this.lines.get(a);if(!w)return[-1,-1];const S=m?w.getTrimmedLength():w.length;for(let k=0;k<S;++k)if(w.get(k)[_.CHAR_DATA_WIDTH_INDEX]&&(d-=w.get(k)[_.CHAR_DATA_CHAR_INDEX].length||1),d<0)return[a,k];a++}return[a,0]}translateBufferLineToString(a,d,m=0,w){const S=this.lines.get(a);return S?S.translateToString(d,m,w):""}getWrappedRangeForLine(a){let d=a,m=a;for(;d>0&&this.lines.get(d).isWrapped;)d--;for(;m+1<this.lines.length&&this.lines.get(m+1).isWrapped;)m++;return{first:d,last:m}}setupTabStops(a){for(a!=null?this.tabs[a]||(a=this.prevStop(a)):(this.tabs={},a=0);a<this._cols;a+=this._optionsService.rawOptions.tabStopWidth)this.tabs[a]=!0}prevStop(a){for(a==null&&(a=this.x);!this.tabs[--a]&&a>0;);return a>=this._cols?this._cols-1:a<0?0:a}nextStop(a){for(a==null&&(a=this.x);!this.tabs[++a]&&a<this._cols;);return a>=this._cols?this._cols-1:a<0?0:a}clearMarkers(a){this._isClearing=!0;for(let d=0;d<this.markers.length;d++)this.markers[d].line===a&&(this.markers[d].dispose(),this.markers.splice(d--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let a=0;a<this.markers.length;a++)this.markers[a].dispose(),this.markers.splice(a--,1);this._isClearing=!1}addMarker(a){const d=new g.Marker(a);return this.markers.push(d),d.register(this.lines.onTrim(m=>{d.line-=m,d.line<0&&d.dispose()})),d.register(this.lines.onInsert(m=>{d.line>=m.index&&(d.line+=m.amount)})),d.register(this.lines.onDelete(m=>{d.line>=m.index&&d.line<m.index+m.amount&&d.dispose(),d.line>m.index&&(d.line-=m.amount)})),d.register(d.onDispose(()=>this._removeMarker(d))),d}_removeMarker(a){this._isClearing||this.markers.splice(this.markers.indexOf(a),1)}iterator(a,d,m,w,S){return new c(this,a,d,m,w,S)}};class c{constructor(d,m,w=0,S=d.lines.length,k=0,C=0){this._buffer=d,this._trimRight=m,this._startIndex=w,this._endIndex=S,this._startOverscan=k,this._endOverscan=C,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}hasNext(){return this._current<this._endIndex}next(){const d=this._buffer.getWrappedRangeForLine(this._current);d.first<this._startIndex-this._startOverscan&&(d.first=this._startIndex-this._startOverscan),d.last>this._endIndex+this._endOverscan&&(d.last=this._endIndex+this._endOverscan),d.first=Math.max(d.first,0),d.last=Math.min(d.last,this._buffer.lines.length);let m="";for(let w=d.first;w<=d.last;++w)m+=this._buffer.translateBufferLineToString(w,this._trimRight);return this._current=d.last+1,{range:d,content:m}}}i.BufferStringIterator=c},8437:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferLine=i.DEFAULT_ATTR_DATA=void 0;const n=o(482),u=o(643),f=o(511),_=o(3734);i.DEFAULT_ATTR_DATA=Object.freeze(new _.AttributeData);const v={startIndex:0};class g{constructor(s,c,a=!1){this.isWrapped=a,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*s);const d=c||f.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]);for(let m=0;m<s;++m)this.setCell(m,d);this.length=s}get(s){const c=this._data[3*s+0],a=2097151&c;return[this._data[3*s+1],2097152&c?this._combined[s]:a?(0,n.stringFromCodePoint)(a):"",c>>22,2097152&c?this._combined[s].charCodeAt(this._combined[s].length-1):a]}set(s,c){this._data[3*s+1]=c[u.CHAR_DATA_ATTR_INDEX],c[u.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[s]=c[1],this._data[3*s+0]=2097152|s|c[u.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*s+0]=c[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|c[u.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(s){return this._data[3*s+0]>>22}hasWidth(s){return 12582912&this._data[3*s+0]}getFg(s){return this._data[3*s+1]}getBg(s){return this._data[3*s+2]}hasContent(s){return 4194303&this._data[3*s+0]}getCodePoint(s){const c=this._data[3*s+0];return 2097152&c?this._combined[s].charCodeAt(this._combined[s].length-1):2097151&c}isCombined(s){return 2097152&this._data[3*s+0]}getString(s){const c=this._data[3*s+0];return 2097152&c?this._combined[s]:2097151&c?(0,n.stringFromCodePoint)(2097151&c):""}isProtected(s){return 536870912&this._data[3*s+2]}loadCell(s,c){return v.startIndex=3*s,c.content=this._data[v.startIndex+0],c.fg=this._data[v.startIndex+1],c.bg=this._data[v.startIndex+2],2097152&c.content&&(c.combinedData=this._combined[s]),268435456&c.bg&&(c.extended=this._extendedAttrs[s]),c}setCell(s,c){2097152&c.content&&(this._combined[s]=c.combinedData),268435456&c.bg&&(this._extendedAttrs[s]=c.extended),this._data[3*s+0]=c.content,this._data[3*s+1]=c.fg,this._data[3*s+2]=c.bg}setCellFromCodePoint(s,c,a,d,m,w){268435456&m&&(this._extendedAttrs[s]=w),this._data[3*s+0]=c|a<<22,this._data[3*s+1]=d,this._data[3*s+2]=m}addCodepointToCell(s,c){let a=this._data[3*s+0];2097152&a?this._combined[s]+=(0,n.stringFromCodePoint)(c):(2097151&a?(this._combined[s]=(0,n.stringFromCodePoint)(2097151&a)+(0,n.stringFromCodePoint)(c),a&=-2097152,a|=2097152):a=c|4194304,this._data[3*s+0]=a)}insertCells(s,c,a,d){if((s%=this.length)&&this.getWidth(s-1)===2&&this.setCellFromCodePoint(s-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new _.ExtendedAttrs),c<this.length-s){const m=new f.CellData;for(let w=this.length-s-c-1;w>=0;--w)this.setCell(s+c+w,this.loadCell(s+w,m));for(let w=0;w<c;++w)this.setCell(s+w,a)}else for(let m=s;m<this.length;++m)this.setCell(m,a);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new _.ExtendedAttrs)}deleteCells(s,c,a,d){if(s%=this.length,c<this.length-s){const m=new f.CellData;for(let w=0;w<this.length-s-c;++w)this.setCell(s+w,this.loadCell(s+c+w,m));for(let w=this.length-c;w<this.length;++w)this.setCell(w,a)}else for(let m=s;m<this.length;++m)this.setCell(m,a);s&&this.getWidth(s-1)===2&&this.setCellFromCodePoint(s-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new _.ExtendedAttrs),this.getWidth(s)!==0||this.hasContent(s)||this.setCellFromCodePoint(s,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new _.ExtendedAttrs)}replaceCells(s,c,a,d,m=!1){if(m)for(s&&this.getWidth(s-1)===2&&!this.isProtected(s-1)&&this.setCellFromCodePoint(s-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new _.ExtendedAttrs),c<this.length&&this.getWidth(c-1)===2&&!this.isProtected(c)&&this.setCellFromCodePoint(c,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new _.ExtendedAttrs);s<c&&s<this.length;)this.isProtected(s)||this.setCell(s,a),s++;else for(s&&this.getWidth(s-1)===2&&this.setCellFromCodePoint(s-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new _.ExtendedAttrs),c<this.length&&this.getWidth(c-1)===2&&this.setCellFromCodePoint(c,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new _.ExtendedAttrs);s<c&&s<this.length;)this.setCell(s++,a)}resize(s,c){if(s!==this.length){if(s>this.length){const a=new Uint32Array(3*s);this.length&&(3*s<this._data.length?a.set(this._data.subarray(0,3*s)):a.set(this._data)),this._data=a;for(let d=this.length;d<s;++d)this.setCell(d,c)}else if(s){const a=new Uint32Array(3*s);a.set(this._data.subarray(0,3*s)),this._data=a;const d=Object.keys(this._combined);for(let m=0;m<d.length;m++){const w=parseInt(d[m],10);w>=s&&delete this._combined[w]}}else this._data=new Uint32Array(0),this._combined={};this.length=s}}fill(s,c=!1){if(c)for(let a=0;a<this.length;++a)this.isProtected(a)||this.setCell(a,s);else{this._combined={},this._extendedAttrs={};for(let a=0;a<this.length;++a)this.setCell(a,s)}}copyFrom(s){this.length!==s.length?this._data=new Uint32Array(s._data):this._data.set(s._data),this.length=s.length,this._combined={};for(const c in s._combined)this._combined[c]=s._combined[c];this._extendedAttrs={};for(const c in s._extendedAttrs)this._extendedAttrs[c]=s._extendedAttrs[c];this.isWrapped=s.isWrapped}clone(){const s=new g(0);s._data=new Uint32Array(this._data),s.length=this.length;for(const c in this._combined)s._combined[c]=this._combined[c];for(const c in this._extendedAttrs)s._extendedAttrs[c]=this._extendedAttrs[c];return s.isWrapped=this.isWrapped,s}getTrimmedLength(){for(let s=this.length-1;s>=0;--s)if(4194303&this._data[3*s+0])return s+(this._data[3*s+0]>>22);return 0}copyCellsFrom(s,c,a,d,m){const w=s._data;if(m)for(let k=d-1;k>=0;k--){for(let C=0;C<3;C++)this._data[3*(a+k)+C]=w[3*(c+k)+C];268435456&w[3*(c+k)+2]&&(this._extendedAttrs[a+k]=s._extendedAttrs[c+k])}else for(let k=0;k<d;k++){for(let C=0;C<3;C++)this._data[3*(a+k)+C]=w[3*(c+k)+C];268435456&w[3*(c+k)+2]&&(this._extendedAttrs[a+k]=s._extendedAttrs[c+k])}const S=Object.keys(s._combined);for(let k=0;k<S.length;k++){const C=parseInt(S[k],10);C>=c&&(this._combined[C-c+a]=s._combined[C])}}translateToString(s=!1,c=0,a=this.length){s&&(a=Math.min(a,this.getTrimmedLength()));let d="";for(;c<a;){const m=this._data[3*c+0],w=2097151&m;d+=2097152&m?this._combined[c]:w?(0,n.stringFromCodePoint)(w):u.WHITESPACE_CELL_CHAR,c+=m>>22||1}return d}}i.BufferLine=g},4841:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getRangeLength=void 0,i.getRangeLength=function(o,n){if(o.start.y>o.end.y)throw new Error(`Buffer range end (${o.end.x}, ${o.end.y}) cannot be before start (${o.start.x}, ${o.start.y})`);return n*(o.end.y-o.start.y)+(o.end.x-o.start.x+1)}},4634:(b,i)=>{function o(n,u,f){if(u===n.length-1)return n[u].getTrimmedLength();const _=!n[u].hasContent(f-1)&&n[u].getWidth(f-1)===1,v=n[u+1].getWidth(0)===2;return _&&v?f-1:f}Object.defineProperty(i,"__esModule",{value:!0}),i.getWrappedLineTrimmedLength=i.reflowSmallerGetNewLineLengths=i.reflowLargerApplyNewLayout=i.reflowLargerCreateNewLayout=i.reflowLargerGetLinesToRemove=void 0,i.reflowLargerGetLinesToRemove=function(n,u,f,_,v){const g=[];for(let p=0;p<n.length-1;p++){let s=p,c=n.get(++s);if(!c.isWrapped)continue;const a=[n.get(p)];for(;s<n.length&&c.isWrapped;)a.push(c),c=n.get(++s);if(_>=p&&_<s){p+=a.length-1;continue}let d=0,m=o(a,d,u),w=1,S=0;for(;w<a.length;){const C=o(a,w,u),E=C-S,D=f-m,P=Math.min(E,D);a[d].copyCellsFrom(a[w],S,m,P,!1),m+=P,m===f&&(d++,m=0),S+=P,S===C&&(w++,S=0),m===0&&d!==0&&a[d-1].getWidth(f-1)===2&&(a[d].copyCellsFrom(a[d-1],f-1,m++,1,!1),a[d-1].setCell(f-1,v))}a[d].replaceCells(m,f,v);let k=0;for(let C=a.length-1;C>0&&(C>d||a[C].getTrimmedLength()===0);C--)k++;k>0&&(g.push(p+a.length-k),g.push(k)),p+=a.length-1}return g},i.reflowLargerCreateNewLayout=function(n,u){const f=[];let _=0,v=u[_],g=0;for(let p=0;p<n.length;p++)if(v===p){const s=u[++_];n.onDeleteEmitter.fire({index:p-g,amount:s}),p+=s-1,g+=s,v=u[++_]}else f.push(p);return{layout:f,countRemoved:g}},i.reflowLargerApplyNewLayout=function(n,u){const f=[];for(let _=0;_<u.length;_++)f.push(n.get(u[_]));for(let _=0;_<f.length;_++)n.set(_,f[_]);n.length=u.length},i.reflowSmallerGetNewLineLengths=function(n,u,f){const _=[],v=n.map((c,a)=>o(n,a,u)).reduce((c,a)=>c+a);let g=0,p=0,s=0;for(;s<v;){if(v-s<f){_.push(v-s);break}g+=f;const c=o(n,p,u);g>c&&(g-=c,p++);const a=n[p].getWidth(g-1)===2;a&&g--;const d=a?f-1:f;_.push(d),s+=d}return _},i.getWrappedLineTrimmedLength=o},5295:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferSet=void 0;const n=o(9092),u=o(8460),f=o(844);class _ extends f.Disposable{constructor(g,p){super(),this._optionsService=g,this._bufferService=p,this._onBufferActivate=this.register(new u.EventEmitter),this.reset()}get onBufferActivate(){return this._onBufferActivate.event}reset(){this._normal=new n.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new n.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(g){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(g),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(g,p){this._normal.resize(g,p),this._alt.resize(g,p)}setupTabStops(g){this._normal.setupTabStops(g),this._alt.setupTabStops(g)}}i.BufferSet=_},511:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CellData=void 0;const n=o(482),u=o(643),f=o(3734);class _ extends f.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new f.ExtendedAttrs,this.combinedData=""}static fromCharData(g){const p=new _;return p.setFromCharData(g),p}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,n.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(g){this.fg=g[u.CHAR_DATA_ATTR_INDEX],this.bg=0;let p=!1;if(g[u.CHAR_DATA_CHAR_INDEX].length>2)p=!0;else if(g[u.CHAR_DATA_CHAR_INDEX].length===2){const s=g[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=s&&s<=56319){const c=g[u.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=c&&c<=57343?this.content=1024*(s-55296)+c-56320+65536|g[u.CHAR_DATA_WIDTH_INDEX]<<22:p=!0}else p=!0}else this.content=g[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|g[u.CHAR_DATA_WIDTH_INDEX]<<22;p&&(this.combinedData=g[u.CHAR_DATA_CHAR_INDEX],this.content=2097152|g[u.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}i.CellData=_},643:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WHITESPACE_CELL_CODE=i.WHITESPACE_CELL_WIDTH=i.WHITESPACE_CELL_CHAR=i.NULL_CELL_CODE=i.NULL_CELL_WIDTH=i.NULL_CELL_CHAR=i.CHAR_DATA_CODE_INDEX=i.CHAR_DATA_WIDTH_INDEX=i.CHAR_DATA_CHAR_INDEX=i.CHAR_DATA_ATTR_INDEX=i.DEFAULT_EXT=i.DEFAULT_ATTR=i.DEFAULT_COLOR=void 0,i.DEFAULT_COLOR=256,i.DEFAULT_ATTR=256|i.DEFAULT_COLOR<<9,i.DEFAULT_EXT=0,i.CHAR_DATA_ATTR_INDEX=0,i.CHAR_DATA_CHAR_INDEX=1,i.CHAR_DATA_WIDTH_INDEX=2,i.CHAR_DATA_CODE_INDEX=3,i.NULL_CELL_CHAR="",i.NULL_CELL_WIDTH=1,i.NULL_CELL_CODE=0,i.WHITESPACE_CELL_CHAR=" ",i.WHITESPACE_CELL_WIDTH=1,i.WHITESPACE_CELL_CODE=32},4863:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Marker=void 0;const n=o(8460),u=o(844);class f extends u.Disposable{constructor(v){super(),this.line=v,this._id=f._nextId++,this.isDisposed=!1,this._onDispose=new n.EventEmitter}get id(){return this._id}get onDispose(){return this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),super.dispose())}}i.Marker=f,f._nextId=1},7116:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_CHARSET=i.CHARSETS=void 0,i.CHARSETS={},i.DEFAULT_CHARSET=i.CHARSETS.B,i.CHARSETS[0]={"`":"\u25C6",a:"\u2592",b:"\u2409",c:"\u240C",d:"\u240D",e:"\u240A",f:"\xB0",g:"\xB1",h:"\u2424",i:"\u240B",j:"\u2518",k:"\u2510",l:"\u250C",m:"\u2514",n:"\u253C",o:"\u23BA",p:"\u23BB",q:"\u2500",r:"\u23BC",s:"\u23BD",t:"\u251C",u:"\u2524",v:"\u2534",w:"\u252C",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03C0","|":"\u2260","}":"\xA3","~":"\xB7"},i.CHARSETS.A={"#":"\xA3"},i.CHARSETS.B=void 0,i.CHARSETS[4]={"#":"\xA3","@":"\xBE","[":"ij","\\":"\xBD","]":"|","{":"\xA8","|":"f","}":"\xBC","~":"\xB4"},i.CHARSETS.C=i.CHARSETS[5]={"[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},i.CHARSETS.R={"#":"\xA3","@":"\xE0","[":"\xB0","\\":"\xE7","]":"\xA7","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xA8"},i.CHARSETS.Q={"@":"\xE0","[":"\xE2","\\":"\xE7","]":"\xEA","^":"\xEE","`":"\xF4","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xFB"},i.CHARSETS.K={"@":"\xA7","[":"\xC4","\\":"\xD6","]":"\xDC","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xDF"},i.CHARSETS.Y={"#":"\xA3","@":"\xA7","[":"\xB0","\\":"\xE7","]":"\xE9","`":"\xF9","{":"\xE0","|":"\xF2","}":"\xE8","~":"\xEC"},i.CHARSETS.E=i.CHARSETS[6]={"@":"\xC4","[":"\xC6","\\":"\xD8","]":"\xC5","^":"\xDC","`":"\xE4","{":"\xE6","|":"\xF8","}":"\xE5","~":"\xFC"},i.CHARSETS.Z={"#":"\xA3","@":"\xA7","[":"\xA1","\\":"\xD1","]":"\xBF","{":"\xB0","|":"\xF1","}":"\xE7"},i.CHARSETS.H=i.CHARSETS[7]={"@":"\xC9","[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},i.CHARSETS["="]={"#":"\xF9","@":"\xE0","[":"\xE9","\\":"\xE7","]":"\xEA","^":"\xEE",_:"\xE8","`":"\xF4","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xFB"}},2584:(b,i)=>{var o,n;Object.defineProperty(i,"__esModule",{value:!0}),i.C1_ESCAPED=i.C1=i.C0=void 0,function(u){u.NUL="\0",u.SOH="",u.STX="",u.ETX="",u.EOT="",u.ENQ="",u.ACK="",u.BEL="\x07",u.BS="\b",u.HT="	",u.LF=`
`,u.VT="\v",u.FF="\f",u.CR="\r",u.SO="",u.SI="",u.DLE="",u.DC1="",u.DC2="",u.DC3="",u.DC4="",u.NAK="",u.SYN="",u.ETB="",u.CAN="",u.EM="",u.SUB="",u.ESC="\x1B",u.FS="",u.GS="",u.RS="",u.US="",u.SP=" ",u.DEL="\x7F"}(o=i.C0||(i.C0={})),(n=i.C1||(i.C1={})).PAD="\x80",n.HOP="\x81",n.BPH="\x82",n.NBH="\x83",n.IND="\x84",n.NEL="\x85",n.SSA="\x86",n.ESA="\x87",n.HTS="\x88",n.HTJ="\x89",n.VTS="\x8A",n.PLD="\x8B",n.PLU="\x8C",n.RI="\x8D",n.SS2="\x8E",n.SS3="\x8F",n.DCS="\x90",n.PU1="\x91",n.PU2="\x92",n.STS="\x93",n.CCH="\x94",n.MW="\x95",n.SPA="\x96",n.EPA="\x97",n.SOS="\x98",n.SGCI="\x99",n.SCI="\x9A",n.CSI="\x9B",n.ST="\x9C",n.OSC="\x9D",n.PM="\x9E",n.APC="\x9F",(i.C1_ESCAPED||(i.C1_ESCAPED={})).ST=`${o.ESC}\\`},7399:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.evaluateKeyboardEvent=void 0;const n=o(2584),u={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};i.evaluateKeyboardEvent=function(f,_,v,g){const p={type:0,cancel:!1,key:void 0},s=(f.shiftKey?1:0)|(f.altKey?2:0)|(f.ctrlKey?4:0)|(f.metaKey?8:0);switch(f.keyCode){case 0:f.key==="UIKeyInputUpArrow"?p.key=_?n.C0.ESC+"OA":n.C0.ESC+"[A":f.key==="UIKeyInputLeftArrow"?p.key=_?n.C0.ESC+"OD":n.C0.ESC+"[D":f.key==="UIKeyInputRightArrow"?p.key=_?n.C0.ESC+"OC":n.C0.ESC+"[C":f.key==="UIKeyInputDownArrow"&&(p.key=_?n.C0.ESC+"OB":n.C0.ESC+"[B");break;case 8:if(f.altKey){p.key=n.C0.ESC+n.C0.DEL;break}p.key=n.C0.DEL;break;case 9:if(f.shiftKey){p.key=n.C0.ESC+"[Z";break}p.key=n.C0.HT,p.cancel=!0;break;case 13:p.key=f.altKey?n.C0.ESC+n.C0.CR:n.C0.CR,p.cancel=!0;break;case 27:p.key=n.C0.ESC,f.altKey&&(p.key=n.C0.ESC+n.C0.ESC),p.cancel=!0;break;case 37:if(f.metaKey)break;s?(p.key=n.C0.ESC+"[1;"+(s+1)+"D",p.key===n.C0.ESC+"[1;3D"&&(p.key=n.C0.ESC+(v?"b":"[1;5D"))):p.key=_?n.C0.ESC+"OD":n.C0.ESC+"[D";break;case 39:if(f.metaKey)break;s?(p.key=n.C0.ESC+"[1;"+(s+1)+"C",p.key===n.C0.ESC+"[1;3C"&&(p.key=n.C0.ESC+(v?"f":"[1;5C"))):p.key=_?n.C0.ESC+"OC":n.C0.ESC+"[C";break;case 38:if(f.metaKey)break;s?(p.key=n.C0.ESC+"[1;"+(s+1)+"A",v||p.key!==n.C0.ESC+"[1;3A"||(p.key=n.C0.ESC+"[1;5A")):p.key=_?n.C0.ESC+"OA":n.C0.ESC+"[A";break;case 40:if(f.metaKey)break;s?(p.key=n.C0.ESC+"[1;"+(s+1)+"B",v||p.key!==n.C0.ESC+"[1;3B"||(p.key=n.C0.ESC+"[1;5B")):p.key=_?n.C0.ESC+"OB":n.C0.ESC+"[B";break;case 45:f.shiftKey||f.ctrlKey||(p.key=n.C0.ESC+"[2~");break;case 46:p.key=s?n.C0.ESC+"[3;"+(s+1)+"~":n.C0.ESC+"[3~";break;case 36:p.key=s?n.C0.ESC+"[1;"+(s+1)+"H":_?n.C0.ESC+"OH":n.C0.ESC+"[H";break;case 35:p.key=s?n.C0.ESC+"[1;"+(s+1)+"F":_?n.C0.ESC+"OF":n.C0.ESC+"[F";break;case 33:f.shiftKey?p.type=2:f.ctrlKey?p.key=n.C0.ESC+"[5;"+(s+1)+"~":p.key=n.C0.ESC+"[5~";break;case 34:f.shiftKey?p.type=3:f.ctrlKey?p.key=n.C0.ESC+"[6;"+(s+1)+"~":p.key=n.C0.ESC+"[6~";break;case 112:p.key=s?n.C0.ESC+"[1;"+(s+1)+"P":n.C0.ESC+"OP";break;case 113:p.key=s?n.C0.ESC+"[1;"+(s+1)+"Q":n.C0.ESC+"OQ";break;case 114:p.key=s?n.C0.ESC+"[1;"+(s+1)+"R":n.C0.ESC+"OR";break;case 115:p.key=s?n.C0.ESC+"[1;"+(s+1)+"S":n.C0.ESC+"OS";break;case 116:p.key=s?n.C0.ESC+"[15;"+(s+1)+"~":n.C0.ESC+"[15~";break;case 117:p.key=s?n.C0.ESC+"[17;"+(s+1)+"~":n.C0.ESC+"[17~";break;case 118:p.key=s?n.C0.ESC+"[18;"+(s+1)+"~":n.C0.ESC+"[18~";break;case 119:p.key=s?n.C0.ESC+"[19;"+(s+1)+"~":n.C0.ESC+"[19~";break;case 120:p.key=s?n.C0.ESC+"[20;"+(s+1)+"~":n.C0.ESC+"[20~";break;case 121:p.key=s?n.C0.ESC+"[21;"+(s+1)+"~":n.C0.ESC+"[21~";break;case 122:p.key=s?n.C0.ESC+"[23;"+(s+1)+"~":n.C0.ESC+"[23~";break;case 123:p.key=s?n.C0.ESC+"[24;"+(s+1)+"~":n.C0.ESC+"[24~";break;default:if(!f.ctrlKey||f.shiftKey||f.altKey||f.metaKey)if(v&&!g||!f.altKey||f.metaKey)!v||f.altKey||f.ctrlKey||f.shiftKey||!f.metaKey?f.key&&!f.ctrlKey&&!f.altKey&&!f.metaKey&&f.keyCode>=48&&f.key.length===1?p.key=f.key:f.key&&f.ctrlKey&&(f.key==="_"&&(p.key=n.C0.US),f.key==="@"&&(p.key=n.C0.NUL)):f.keyCode===65&&(p.type=1);else{const c=u[f.keyCode],a=c==null?void 0:c[f.shiftKey?1:0];if(a)p.key=n.C0.ESC+a;else if(f.keyCode>=65&&f.keyCode<=90){const d=f.ctrlKey?f.keyCode-64:f.keyCode+32;let m=String.fromCharCode(d);f.shiftKey&&(m=m.toUpperCase()),p.key=n.C0.ESC+m}else if(f.key==="Dead"&&f.code.startsWith("Key")){let d=f.code.slice(3,4);f.shiftKey||(d=d.toLowerCase()),p.key=n.C0.ESC+d,p.cancel=!0}}else f.keyCode>=65&&f.keyCode<=90?p.key=String.fromCharCode(f.keyCode-64):f.keyCode===32?p.key=n.C0.NUL:f.keyCode>=51&&f.keyCode<=55?p.key=String.fromCharCode(f.keyCode-51+27):f.keyCode===56?p.key=n.C0.DEL:f.keyCode===219?p.key=n.C0.ESC:f.keyCode===220?p.key=n.C0.FS:f.keyCode===221&&(p.key=n.C0.GS)}return p}},482:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Utf8ToUtf32=i.StringToUtf32=i.utf32ToString=i.stringFromCodePoint=void 0,i.stringFromCodePoint=function(o){return o>65535?(o-=65536,String.fromCharCode(55296+(o>>10))+String.fromCharCode(o%1024+56320)):String.fromCharCode(o)},i.utf32ToString=function(o,n=0,u=o.length){let f="";for(let _=n;_<u;++_){let v=o[_];v>65535?(v-=65536,f+=String.fromCharCode(55296+(v>>10))+String.fromCharCode(v%1024+56320)):f+=String.fromCharCode(v)}return f},i.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(o,n){const u=o.length;if(!u)return 0;let f=0,_=0;if(this._interim){const v=o.charCodeAt(_++);56320<=v&&v<=57343?n[f++]=1024*(this._interim-55296)+v-56320+65536:(n[f++]=this._interim,n[f++]=v),this._interim=0}for(let v=_;v<u;++v){const g=o.charCodeAt(v);if(55296<=g&&g<=56319){if(++v>=u)return this._interim=g,f;const p=o.charCodeAt(v);56320<=p&&p<=57343?n[f++]=1024*(g-55296)+p-56320+65536:(n[f++]=g,n[f++]=p)}else g!==65279&&(n[f++]=g)}return f}},i.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(o,n){const u=o.length;if(!u)return 0;let f,_,v,g,p=0,s=0,c=0;if(this.interim[0]){let m=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let S,k=0;for(;(S=63&this.interim[++k])&&k<4;)w<<=6,w|=S;const C=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,E=C-k;for(;c<E;){if(c>=u)return 0;if(S=o[c++],(192&S)!=128){c--,m=!0;break}this.interim[k++]=S,w<<=6,w|=63&S}m||(C===2?w<128?c--:n[p++]=w:C===3?w<2048||w>=55296&&w<=57343||w===65279||(n[p++]=w):w<65536||w>1114111||(n[p++]=w)),this.interim.fill(0)}const a=u-4;let d=c;for(;d<u;){for(;!(!(d<a)||128&(f=o[d])||128&(_=o[d+1])||128&(v=o[d+2])||128&(g=o[d+3]));)n[p++]=f,n[p++]=_,n[p++]=v,n[p++]=g,d+=4;if(f=o[d++],f<128)n[p++]=f;else if((224&f)==192){if(d>=u)return this.interim[0]=f,p;if(_=o[d++],(192&_)!=128){d--;continue}if(s=(31&f)<<6|63&_,s<128){d--;continue}n[p++]=s}else if((240&f)==224){if(d>=u)return this.interim[0]=f,p;if(_=o[d++],(192&_)!=128){d--;continue}if(d>=u)return this.interim[0]=f,this.interim[1]=_,p;if(v=o[d++],(192&v)!=128){d--;continue}if(s=(15&f)<<12|(63&_)<<6|63&v,s<2048||s>=55296&&s<=57343||s===65279)continue;n[p++]=s}else if((248&f)==240){if(d>=u)return this.interim[0]=f,p;if(_=o[d++],(192&_)!=128){d--;continue}if(d>=u)return this.interim[0]=f,this.interim[1]=_,p;if(v=o[d++],(192&v)!=128){d--;continue}if(d>=u)return this.interim[0]=f,this.interim[1]=_,this.interim[2]=v,p;if(g=o[d++],(192&g)!=128){d--;continue}if(s=(7&f)<<18|(63&_)<<12|(63&v)<<6|63&g,s<65536||s>1114111)continue;n[p++]=s}}return p}}},225:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeV6=void 0;const n=o(8273),u=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],f=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let _;i.UnicodeV6=class{constructor(){if(this.version="6",!_){_=new Uint8Array(65536),(0,n.fill)(_,1),_[0]=0,(0,n.fill)(_,0,1,32),(0,n.fill)(_,0,127,160),(0,n.fill)(_,2,4352,4448),_[9001]=2,_[9002]=2,(0,n.fill)(_,2,11904,42192),_[12351]=1,(0,n.fill)(_,2,44032,55204),(0,n.fill)(_,2,63744,64256),(0,n.fill)(_,2,65040,65050),(0,n.fill)(_,2,65072,65136),(0,n.fill)(_,2,65280,65377),(0,n.fill)(_,2,65504,65511);for(let v=0;v<u.length;++v)(0,n.fill)(_,0,u[v][0],u[v][1]+1)}}wcwidth(v){return v<32?0:v<127?1:v<65536?_[v]:function(g,p){let s,c=0,a=p.length-1;if(g<p[0][0]||g>p[a][1])return!1;for(;a>=c;)if(s=c+a>>1,g>p[s][1])c=s+1;else{if(!(g<p[s][0]))return!0;a=s-1}return!1}(v,f)?0:v>=131072&&v<=196605||v>=196608&&v<=262141?2:1}}},5981:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WriteBuffer=void 0;const n=o(8460),u=typeof queueMicrotask>"u"?f=>{Promise.resolve().then(f)}:queueMicrotask;i.WriteBuffer=class{constructor(f){this._action=f,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._onWriteParsed=new n.EventEmitter}get onWriteParsed(){return this._onWriteParsed.event}writeSync(f,_){if(_!==void 0&&this._syncCalls>_)return void(this._syncCalls=0);if(this._pendingData+=f.length,this._writeBuffer.push(f),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let v;for(this._isSyncWriting=!0;v=this._writeBuffer.shift();){this._action(v);const g=this._callbacks.shift();g&&g()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(f,_){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout(()=>this._innerWrite())),this._pendingData+=f.length,this._writeBuffer.push(f),this._callbacks.push(_)}_innerWrite(f=0,_=!0){const v=f||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const g=this._writeBuffer[this._bufferOffset],p=this._action(g,_);if(p){const c=a=>Date.now()-v>=12?setTimeout(()=>this._innerWrite(0,a)):this._innerWrite(v,a);return void p.catch(a=>(u(()=>{throw a}),Promise.resolve(!1))).then(c)}const s=this._callbacks[this._bufferOffset];if(s&&s(),this._bufferOffset++,this._pendingData-=g.length,Date.now()-v>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}},5941:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.toRgbString=i.parseColor=void 0;const o=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,n=/^[\da-f]+$/;function u(f,_){const v=f.toString(16),g=v.length<2?"0"+v:v;switch(_){case 4:return v[0];case 8:return g;case 12:return(g+g).slice(0,3);default:return g+g}}i.parseColor=function(f){if(!f)return;let _=f.toLowerCase();if(_.indexOf("rgb:")===0){_=_.slice(4);const v=o.exec(_);if(v){const g=v[1]?15:v[4]?255:v[7]?4095:65535;return[Math.round(parseInt(v[1]||v[4]||v[7]||v[10],16)/g*255),Math.round(parseInt(v[2]||v[5]||v[8]||v[11],16)/g*255),Math.round(parseInt(v[3]||v[6]||v[9]||v[12],16)/g*255)]}}else if(_.indexOf("#")===0&&(_=_.slice(1),n.exec(_)&&[3,6,9,12].includes(_.length))){const v=_.length/3,g=[0,0,0];for(let p=0;p<3;++p){const s=parseInt(_.slice(v*p,v*p+v),16);g[p]=v===1?s<<4:v===2?s:v===3?s>>4:s>>8}return g}},i.toRgbString=function(f,_=16){const[v,g,p]=f;return`rgb:${u(v,_)}/${u(g,_)}/${u(p,_)}`}},5770:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PAYLOAD_LIMIT=void 0,i.PAYLOAD_LIMIT=1e7},6351:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DcsHandler=i.DcsParser=void 0;const n=o(482),u=o(8742),f=o(5770),_=[];i.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=_,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=_}registerHandler(g,p){this._handlers[g]===void 0&&(this._handlers[g]=[]);const s=this._handlers[g];return s.push(p),{dispose:()=>{const c=s.indexOf(p);c!==-1&&s.splice(c,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}reset(){if(this._active.length)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].unhook(!1);this._stack.paused=!1,this._active=_,this._ident=0}hook(g,p){if(this.reset(),this._ident=g,this._active=this._handlers[g]||_,this._active.length)for(let s=this._active.length-1;s>=0;s--)this._active[s].hook(p);else this._handlerFb(this._ident,"HOOK",p)}put(g,p,s){if(this._active.length)for(let c=this._active.length-1;c>=0;c--)this._active[c].put(g,p,s);else this._handlerFb(this._ident,"PUT",(0,n.utf32ToString)(g,p,s))}unhook(g,p=!0){if(this._active.length){let s=!1,c=this._active.length-1,a=!1;if(this._stack.paused&&(c=this._stack.loopPosition-1,s=p,a=this._stack.fallThrough,this._stack.paused=!1),!a&&s===!1){for(;c>=0&&(s=this._active[c].unhook(g),s!==!0);c--)if(s instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=c,this._stack.fallThrough=!1,s;c--}for(;c>=0;c--)if(s=this._active[c].unhook(!1),s instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=c,this._stack.fallThrough=!0,s}else this._handlerFb(this._ident,"UNHOOK",g);this._active=_,this._ident=0}};const v=new u.Params;v.addParam(0),i.DcsHandler=class{constructor(g){this._handler=g,this._data="",this._params=v,this._hitLimit=!1}hook(g){this._params=g.length>1||g.params[0]?g.clone():v,this._data="",this._hitLimit=!1}put(g,p,s){this._hitLimit||(this._data+=(0,n.utf32ToString)(g,p,s),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(g){let p=!1;if(this._hitLimit)p=!1;else if(g&&(p=this._handler(this._data,this._params),p instanceof Promise))return p.then(s=>(this._params=v,this._data="",this._hitLimit=!1,s));return this._params=v,this._data="",this._hitLimit=!1,p}}},2015:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.EscapeSequenceParser=i.VT500_TRANSITION_TABLE=i.TransitionTable=void 0;const n=o(844),u=o(8273),f=o(8742),_=o(6242),v=o(6351);class g{constructor(a){this.table=new Uint8Array(a)}setDefault(a,d){(0,u.fill)(this.table,a<<4|d)}add(a,d,m,w){this.table[d<<8|a]=m<<4|w}addMany(a,d,m,w){for(let S=0;S<a.length;S++)this.table[d<<8|a[S]]=m<<4|w}}i.TransitionTable=g;const p=160;i.VT500_TRANSITION_TABLE=function(){const c=new g(4095),a=Array.apply(null,Array(256)).map((C,E)=>E),d=(C,E)=>a.slice(C,E),m=d(32,127),w=d(0,24);w.push(25),w.push.apply(w,d(28,32));const S=d(0,14);let k;for(k in c.setDefault(1,0),c.addMany(m,0,2,0),S)c.addMany([24,26,153,154],k,3,0),c.addMany(d(128,144),k,3,0),c.addMany(d(144,152),k,3,0),c.add(156,k,0,0),c.add(27,k,11,1),c.add(157,k,4,8),c.addMany([152,158,159],k,0,7),c.add(155,k,11,3),c.add(144,k,11,9);return c.addMany(w,0,3,0),c.addMany(w,1,3,1),c.add(127,1,0,1),c.addMany(w,8,0,8),c.addMany(w,3,3,3),c.add(127,3,0,3),c.addMany(w,4,3,4),c.add(127,4,0,4),c.addMany(w,6,3,6),c.addMany(w,5,3,5),c.add(127,5,0,5),c.addMany(w,2,3,2),c.add(127,2,0,2),c.add(93,1,4,8),c.addMany(m,8,5,8),c.add(127,8,5,8),c.addMany([156,27,24,26,7],8,6,0),c.addMany(d(28,32),8,0,8),c.addMany([88,94,95],1,0,7),c.addMany(m,7,0,7),c.addMany(w,7,0,7),c.add(156,7,0,0),c.add(127,7,0,7),c.add(91,1,11,3),c.addMany(d(64,127),3,7,0),c.addMany(d(48,60),3,8,4),c.addMany([60,61,62,63],3,9,4),c.addMany(d(48,60),4,8,4),c.addMany(d(64,127),4,7,0),c.addMany([60,61,62,63],4,0,6),c.addMany(d(32,64),6,0,6),c.add(127,6,0,6),c.addMany(d(64,127),6,0,0),c.addMany(d(32,48),3,9,5),c.addMany(d(32,48),5,9,5),c.addMany(d(48,64),5,0,6),c.addMany(d(64,127),5,7,0),c.addMany(d(32,48),4,9,5),c.addMany(d(32,48),1,9,2),c.addMany(d(32,48),2,9,2),c.addMany(d(48,127),2,10,0),c.addMany(d(48,80),1,10,0),c.addMany(d(81,88),1,10,0),c.addMany([89,90,92],1,10,0),c.addMany(d(96,127),1,10,0),c.add(80,1,11,9),c.addMany(w,9,0,9),c.add(127,9,0,9),c.addMany(d(28,32),9,0,9),c.addMany(d(32,48),9,9,12),c.addMany(d(48,60),9,8,10),c.addMany([60,61,62,63],9,9,10),c.addMany(w,11,0,11),c.addMany(d(32,128),11,0,11),c.addMany(d(28,32),11,0,11),c.addMany(w,10,0,10),c.add(127,10,0,10),c.addMany(d(28,32),10,0,10),c.addMany(d(48,60),10,8,10),c.addMany([60,61,62,63],10,0,11),c.addMany(d(32,48),10,9,12),c.addMany(w,12,0,12),c.add(127,12,0,12),c.addMany(d(28,32),12,0,12),c.addMany(d(32,48),12,9,12),c.addMany(d(48,64),12,0,11),c.addMany(d(64,127),12,12,13),c.addMany(d(64,127),10,12,13),c.addMany(d(64,127),9,12,13),c.addMany(w,13,13,13),c.addMany(m,13,13,13),c.add(127,13,0,13),c.addMany([27,156,24,26],13,14,0),c.add(p,0,2,0),c.add(p,8,5,8),c.add(p,6,0,6),c.add(p,11,0,11),c.add(p,13,13,13),c}();class s extends n.Disposable{constructor(a=i.VT500_TRANSITION_TABLE){super(),this._transitions=a,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new f.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(d,m,w)=>{},this._executeHandlerFb=d=>{},this._csiHandlerFb=(d,m)=>{},this._escHandlerFb=d=>{},this._errorHandlerFb=d=>d,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser=new _.OscParser,this._dcsParser=new v.DcsParser,this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(a,d=[64,126]){let m=0;if(a.prefix){if(a.prefix.length>1)throw new Error("only one byte as prefix supported");if(m=a.prefix.charCodeAt(0),m&&60>m||m>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(a.intermediates){if(a.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let S=0;S<a.intermediates.length;++S){const k=a.intermediates.charCodeAt(S);if(32>k||k>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");m<<=8,m|=k}}if(a.final.length!==1)throw new Error("final must be a single byte");const w=a.final.charCodeAt(0);if(d[0]>w||w>d[1])throw new Error(`final must be in range ${d[0]} .. ${d[1]}`);return m<<=8,m|=w,m}identToString(a){const d=[];for(;a;)d.push(String.fromCharCode(255&a)),a>>=8;return d.reverse().join("")}dispose(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()}setPrintHandler(a){this._printHandler=a}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(a,d){const m=this._identifier(a,[48,126]);this._escHandlers[m]===void 0&&(this._escHandlers[m]=[]);const w=this._escHandlers[m];return w.push(d),{dispose:()=>{const S=w.indexOf(d);S!==-1&&w.splice(S,1)}}}clearEscHandler(a){this._escHandlers[this._identifier(a,[48,126])]&&delete this._escHandlers[this._identifier(a,[48,126])]}setEscHandlerFallback(a){this._escHandlerFb=a}setExecuteHandler(a,d){this._executeHandlers[a.charCodeAt(0)]=d}clearExecuteHandler(a){this._executeHandlers[a.charCodeAt(0)]&&delete this._executeHandlers[a.charCodeAt(0)]}setExecuteHandlerFallback(a){this._executeHandlerFb=a}registerCsiHandler(a,d){const m=this._identifier(a);this._csiHandlers[m]===void 0&&(this._csiHandlers[m]=[]);const w=this._csiHandlers[m];return w.push(d),{dispose:()=>{const S=w.indexOf(d);S!==-1&&w.splice(S,1)}}}clearCsiHandler(a){this._csiHandlers[this._identifier(a)]&&delete this._csiHandlers[this._identifier(a)]}setCsiHandlerFallback(a){this._csiHandlerFb=a}registerDcsHandler(a,d){return this._dcsParser.registerHandler(this._identifier(a),d)}clearDcsHandler(a){this._dcsParser.clearHandler(this._identifier(a))}setDcsHandlerFallback(a){this._dcsParser.setHandlerFallback(a)}registerOscHandler(a,d){return this._oscParser.registerHandler(a,d)}clearOscHandler(a){this._oscParser.clearHandler(a)}setOscHandlerFallback(a){this._oscParser.setHandlerFallback(a)}setErrorHandler(a){this._errorHandler=a}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(a,d,m,w,S){this._parseStack.state=a,this._parseStack.handlers=d,this._parseStack.handlerPos=m,this._parseStack.transition=w,this._parseStack.chunkPos=S}parse(a,d,m){let w,S=0,k=0,C=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,C=this._parseStack.chunkPos+1;else{if(m===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const E=this._parseStack.handlers;let D=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(m===!1&&D>-1){for(;D>=0&&(w=E[D](this._params),w!==!0);D--)if(w instanceof Promise)return this._parseStack.handlerPos=D,w}this._parseStack.handlers=[];break;case 4:if(m===!1&&D>-1){for(;D>=0&&(w=E[D](),w!==!0);D--)if(w instanceof Promise)return this._parseStack.handlerPos=D,w}this._parseStack.handlers=[];break;case 6:if(S=a[this._parseStack.chunkPos],w=this._dcsParser.unhook(S!==24&&S!==26,m),w)return w;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(S=a[this._parseStack.chunkPos],w=this._oscParser.end(S!==24&&S!==26,m),w)return w;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,C=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let E=C;E<d;++E){switch(S=a[E],k=this._transitions.table[this.currentState<<8|(S<160?S:p)],k>>4){case 2:for(let R=E+1;;++R){if(R>=d||(S=a[R])<32||S>126&&S<p){this._printHandler(a,E,R),E=R-1;break}if(++R>=d||(S=a[R])<32||S>126&&S<p){this._printHandler(a,E,R),E=R-1;break}if(++R>=d||(S=a[R])<32||S>126&&S<p){this._printHandler(a,E,R),E=R-1;break}if(++R>=d||(S=a[R])<32||S>126&&S<p){this._printHandler(a,E,R),E=R-1;break}}break;case 3:this._executeHandlers[S]?this._executeHandlers[S]():this._executeHandlerFb(S),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:E,code:S,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const D=this._csiHandlers[this._collect<<8|S];let P=D?D.length-1:-1;for(;P>=0&&(w=D[P](this._params),w!==!0);P--)if(w instanceof Promise)return this._preserveStack(3,D,P,k,E),w;P<0&&this._csiHandlerFb(this._collect<<8|S,this._params),this.precedingCodepoint=0;break;case 8:do switch(S){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(S-48)}while(++E<d&&(S=a[E])>47&&S<60);E--;break;case 9:this._collect<<=8,this._collect|=S;break;case 10:const B=this._escHandlers[this._collect<<8|S];let x=B?B.length-1:-1;for(;x>=0&&(w=B[x](),w!==!0);x--)if(w instanceof Promise)return this._preserveStack(4,B,x,k,E),w;x<0&&this._escHandlerFb(this._collect<<8|S),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|S,this._params);break;case 13:for(let R=E+1;;++R)if(R>=d||(S=a[R])===24||S===26||S===27||S>127&&S<p){this._dcsParser.put(a,E,R),E=R-1;break}break;case 14:if(w=this._dcsParser.unhook(S!==24&&S!==26),w)return this._preserveStack(6,[],0,k,E),w;S===27&&(k|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let R=E+1;;R++)if(R>=d||(S=a[R])<32||S>127&&S<p){this._oscParser.put(a,E,R),E=R-1;break}break;case 6:if(w=this._oscParser.end(S!==24&&S!==26),w)return this._preserveStack(5,[],0,k,E),w;S===27&&(k|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&k}}}i.EscapeSequenceParser=s},6242:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OscHandler=i.OscParser=void 0;const n=o(5770),u=o(482),f=[];i.OscParser=class{constructor(){this._state=0,this._active=f,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(_,v){this._handlers[_]===void 0&&(this._handlers[_]=[]);const g=this._handlers[_];return g.push(v),{dispose:()=>{const p=g.indexOf(v);p!==-1&&g.splice(p,1)}}}clearHandler(_){this._handlers[_]&&delete this._handlers[_]}setHandlerFallback(_){this._handlerFb=_}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=f}reset(){if(this._state===2)for(let _=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;_>=0;--_)this._active[_].end(!1);this._stack.paused=!1,this._active=f,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||f,this._active.length)for(let _=this._active.length-1;_>=0;_--)this._active[_].start();else this._handlerFb(this._id,"START")}_put(_,v,g){if(this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].put(_,v,g);else this._handlerFb(this._id,"PUT",(0,u.utf32ToString)(_,v,g))}start(){this.reset(),this._state=1}put(_,v,g){if(this._state!==3){if(this._state===1)for(;v<g;){const p=_[v++];if(p===59){this._state=2,this._start();break}if(p<48||57<p)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+p-48}this._state===2&&g-v>0&&this._put(_,v,g)}}end(_,v=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let g=!1,p=this._active.length-1,s=!1;if(this._stack.paused&&(p=this._stack.loopPosition-1,g=v,s=this._stack.fallThrough,this._stack.paused=!1),!s&&g===!1){for(;p>=0&&(g=this._active[p].end(_),g!==!0);p--)if(g instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!1,g;p--}for(;p>=0;p--)if(g=this._active[p].end(!1),g instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!0,g}else this._handlerFb(this._id,"END",_);this._active=f,this._id=-1,this._state=0}}},i.OscHandler=class{constructor(_){this._handler=_,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(_,v,g){this._hitLimit||(this._data+=(0,u.utf32ToString)(_,v,g),this._data.length>n.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(_){let v=!1;if(this._hitLimit)v=!1;else if(_&&(v=this._handler(this._data),v instanceof Promise))return v.then(g=>(this._data="",this._hitLimit=!1,g));return this._data="",this._hitLimit=!1,v}}},8742:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Params=void 0;const o=2147483647;class n{constructor(f=32,_=32){if(this.maxLength=f,this.maxSubParamsLength=_,_>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(f),this.length=0,this._subParams=new Int32Array(_),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(f),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(f){const _=new n;if(!f.length)return _;for(let v=Array.isArray(f[0])?1:0;v<f.length;++v){const g=f[v];if(Array.isArray(g))for(let p=0;p<g.length;++p)_.addSubParam(g[p]);else _.addParam(g)}return _}clone(){const f=new n(this.maxLength,this.maxSubParamsLength);return f.params.set(this.params),f.length=this.length,f._subParams.set(this._subParams),f._subParamsLength=this._subParamsLength,f._subParamsIdx.set(this._subParamsIdx),f._rejectDigits=this._rejectDigits,f._rejectSubDigits=this._rejectSubDigits,f._digitIsSub=this._digitIsSub,f}toArray(){const f=[];for(let _=0;_<this.length;++_){f.push(this.params[_]);const v=this._subParamsIdx[_]>>8,g=255&this._subParamsIdx[_];g-v>0&&f.push(Array.prototype.slice.call(this._subParams,v,g))}return f}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(f){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=f>o?o:f}}addSubParam(f){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=f>o?o:f,this._subParamsIdx[this.length-1]++}}hasSubParams(f){return(255&this._subParamsIdx[f])-(this._subParamsIdx[f]>>8)>0}getSubParams(f){const _=this._subParamsIdx[f]>>8,v=255&this._subParamsIdx[f];return v-_>0?this._subParams.subarray(_,v):null}getSubParamsAll(){const f={};for(let _=0;_<this.length;++_){const v=this._subParamsIdx[_]>>8,g=255&this._subParamsIdx[_];g-v>0&&(f[_]=this._subParams.slice(v,g))}return f}addDigit(f){let _;if(this._rejectDigits||!(_=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const v=this._digitIsSub?this._subParams:this.params,g=v[_-1];v[_-1]=~g?Math.min(10*g+f,o):f}}i.Params=n},5741:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AddonManager=void 0,i.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let o=this._addons.length-1;o>=0;o--)this._addons[o].instance.dispose()}loadAddon(o,n){const u={instance:n,dispose:n.dispose,isDisposed:!1};this._addons.push(u),n.dispose=()=>this._wrappedAddonDispose(u),n.activate(o)}_wrappedAddonDispose(o){if(o.isDisposed)return;let n=-1;for(let u=0;u<this._addons.length;u++)if(this._addons[u]===o){n=u;break}if(n===-1)throw new Error("Could not dispose an addon that has not been loaded");o.isDisposed=!0,o.dispose.apply(o.instance),this._addons.splice(n,1)}}},8771:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferApiView=void 0;const n=o(3785),u=o(511);i.BufferApiView=class{constructor(f,_){this._buffer=f,this.type=_}init(f){return this._buffer=f,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(f){const _=this._buffer.lines.get(f);if(_)return new n.BufferLineApiView(_)}getNullCell(){return new u.CellData}}},3785:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferLineApiView=void 0;const n=o(511);i.BufferLineApiView=class{constructor(u){this._line=u}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(u,f){if(!(u<0||u>=this._line.length))return f?(this._line.loadCell(u,f),f):this._line.loadCell(u,new n.CellData)}translateToString(u,f,_){return this._line.translateToString(u,f,_)}}},8285:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferNamespaceApi=void 0;const n=o(8771),u=o(8460);i.BufferNamespaceApi=class{constructor(f){this._core=f,this._onBufferChange=new u.EventEmitter,this._normal=new n.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new n.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get onBufferChange(){return this._onBufferChange.event}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ParserApi=void 0,i.ParserApi=class{constructor(o){this._core=o}registerCsiHandler(o,n){return this._core.registerCsiHandler(o,u=>n(u.toArray()))}addCsiHandler(o,n){return this.registerCsiHandler(o,n)}registerDcsHandler(o,n){return this._core.registerDcsHandler(o,(u,f)=>n(u,f.toArray()))}addDcsHandler(o,n){return this.registerDcsHandler(o,n)}registerEscHandler(o,n){return this._core.registerEscHandler(o,n)}addEscHandler(o,n){return this.registerEscHandler(o,n)}registerOscHandler(o,n){return this._core.registerOscHandler(o,n)}addOscHandler(o,n){return this.registerOscHandler(o,n)}}},7090:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeApi=void 0,i.UnicodeApi=class{constructor(o){this._core=o}register(o){this._core.unicodeService.register(o)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(o){this._core.unicodeService.activeVersion=o}}},744:function(b,i,o){var n=this&&this.__decorate||function(s,c,a,d){var m,w=arguments.length,S=w<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,a):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(s,c,a,d);else for(var k=s.length-1;k>=0;k--)(m=s[k])&&(S=(w<3?m(S):w>3?m(c,a,S):m(c,a))||S);return w>3&&S&&Object.defineProperty(c,a,S),S},u=this&&this.__param||function(s,c){return function(a,d){c(a,d,s)}};Object.defineProperty(i,"__esModule",{value:!0}),i.BufferService=i.MINIMUM_ROWS=i.MINIMUM_COLS=void 0;const f=o(2585),_=o(5295),v=o(8460),g=o(844);i.MINIMUM_COLS=2,i.MINIMUM_ROWS=1;let p=class extends g.Disposable{constructor(s){super(),this.isUserScrolling=!1,this._onResize=new v.EventEmitter,this._onScroll=new v.EventEmitter,this.cols=Math.max(s.rawOptions.cols||0,i.MINIMUM_COLS),this.rows=Math.max(s.rawOptions.rows||0,i.MINIMUM_ROWS),this.buffers=new _.BufferSet(s,this)}get onResize(){return this._onResize.event}get onScroll(){return this._onScroll.event}get buffer(){return this.buffers.active}dispose(){super.dispose(),this.buffers.dispose()}resize(s,c){this.cols=s,this.rows=c,this.buffers.resize(s,c),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:s,rows:c})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(s,c=!1){const a=this.buffer;let d;d=this._cachedBlankLine,d&&d.length===this.cols&&d.getFg(0)===s.fg&&d.getBg(0)===s.bg||(d=a.getBlankLine(s,c),this._cachedBlankLine=d),d.isWrapped=c;const m=a.ybase+a.scrollTop,w=a.ybase+a.scrollBottom;if(a.scrollTop===0){const S=a.lines.isFull;w===a.lines.length-1?S?a.lines.recycle().copyFrom(d):a.lines.push(d.clone()):a.lines.splice(w+1,0,d.clone()),S?this.isUserScrolling&&(a.ydisp=Math.max(a.ydisp-1,0)):(a.ybase++,this.isUserScrolling||a.ydisp++)}else{const S=w-m+1;a.lines.shiftElements(m+1,S-1,-1),a.lines.set(w,d.clone())}this.isUserScrolling||(a.ydisp=a.ybase),this._onScroll.fire(a.ydisp)}scrollLines(s,c,a){const d=this.buffer;if(s<0){if(d.ydisp===0)return;this.isUserScrolling=!0}else s+d.ydisp>=d.ybase&&(this.isUserScrolling=!1);const m=d.ydisp;d.ydisp=Math.max(Math.min(d.ydisp+s,d.ybase),0),m!==d.ydisp&&(c||this._onScroll.fire(d.ydisp))}scrollPages(s){this.scrollLines(s*(this.rows-1))}scrollToTop(){this.scrollLines(-this.buffer.ydisp)}scrollToBottom(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)}scrollToLine(s){const c=s-this.buffer.ydisp;c!==0&&this.scrollLines(c)}};p=n([u(0,f.IOptionsService)],p),i.BufferService=p},7994:(b,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CharsetService=void 0,i.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(o){this.glevel=o,this.charset=this._charsets[o]}setgCharset(o,n){this._charsets[o]=n,this.glevel===o&&(this.charset=n)}}},1753:function(b,i,o){var n=this&&this.__decorate||function(a,d,m,w){var S,k=arguments.length,C=k<3?d:w===null?w=Object.getOwnPropertyDescriptor(d,m):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(a,d,m,w);else for(var E=a.length-1;E>=0;E--)(S=a[E])&&(C=(k<3?S(C):k>3?S(d,m,C):S(d,m))||C);return k>3&&C&&Object.defineProperty(d,m,C),C},u=this&&this.__param||function(a,d){return function(m,w){d(m,w,a)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CoreMouseService=void 0;const f=o(2585),_=o(8460),v={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:a=>a.button!==4&&a.action===1&&(a.ctrl=!1,a.alt=!1,a.shift=!1,!0)},VT200:{events:19,restrict:a=>a.action!==32},DRAG:{events:23,restrict:a=>a.action!==32||a.button!==3},ANY:{events:31,restrict:a=>!0}};function g(a,d){let m=(a.ctrl?16:0)|(a.shift?4:0)|(a.alt?8:0);return a.button===4?(m|=64,m|=a.action):(m|=3&a.button,4&a.button&&(m|=64),8&a.button&&(m|=128),a.action===32?m|=32:a.action!==0||d||(m|=3)),m}const p=String.fromCharCode,s={DEFAULT:a=>{const d=[g(a,!1)+32,a.col+32,a.row+32];return d[0]>255||d[1]>255||d[2]>255?"":`\x1B[M${p(d[0])}${p(d[1])}${p(d[2])}`},SGR:a=>{const d=a.action===0&&a.button!==4?"m":"M";return`\x1B[<${g(a,!0)};${a.col};${a.row}${d}`},SGR_PIXELS:a=>{const d=a.action===0&&a.button!==4?"m":"M";return`\x1B[<${g(a,!0)};${a.x};${a.y}${d}`}};let c=class{constructor(a,d){this._bufferService=a,this._coreService=d,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new _.EventEmitter,this._lastEvent=null;for(const m of Object.keys(v))this.addProtocol(m,v[m]);for(const m of Object.keys(s))this.addEncoding(m,s[m]);this.reset()}addProtocol(a,d){this._protocols[a]=d}addEncoding(a,d){this._encodings[a]=d}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(a){if(!this._protocols[a])throw new Error(`unknown protocol "${a}"`);this._activeProtocol=a,this._onProtocolChange.fire(this._protocols[a].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(a){if(!this._encodings[a])throw new Error(`unknown encoding "${a}"`);this._activeEncoding=a}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}get onProtocolChange(){return this._onProtocolChange.event}triggerMouseEvent(a){if(a.col<0||a.col>=this._bufferService.cols||a.row<0||a.row>=this._bufferService.rows||a.button===4&&a.action===32||a.button===3&&a.action!==32||a.button!==4&&(a.action===2||a.action===3)||(a.col++,a.row++,a.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,a,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(a))return!1;const d=this._encodings[this._activeEncoding](a);return d&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(d):this._coreService.triggerDataEvent(d,!0)),this._lastEvent=a,!0}explainEvents(a){return{down:!!(1&a),up:!!(2&a),drag:!!(4&a),move:!!(8&a),wheel:!!(16&a)}}_equalEvents(a,d,m){if(m){if(a.x!==d.x||a.y!==d.y)return!1}else if(a.col!==d.col||a.row!==d.row)return!1;return a.button===d.button&&a.action===d.action&&a.ctrl===d.ctrl&&a.alt===d.alt&&a.shift===d.shift}};c=n([u(0,f.IBufferService),u(1,f.ICoreService)],c),i.CoreMouseService=c},6975:function(b,i,o){var n=this&&this.__decorate||function(a,d,m,w){var S,k=arguments.length,C=k<3?d:w===null?w=Object.getOwnPropertyDescriptor(d,m):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(a,d,m,w);else for(var E=a.length-1;E>=0;E--)(S=a[E])&&(C=(k<3?S(C):k>3?S(d,m,C):S(d,m))||C);return k>3&&C&&Object.defineProperty(d,m,C),C},u=this&&this.__param||function(a,d){return function(m,w){d(m,w,a)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CoreService=void 0;const f=o(2585),_=o(8460),v=o(1439),g=o(844),p=Object.freeze({insertMode:!1}),s=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let c=class extends g.Disposable{constructor(a,d,m,w){super(),this._bufferService=d,this._logService=m,this._optionsService=w,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new _.EventEmitter),this._onUserInput=this.register(new _.EventEmitter),this._onBinary=this.register(new _.EventEmitter),this._scrollToBottom=a,this.register({dispose:()=>this._scrollToBottom=void 0}),this.modes=(0,v.clone)(p),this.decPrivateModes=(0,v.clone)(s)}get onData(){return this._onData.event}get onUserInput(){return this._onUserInput.event}get onBinary(){return this._onBinary.event}reset(){this.modes=(0,v.clone)(p),this.decPrivateModes=(0,v.clone)(s)}triggerDataEvent(a,d=!1){if(this._optionsService.rawOptions.disableStdin)return;const m=this._bufferService.buffer;m.ybase!==m.ydisp&&this._scrollToBottom(),d&&this._onUserInput.fire(),this._logService.debug(`sending data "${a}"`,()=>a.split("").map(w=>w.charCodeAt(0))),this._onData.fire(a)}triggerBinaryEvent(a){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${a}"`,()=>a.split("").map(d=>d.charCodeAt(0))),this._onBinary.fire(a))}};c=n([u(1,f.IBufferService),u(2,f.ILogService),u(3,f.IOptionsService)],c),i.CoreService=c},9074:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DecorationService=void 0;const n=o(8055),u=o(8460),f=o(844),_=o(6106),v={xmin:0,xmax:0};class g extends f.Disposable{constructor(){super(...arguments),this._decorations=new _.SortedList(c=>c==null?void 0:c.marker.line),this._onDecorationRegistered=this.register(new u.EventEmitter),this._onDecorationRemoved=this.register(new u.EventEmitter)}get onDecorationRegistered(){return this._onDecorationRegistered.event}get onDecorationRemoved(){return this._onDecorationRemoved.event}get decorations(){return this._decorations.values()}registerDecoration(c){if(c.marker.isDisposed)return;const a=new p(c);if(a){const d=a.marker.onDispose(()=>a.dispose());a.onDispose(()=>{a&&(this._decorations.delete(a)&&this._onDecorationRemoved.fire(a),d.dispose())}),this._decorations.insert(a),this._onDecorationRegistered.fire(a)}return a}reset(){for(const c of this._decorations.values())c.dispose();this._decorations.clear()}*getDecorationsAtCell(c,a,d){var m,w,S;let k=0,C=0;for(const E of this._decorations.getKeyIterator(a))k=(m=E.options.x)!==null&&m!==void 0?m:0,C=k+((w=E.options.width)!==null&&w!==void 0?w:1),c>=k&&c<C&&(!d||((S=E.options.layer)!==null&&S!==void 0?S:"bottom")===d)&&(yield E)}forEachDecorationAtCell(c,a,d,m){this._decorations.forEachByKey(a,w=>{var S,k,C;v.xmin=(S=w.options.x)!==null&&S!==void 0?S:0,v.xmax=v.xmin+((k=w.options.width)!==null&&k!==void 0?k:1),c>=v.xmin&&c<v.xmax&&(!d||((C=w.options.layer)!==null&&C!==void 0?C:"bottom")===d)&&m(w)})}dispose(){for(const c of this._decorations.values())this._onDecorationRemoved.fire(c);this.reset()}}i.DecorationService=g;class p extends f.Disposable{constructor(c){super(),this.options=c,this.isDisposed=!1,this.onRenderEmitter=this.register(new u.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new u.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=c.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=n.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=n.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}dispose(){this._isDisposed||(this._isDisposed=!0,this._onDispose.fire(),super.dispose())}}},3730:function(b,i,o){var n=this&&this.__decorate||function(v,g,p,s){var c,a=arguments.length,d=a<3?g:s===null?s=Object.getOwnPropertyDescriptor(g,p):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(v,g,p,s);else for(var m=v.length-1;m>=0;m--)(c=v[m])&&(d=(a<3?c(d):a>3?c(g,p,d):c(g,p))||d);return a>3&&d&&Object.defineProperty(g,p,d),d},u=this&&this.__param||function(v,g){return function(p,s){g(p,s,v)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DirtyRowService=void 0;const f=o(2585);let _=class{constructor(v){this._bufferService=v,this.clearRange()}get start(){return this._start}get end(){return this._end}clearRange(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y}markDirty(v){v<this._start?this._start=v:v>this._end&&(this._end=v)}markRangeDirty(v,g){if(v>g){const p=v;v=g,g=p}v<this._start&&(this._start=v),g>this._end&&(this._end=g)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};_=n([u(0,f.IBufferService)],_),i.DirtyRowService=_},4348:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.InstantiationService=i.ServiceCollection=void 0;const n=o(2585),u=o(8343);class f{constructor(...v){this._entries=new Map;for(const[g,p]of v)this.set(g,p)}set(v,g){const p=this._entries.get(v);return this._entries.set(v,g),p}forEach(v){this._entries.forEach((g,p)=>v(p,g))}has(v){return this._entries.has(v)}get(v){return this._entries.get(v)}}i.ServiceCollection=f,i.InstantiationService=class{constructor(){this._services=new f,this._services.set(n.IInstantiationService,this)}setService(_,v){this._services.set(_,v)}getService(_){return this._services.get(_)}createInstance(_,...v){const g=(0,u.getServiceDependencies)(_).sort((c,a)=>c.index-a.index),p=[];for(const c of g){const a=this._services.get(c.id);if(!a)throw new Error(`[createInstance] ${_.name} depends on UNKNOWN service ${c.id}.`);p.push(a)}const s=g.length>0?g[0].index:v.length;if(v.length!==s)throw new Error(`[createInstance] First service dependency of ${_.name} at position ${s+1} conflicts with ${v.length} static arguments`);return new _(...v,...p)}}},7866:function(b,i,o){var n=this&&this.__decorate||function(g,p,s,c){var a,d=arguments.length,m=d<3?p:c===null?c=Object.getOwnPropertyDescriptor(p,s):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(g,p,s,c);else for(var w=g.length-1;w>=0;w--)(a=g[w])&&(m=(d<3?a(m):d>3?a(p,s,m):a(p,s))||m);return d>3&&m&&Object.defineProperty(p,s,m),m},u=this&&this.__param||function(g,p){return function(s,c){p(s,c,g)}};Object.defineProperty(i,"__esModule",{value:!0}),i.LogService=void 0;const f=o(2585),_={debug:f.LogLevelEnum.DEBUG,info:f.LogLevelEnum.INFO,warn:f.LogLevelEnum.WARN,error:f.LogLevelEnum.ERROR,off:f.LogLevelEnum.OFF};let v=class{constructor(g){this._optionsService=g,this.logLevel=f.LogLevelEnum.OFF,this._updateLogLevel(),this._optionsService.onOptionChange(p=>{p==="logLevel"&&this._updateLogLevel()})}_updateLogLevel(){this.logLevel=_[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(g){for(let p=0;p<g.length;p++)typeof g[p]=="function"&&(g[p]=g[p]())}_log(g,p,s){this._evalLazyOptionalParams(s),g.call(console,"xterm.js: "+p,...s)}debug(g,...p){this.logLevel<=f.LogLevelEnum.DEBUG&&this._log(console.log,g,p)}info(g,...p){this.logLevel<=f.LogLevelEnum.INFO&&this._log(console.info,g,p)}warn(g,...p){this.logLevel<=f.LogLevelEnum.WARN&&this._log(console.warn,g,p)}error(g,...p){this.logLevel<=f.LogLevelEnum.ERROR&&this._log(console.error,g,p)}};v=n([u(0,f.IOptionsService)],v),i.LogService=v},7302:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OptionsService=i.DEFAULT_OPTIONS=void 0;const n=o(8460),u=o(6114);i.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:u.isMac,windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const f=["normal","bold","100","200","300","400","500","600","700","800","900"];i.OptionsService=class{constructor(_){this._onOptionChange=new n.EventEmitter;const v=Object.assign({},i.DEFAULT_OPTIONS);for(const g in _)if(g in v)try{const p=_[g];v[g]=this._sanitizeAndValidateOption(g,p)}catch(p){console.error(p)}this.rawOptions=v,this.options=Object.assign({},v),this._setupOptions()}get onOptionChange(){return this._onOptionChange.event}_setupOptions(){const _=g=>{if(!(g in i.DEFAULT_OPTIONS))throw new Error(`No option with key "${g}"`);return this.rawOptions[g]},v=(g,p)=>{if(!(g in i.DEFAULT_OPTIONS))throw new Error(`No option with key "${g}"`);p=this._sanitizeAndValidateOption(g,p),this.rawOptions[g]!==p&&(this.rawOptions[g]=p,this._onOptionChange.fire(g))};for(const g in this.rawOptions){const p={get:_.bind(this,g),set:v.bind(this,g)};Object.defineProperty(this.options,g,p)}}_sanitizeAndValidateOption(_,v){switch(_){case"cursorStyle":if(v||(v=i.DEFAULT_OPTIONS[_]),!function(g){return g==="block"||g==="underline"||g==="bar"}(v))throw new Error(`"${v}" is not a valid value for ${_}`);break;case"wordSeparator":v||(v=i.DEFAULT_OPTIONS[_]);break;case"fontWeight":case"fontWeightBold":if(typeof v=="number"&&1<=v&&v<=1e3)break;v=f.includes(v)?v:i.DEFAULT_OPTIONS[_];break;case"cursorWidth":v=Math.floor(v);case"lineHeight":case"tabStopWidth":if(v<1)throw new Error(`${_} cannot be less than 1, value: ${v}`);break;case"minimumContrastRatio":v=Math.max(1,Math.min(21,Math.round(10*v)/10));break;case"scrollback":if((v=Math.min(v,4294967295))<0)throw new Error(`${_} cannot be less than 0, value: ${v}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(v<=0)throw new Error(`${_} cannot be less than or equal to 0, value: ${v}`);case"rows":case"cols":if(!v&&v!==0)throw new Error(`${_} must be numeric, value: ${v}`)}return v}}},2660:function(b,i,o){var n=this&&this.__decorate||function(v,g,p,s){var c,a=arguments.length,d=a<3?g:s===null?s=Object.getOwnPropertyDescriptor(g,p):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(v,g,p,s);else for(var m=v.length-1;m>=0;m--)(c=v[m])&&(d=(a<3?c(d):a>3?c(g,p,d):c(g,p))||d);return a>3&&d&&Object.defineProperty(g,p,d),d},u=this&&this.__param||function(v,g){return function(p,s){g(p,s,v)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OscLinkService=void 0;const f=o(2585);let _=class{constructor(v){this._bufferService=v,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(v){const g=this._bufferService.buffer;if(v.id===void 0){const m=g.addMarker(g.ybase+g.y),w={data:v,id:this._nextId++,lines:[m]};return m.onDispose(()=>this._removeMarkerFromLink(w,m)),this._dataByLinkId.set(w.id,w),w.id}const p=v,s=this._getEntryIdKey(p),c=this._entriesWithId.get(s);if(c)return this.addLineToLink(c.id,g.ybase+g.y),c.id;const a=g.addMarker(g.ybase+g.y),d={id:this._nextId++,key:this._getEntryIdKey(p),data:p,lines:[a]};return a.onDispose(()=>this._removeMarkerFromLink(d,a)),this._entriesWithId.set(d.key,d),this._dataByLinkId.set(d.id,d),d.id}addLineToLink(v,g){const p=this._dataByLinkId.get(v);if(p&&p.lines.every(s=>s.line!==g)){const s=this._bufferService.buffer.addMarker(g);p.lines.push(s),s.onDispose(()=>this._removeMarkerFromLink(p,s))}}getLinkData(v){var g;return(g=this._dataByLinkId.get(v))===null||g===void 0?void 0:g.data}_getEntryIdKey(v){return`${v.id};;${v.uri}`}_removeMarkerFromLink(v,g){const p=v.lines.indexOf(g);p!==-1&&(v.lines.splice(p,1),v.lines.length===0&&(v.data.id!==void 0&&this._entriesWithId.delete(v.key),this._dataByLinkId.delete(v.id)))}};_=n([u(0,f.IBufferService)],_),i.OscLinkService=_},8343:(b,i)=>{function o(n,u,f){u.di$target===u?u.di$dependencies.push({id:n,index:f}):(u.di$dependencies=[{id:n,index:f}],u.di$target=u)}Object.defineProperty(i,"__esModule",{value:!0}),i.createDecorator=i.getServiceDependencies=i.serviceRegistry=void 0,i.serviceRegistry=new Map,i.getServiceDependencies=function(n){return n.di$dependencies||[]},i.createDecorator=function(n){if(i.serviceRegistry.has(n))return i.serviceRegistry.get(n);const u=function(f,_,v){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");o(u,f,v)};return u.toString=()=>n,i.serviceRegistry.set(n,u),u}},2585:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.IDecorationService=i.IUnicodeService=i.IOscLinkService=i.IOptionsService=i.ILogService=i.LogLevelEnum=i.IInstantiationService=i.IDirtyRowService=i.ICharsetService=i.ICoreService=i.ICoreMouseService=i.IBufferService=void 0;const n=o(8343);var u;i.IBufferService=(0,n.createDecorator)("BufferService"),i.ICoreMouseService=(0,n.createDecorator)("CoreMouseService"),i.ICoreService=(0,n.createDecorator)("CoreService"),i.ICharsetService=(0,n.createDecorator)("CharsetService"),i.IDirtyRowService=(0,n.createDecorator)("DirtyRowService"),i.IInstantiationService=(0,n.createDecorator)("InstantiationService"),(u=i.LogLevelEnum||(i.LogLevelEnum={}))[u.DEBUG=0]="DEBUG",u[u.INFO=1]="INFO",u[u.WARN=2]="WARN",u[u.ERROR=3]="ERROR",u[u.OFF=4]="OFF",i.ILogService=(0,n.createDecorator)("LogService"),i.IOptionsService=(0,n.createDecorator)("OptionsService"),i.IOscLinkService=(0,n.createDecorator)("OscLinkService"),i.IUnicodeService=(0,n.createDecorator)("UnicodeService"),i.IDecorationService=(0,n.createDecorator)("DecorationService")},1480:(b,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeService=void 0;const n=o(8460),u=o(225);i.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new n.EventEmitter;const f=new u.UnicodeV6;this.register(f),this._active=f.version,this._activeProvider=f}get onChange(){return this._onChange.event}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(f){if(!this._providers[f])throw new Error(`unknown Unicode version "${f}"`);this._active=f,this._activeProvider=this._providers[f],this._onChange.fire(f)}register(f){this._providers[f.version]=f}wcwidth(f){return this._activeProvider.wcwidth(f)}getStringCellWidth(f){let _=0;const v=f.length;for(let g=0;g<v;++g){let p=f.charCodeAt(g);if(55296<=p&&p<=56319){if(++g>=v)return _+this.wcwidth(p);const s=f.charCodeAt(g);56320<=s&&s<=57343?p=1024*(p-55296)+s-56320+65536:_+=this.wcwidth(s)}_+=this.wcwidth(p)}return _}}}},l={};function h(b){var i=l[b];if(i!==void 0)return i.exports;var o=l[b]={exports:{}};return r[b].call(o.exports,o,o.exports,h),o.exports}var y={};return(()=>{var b=y;Object.defineProperty(b,"__esModule",{value:!0}),b.Terminal=void 0;const i=h(3236),o=h(9042),n=h(7975),u=h(7090),f=h(5741),_=h(8285),v=["cols","rows"];b.Terminal=class{constructor(g){this._core=new i.Terminal(g),this._addonManager=new f.AddonManager,this._publicOptions=Object.assign({},this._core.options);const p=c=>this._core.options[c],s=(c,a)=>{this._checkReadonlyOptions(c),this._core.options[c]=a};for(const c in this._core.options){const a={get:p.bind(this,c),set:s.bind(this,c)};Object.defineProperty(this._publicOptions,c,a)}}_checkReadonlyOptions(g){if(v.includes(g))throw new Error(`Option "${g}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._checkProposedApi(),this._parser||(this._parser=new n.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new u.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._checkProposedApi(),this._buffer||(this._buffer=new _.BufferNamespaceApi(this._core)),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const g=this._core.coreService.decPrivateModes;let p="none";switch(this._core.coreMouseService.activeProtocol){case"X10":p="x10";break;case"VT200":p="vt200";break;case"DRAG":p="drag";break;case"ANY":p="any"}return{applicationCursorKeysMode:g.applicationCursorKeys,applicationKeypadMode:g.applicationKeypad,bracketedPasteMode:g.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:p,originMode:g.origin,reverseWraparoundMode:g.reverseWraparound,sendFocusMode:g.sendFocus,wraparoundMode:g.wraparound}}get options(){return this._publicOptions}set options(g){for(const p in g)this._publicOptions[p]=g[p]}blur(){this._core.blur()}focus(){this._core.focus()}resize(g,p){this._verifyIntegers(g,p),this._core.resize(g,p)}open(g){this._core.open(g)}attachCustomKeyEventHandler(g){this._core.attachCustomKeyEventHandler(g)}registerLinkProvider(g){return this._checkProposedApi(),this._core.registerLinkProvider(g)}registerCharacterJoiner(g){return this._checkProposedApi(),this._core.registerCharacterJoiner(g)}deregisterCharacterJoiner(g){this._checkProposedApi(),this._core.deregisterCharacterJoiner(g)}registerMarker(g=0){return this._verifyIntegers(g),this._core.addMarker(g)}registerDecoration(g){var p,s,c;return this._checkProposedApi(),this._verifyPositiveIntegers((p=g.x)!==null&&p!==void 0?p:0,(s=g.width)!==null&&s!==void 0?s:0,(c=g.height)!==null&&c!==void 0?c:0),this._core.registerDecoration(g)}hasSelection(){return this._core.hasSelection()}select(g,p,s){this._verifyIntegers(g,p,s),this._core.select(g,p,s)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(g,p){this._verifyIntegers(g,p),this._core.selectLines(g,p)}dispose(){this._addonManager.dispose(),this._core.dispose()}scrollLines(g){this._verifyIntegers(g),this._core.scrollLines(g)}scrollPages(g){this._verifyIntegers(g),this._core.scrollPages(g)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(g){this._verifyIntegers(g),this._core.scrollToLine(g)}clear(){this._core.clear()}write(g,p){this._core.write(g,p)}writeln(g,p){this._core.write(g),this._core.write(`\r
`,p)}paste(g){this._core.paste(g)}refresh(g,p){this._verifyIntegers(g,p),this._core.refresh(g,p)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(g){return this._addonManager.loadAddon(this,g)}static get strings(){return o}_verifyIntegers(...g){for(const p of g)if(p===1/0||isNaN(p)||p%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...g){for(const p of g)if(p&&(p===1/0||isNaN(p)||p%1!=0||p<0))throw new Error("This API only accepts positive integers")}}})(),y})()})})(Ia);var Fa={exports:{}};(function(e,t){(function(r,l){e.exports=l()})(self,function(){return(()=>{var r={};return(()=>{var l=r;Object.defineProperty(l,"__esModule",{value:!0}),l.FitAddon=void 0,l.FitAddon=class{constructor(){}activate(h){this._terminal=h}dispose(){}fit(){const h=this.proposeDimensions();if(!h||!this._terminal||isNaN(h.cols)||isNaN(h.rows))return;const y=this._terminal._core;this._terminal.rows===h.rows&&this._terminal.cols===h.cols||(y._renderService.clear(),this._terminal.resize(h.cols,h.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const h=this._terminal._core;if(h._renderService.dimensions.actualCellWidth===0||h._renderService.dimensions.actualCellHeight===0)return;const y=this._terminal.options.scrollback===0?0:h.viewport.scrollBarWidth,b=window.getComputedStyle(this._terminal.element.parentElement),i=parseInt(b.getPropertyValue("height")),o=Math.max(0,parseInt(b.getPropertyValue("width"))),n=window.getComputedStyle(this._terminal.element),u=i-(parseInt(n.getPropertyValue("padding-top"))+parseInt(n.getPropertyValue("padding-bottom"))),f=o-(parseInt(n.getPropertyValue("padding-right"))+parseInt(n.getPropertyValue("padding-left")))-y;return{cols:Math.max(2,Math.floor(f/h._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(u/h._renderService.dimensions.actualCellHeight))}}}})(),r})()})})(Fa);const Ha="3.7.2",Ig=Ha,zg=typeof atob=="function",Fg=typeof btoa=="function",Gr=typeof Buffer=="function",po=typeof TextDecoder=="function"?new TextDecoder:void 0,vo=typeof TextEncoder=="function"?new TextEncoder:void 0,Hg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ni=Array.prototype.slice.call(Hg),Ei=(e=>{let t={};return e.forEach((r,l)=>t[r]=l),t})(ni),Ng=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,_t=String.fromCharCode.bind(String),go=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(e,t=r=>r)=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),Na=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),Wa=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),Ua=e=>{let t,r,l,h,y="";const b=e.length%3;for(let i=0;i<e.length;){if((r=e.charCodeAt(i++))>255||(l=e.charCodeAt(i++))>255||(h=e.charCodeAt(i++))>255)throw new TypeError("invalid character found");t=r<<16|l<<8|h,y+=ni[t>>18&63]+ni[t>>12&63]+ni[t>>6&63]+ni[t&63]}return b?y.slice(0,b-3)+"===".substring(b):y},us=Fg?e=>btoa(e):Gr?e=>Buffer.from(e,"binary").toString("base64"):Ua,Pn=Gr?e=>Buffer.from(e).toString("base64"):e=>{let r=[];for(let l=0,h=e.length;l<h;l+=4096)r.push(_t.apply(null,e.subarray(l,l+4096)));return us(r.join(""))},Bi=(e,t=!1)=>t?Na(Pn(e)):Pn(e),Wg=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?_t(192|t>>>6)+_t(128|t&63):_t(224|t>>>12&15)+_t(128|t>>>6&63)+_t(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return _t(240|t>>>18&7)+_t(128|t>>>12&63)+_t(128|t>>>6&63)+_t(128|t&63)}},Ug=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,ja=e=>e.replace(Ug,Wg),_o=Gr?e=>Buffer.from(e,"utf8").toString("base64"):vo?e=>Pn(vo.encode(e)):e=>us(ja(e)),Ir=(e,t=!1)=>t?Na(_o(e)):_o(e),mo=e=>Ir(e,!0),jg=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Vg=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return _t((r>>>10)+55296)+_t((r&1023)+56320);case 3:return _t((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return _t((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},Va=e=>e.replace(jg,Vg),Ka=e=>{if(e=e.replace(/\s+/g,""),!Ng.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,r="",l,h;for(let y=0;y<e.length;)t=Ei[e.charAt(y++)]<<18|Ei[e.charAt(y++)]<<12|(l=Ei[e.charAt(y++)])<<6|(h=Ei[e.charAt(y++)]),r+=l===64?_t(t>>16&255):h===64?_t(t>>16&255,t>>8&255):_t(t>>16&255,t>>8&255,t&255);return r},hs=zg?e=>atob(Wa(e)):Gr?e=>Buffer.from(e,"base64").toString("binary"):Ka,qa=Gr?e=>go(Buffer.from(e,"base64")):e=>go(hs(e),t=>t.charCodeAt(0)),Ga=e=>qa(Ya(e)),Kg=Gr?e=>Buffer.from(e,"base64").toString("utf8"):po?e=>po.decode(qa(e)):e=>Va(hs(e)),Ya=e=>Wa(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),$n=e=>Kg(Ya(e)),qg=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},Xa=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),Za=function(){const e=(t,r)=>Object.defineProperty(String.prototype,t,Xa(r));e("fromBase64",function(){return $n(this)}),e("toBase64",function(t){return Ir(this,t)}),e("toBase64URI",function(){return Ir(this,!0)}),e("toBase64URL",function(){return Ir(this,!0)}),e("toUint8Array",function(){return Ga(this)})},Ja=function(){const e=(t,r)=>Object.defineProperty(Uint8Array.prototype,t,Xa(r));e("toBase64",function(t){return Bi(this,t)}),e("toBase64URI",function(){return Bi(this,!0)}),e("toBase64URL",function(){return Bi(this,!0)})},Gg=()=>{Za(),Ja()},Yg={version:Ha,VERSION:Ig,atob:hs,atobPolyfill:Ka,btoa:us,btoaPolyfill:Ua,fromBase64:$n,toBase64:Ir,encode:Ir,encodeURI:mo,encodeURL:mo,utob:ja,btou:Va,decode:$n,isValid:qg,fromUint8Array:Bi,toUint8Array:Ga,extendString:Za,extendUint8Array:Ja,extendBuiltins:Gg};var Di=(e=>(e.UnknownInput="0",e.Input="1",e.Ping="2",e.ResizeTerminal="3",e.SetEncoding="4",e))(Di||{}),Qa=(e=>(e.UnknownOutput="0",e.Output="1",e.Pong="2",e.SetWindowTitle="3",e.SetPreferences="4",e.SetReconnect="5",e.SetBufferSize="6",e))(Qa||{});const bo=ue({__name:"xterm_div",props:{cmd:null,connected:{type:Boolean,default:!0}},emits:["update:connected"],setup(e,{emit:t}){const r=e,l=Y(),h=new Ia.exports.Terminal({rows:24,cols:80,convertEol:!0,scrollback:10,disableStdin:!1,fontSize:14,cursorBlink:!0,cursorStyle:"bar"}),y=new Fa.exports.FitAddon,{status:b,data:i,close:o,send:n,open:u}=Fc(Hc+"pty",{immediate:!1});qe(()=>r.connected,v=>{if(v==!1&&b.value!=="CLOSED"){o();return}v&&b.value==="CLOSED"&&(u(),h.writeln(`
$ \x1B[1;3;31m${r.cmd}\x1B[0m`))}),qe(b,v=>{v=="CLOSED"&&(f.map(g=>g.dispose()),f.splice(0,f.length),t("update:connected",!1),h.writeln(`
\x1B[1;3;31mdisconnected\x1B[0m`)),v=="OPEN"&&(_(r.cmd),t("update:connected",!0))}),qe(i,v=>{const g=v.slice(0,1),p=Yg.decode(v.slice(1));switch(g){case Qa.Output:h.write(p);return}console.log(`${g} rx: ${v}  decode: ${p}`)});const f=[];function _(v){n(JSON.stringify({cmd:v})),f.push(h.onResize(c=>{n(Di.ResizeTerminal+JSON.stringify({Columns:c.cols,Rows:c.rows})),console.log("resize")}));const g=100;let p="";f.push(h.onData(c=>{p.length>0?p+=c:(p=c,setTimeout(()=>{n(Di.Input+p),p.length>1&&console.log(`send ${p}`),p=""},g))}));const s=setInterval(function(){n(Di.Ping)},20*1e3);f.push({dispose:()=>{clearInterval(s)}})}return Nc(l,v=>{console.debug("resize",v),y.fit()}),Bt(()=>{u(),h.open(l.value),h.loadAddon(y),h.writeln(`$ \x1B[1;3;31m${r.cmd}\x1B[0m`)}),Gt(()=>{o(),h&&h.dispose()}),(v,g)=>(ne(),ye("div",null,[he("div",{ref_key:"terminal",ref:l},null,512)]))}}),Xg=xe(" Disconnect "),Zg=xe(" Connect "),Jg=xe(" ping "),Qg=ue({__name:"xterm_panel",props:{target:null,visible:null},emits:["close","update:visible"],setup(e,{emit:t}){const r=e,l=ee({get:()=>r.visible,set:o=>{o<0&&t("close"),t("update:visible",o)}}),h=Y(!1),y=Y(!1),b=Y(!1);function i(){if(b.value){b.value=!1;return}y.value=!y.value}return qe(l,o=>{o>0}),(o,n)=>(ne(),Te(Qi,{visible:$(l),"onUpdate:visible":n[4]||(n[4]=u=>Kt(l)?l.value=u:null),title:"SSH "+r.target},{"header-extra":K(()=>[h.value?(ne(),Te($(Ye),{key:0,quaternary:"",onClick:n[0]||(n[0]=u=>h.value=!1)},{default:K(()=>[J($(Je),{component:$(dd)},null,8,["component"]),Xg]),_:1})):(ne(),Te($(Ye),{key:1,quaternary:"",onClick:n[1]||(n[1]=u=>h.value=!0)},{default:K(()=>[J($(Je),{component:$(Sp)},null,8,["component"]),Zg]),_:1})),J($(Ye),{quaternary:"",onClick:i},{default:K(()=>[J($(Je),{component:$(wd)},null,8,["component"]),Jg]),_:1})]),default:K(()=>[y.value?(ne(),Te(bo,{key:0,connected:b.value,"onUpdate:connected":n[2]||(n[2]=u=>b.value=u),cmd:"ping "+r.target},null,8,["connected","cmd"])):Ke("",!0),J(bo,{connected:h.value,"onUpdate:connected":n[3]||(n[3]=u=>h.value=u),cmd:"labctl color ssh "+r.target},null,8,["connected","cmd"])]),_:1},8,["visible","title"]))}});var e_=Object.defineProperty,t_=Object.defineProperties,r_=Object.getOwnPropertyDescriptors,yo=Object.getOwnPropertySymbols,i_=Object.prototype.hasOwnProperty,n_=Object.prototype.propertyIsEnumerable,wo=(e,t,r)=>t in e?e_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,bn=(e,t)=>{for(var r in t||(t={}))i_.call(t,r)&&wo(e,r,t[r]);if(yo)for(var r of yo(t))n_.call(t,r)&&wo(e,r,t[r]);return e},s_=(e,t)=>t_(e,r_(t));function el(e,t){var r,l=1;e==null&&(e=0),t==null&&(t=0);function h(){var y,b=r.length,i,o=0,n=0;for(y=0;y<b;++y)i=r[y],o+=i.x,n+=i.y;for(o=(o/b-e)*l,n=(n/b-t)*l,y=0;y<b;++y)i=r[y],i.x-=o,i.y-=n}return h.initialize=function(y){r=y},h.x=function(y){return arguments.length?(e=+y,h):e},h.y=function(y){return arguments.length?(t=+y,h):t},h.strength=function(y){return arguments.length?(l=+y,h):l},h}function o_(e){const t=+this._x.call(null,e),r=+this._y.call(null,e);return tl(this.cover(t,r),t,r,e)}function tl(e,t,r,l){if(isNaN(t)||isNaN(r))return e;var h,y=e._root,b={data:l},i=e._x0,o=e._y0,n=e._x1,u=e._y1,f,_,v,g,p,s,c,a;if(!y)return e._root=b,e;for(;y.length;)if((p=t>=(f=(i+n)/2))?i=f:n=f,(s=r>=(_=(o+u)/2))?o=_:u=_,h=y,!(y=y[c=s<<1|p]))return h[c]=b,e;if(v=+e._x.call(null,y.data),g=+e._y.call(null,y.data),t===v&&r===g)return b.next=y,h?h[c]=b:e._root=b,e;do h=h?h[c]=new Array(4):e._root=new Array(4),(p=t>=(f=(i+n)/2))?i=f:n=f,(s=r>=(_=(o+u)/2))?o=_:u=_;while((c=s<<1|p)===(a=(g>=_)<<1|v>=f));return h[a]=y,h[c]=b,e}function a_(e){var t,r,l=e.length,h,y,b=new Array(l),i=new Array(l),o=1/0,n=1/0,u=-1/0,f=-1/0;for(r=0;r<l;++r)isNaN(h=+this._x.call(null,t=e[r]))||isNaN(y=+this._y.call(null,t))||(b[r]=h,i[r]=y,h<o&&(o=h),h>u&&(u=h),y<n&&(n=y),y>f&&(f=y));if(o>u||n>f)return this;for(this.cover(o,n).cover(u,f),r=0;r<l;++r)tl(this,b[r],i[r],e[r]);return this}function l_(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,l=this._y0,h=this._x1,y=this._y1;if(isNaN(r))h=(r=Math.floor(e))+1,y=(l=Math.floor(t))+1;else{for(var b=h-r||1,i=this._root,o,n;r>e||e>=h||l>t||t>=y;)switch(n=(t<l)<<1|e<r,o=new Array(4),o[n]=i,i=o,b*=2,n){case 0:h=r+b,y=l+b;break;case 1:r=h-b,y=l+b;break;case 2:h=r+b,l=y-b;break;case 3:r=h-b,l=y-b;break}this._root&&this._root.length&&(this._root=i)}return this._x0=r,this._y0=l,this._x1=h,this._y1=y,this}function c_(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function d_(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ct(e,t,r,l,h){this.node=e,this.x0=t,this.y0=r,this.x1=l,this.y1=h}function u_(e,t,r){var l,h=this._x0,y=this._y0,b,i,o,n,u=this._x1,f=this._y1,_=[],v=this._root,g,p;for(v&&_.push(new Ct(v,h,y,u,f)),r==null?r=1/0:(h=e-r,y=t-r,u=e+r,f=t+r,r*=r);g=_.pop();)if(!(!(v=g.node)||(b=g.x0)>u||(i=g.y0)>f||(o=g.x1)<h||(n=g.y1)<y))if(v.length){var s=(b+o)/2,c=(i+n)/2;_.push(new Ct(v[3],s,c,o,n),new Ct(v[2],b,c,s,n),new Ct(v[1],s,i,o,c),new Ct(v[0],b,i,s,c)),(p=(t>=c)<<1|e>=s)&&(g=_[_.length-1],_[_.length-1]=_[_.length-1-p],_[_.length-1-p]=g)}else{var a=e-+this._x.call(null,v.data),d=t-+this._y.call(null,v.data),m=a*a+d*d;if(m<r){var w=Math.sqrt(r=m);h=e-w,y=t-w,u=e+w,f=t+w,l=v.data}}return l}function h_(e){if(isNaN(u=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,r=this._root,l,h,y,b=this._x0,i=this._y0,o=this._x1,n=this._y1,u,f,_,v,g,p,s,c;if(!r)return this;if(r.length)for(;;){if((g=u>=(_=(b+o)/2))?b=_:o=_,(p=f>=(v=(i+n)/2))?i=v:n=v,t=r,!(r=r[s=p<<1|g]))return this;if(!r.length)break;(t[s+1&3]||t[s+2&3]||t[s+3&3])&&(l=t,c=s)}for(;r.data!==e;)if(h=r,!(r=r.next))return this;return(y=r.next)&&delete r.next,h?(y?h.next=y:delete h.next,this):t?(y?t[s]=y:delete t[s],(r=t[0]||t[1]||t[2]||t[3])&&r===(t[3]||t[2]||t[1]||t[0])&&!r.length&&(l?l[c]=r:this._root=r),this):(this._root=y,this)}function f_(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this}function p_(){return this._root}function v_(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function g_(e){var t=[],r,l=this._root,h,y,b,i,o;for(l&&t.push(new Ct(l,this._x0,this._y0,this._x1,this._y1));r=t.pop();)if(!e(l=r.node,y=r.x0,b=r.y0,i=r.x1,o=r.y1)&&l.length){var n=(y+i)/2,u=(b+o)/2;(h=l[3])&&t.push(new Ct(h,n,u,i,o)),(h=l[2])&&t.push(new Ct(h,y,u,n,o)),(h=l[1])&&t.push(new Ct(h,n,b,i,u)),(h=l[0])&&t.push(new Ct(h,y,b,n,u))}return this}function __(e){var t=[],r=[],l;for(this._root&&t.push(new Ct(this._root,this._x0,this._y0,this._x1,this._y1));l=t.pop();){var h=l.node;if(h.length){var y,b=l.x0,i=l.y0,o=l.x1,n=l.y1,u=(b+o)/2,f=(i+n)/2;(y=h[0])&&t.push(new Ct(y,b,i,u,f)),(y=h[1])&&t.push(new Ct(y,u,i,o,f)),(y=h[2])&&t.push(new Ct(y,b,f,u,n)),(y=h[3])&&t.push(new Ct(y,u,f,o,n))}r.push(l)}for(;l=r.pop();)e(l.node,l.x0,l.y0,l.x1,l.y1);return this}function m_(e){return e[0]}function b_(e){return arguments.length?(this._x=e,this):this._x}function y_(e){return e[1]}function w_(e){return arguments.length?(this._y=e,this):this._y}function fs(e,t,r){var l=new ps(t==null?m_:t,r==null?y_:r,NaN,NaN,NaN,NaN);return e==null?l:l.addAll(e)}function ps(e,t,r,l,h,y){this._x=e,this._y=t,this._x0=r,this._y0=l,this._x1=h,this._y1=y,this._root=void 0}function So(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var kt=fs.prototype=ps.prototype;kt.copy=function(){var e=new ps(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,r,l;if(!t)return e;if(!t.length)return e._root=So(t),e;for(r=[{source:t,target:e._root=new Array(4)}];t=r.pop();)for(var h=0;h<4;++h)(l=t.source[h])&&(l.length?r.push({source:l,target:t.target[h]=new Array(4)}):t.target[h]=So(l));return e};kt.add=o_;kt.addAll=a_;kt.cover=l_;kt.data=c_;kt.extent=d_;kt.find=u_;kt.remove=h_;kt.removeAll=f_;kt.root=p_;kt.size=v_;kt.visit=g_;kt.visitAfter=__;kt.x=b_;kt.y=w_;function dt(e){return function(){return e}}function br(e){return(e()-.5)*1e-6}function S_(e){return e.x+e.vx}function C_(e){return e.y+e.vy}function rl(e){var t,r,l,h=1,y=1;typeof e!="function"&&(e=dt(e==null?1:+e));function b(){for(var n,u=t.length,f,_,v,g,p,s,c=0;c<y;++c)for(f=fs(t,S_,C_).visitAfter(i),n=0;n<u;++n)_=t[n],p=r[_.index],s=p*p,v=_.x+_.vx,g=_.y+_.vy,f.visit(a);function a(d,m,w,S,k){var C=d.data,E=d.r,D=p+E;if(C){if(C.index>_.index){var P=v-C.x-C.vx,B=g-C.y-C.vy,x=P*P+B*B;x<D*D&&(P===0&&(P=br(l),x+=P*P),B===0&&(B=br(l),x+=B*B),x=(D-(x=Math.sqrt(x)))/x*h,_.vx+=(P*=x)*(D=(E*=E)/(s+E)),_.vy+=(B*=x)*D,C.vx-=P*(D=1-D),C.vy-=B*D)}return}return m>v+D||S<v-D||w>g+D||k<g-D}}function i(n){if(n.data)return n.r=r[n.data.index];for(var u=n.r=0;u<4;++u)n[u]&&n[u].r>n.r&&(n.r=n[u].r)}function o(){if(t){var n,u=t.length,f;for(r=new Array(u),n=0;n<u;++n)f=t[n],r[f.index]=+e(f,n,t)}}return b.initialize=function(n,u){t=n,l=u,o()},b.iterations=function(n){return arguments.length?(y=+n,b):y},b.strength=function(n){return arguments.length?(h=+n,b):h},b.radius=function(n){return arguments.length?(e=typeof n=="function"?n:dt(+n),o(),b):e},b}function x_(e){return e.index}function Co(e,t){var r=e.get(t);if(!r)throw new Error("node not found: "+t);return r}function il(e){var t=x_,r=f,l,h=dt(30),y,b,i,o,n,u=1;e==null&&(e=[]);function f(s){return 1/Math.min(i[s.source.index],i[s.target.index])}function _(s){for(var c=0,a=e.length;c<u;++c)for(var d=0,m,w,S,k,C,E,D;d<a;++d)m=e[d],w=m.source,S=m.target,k=S.x+S.vx-w.x-w.vx||br(n),C=S.y+S.vy-w.y-w.vy||br(n),E=Math.sqrt(k*k+C*C),E=(E-y[d])/E*s*l[d],k*=E,C*=E,S.vx-=k*(D=o[d]),S.vy-=C*D,w.vx+=k*(D=1-D),w.vy+=C*D}function v(){if(b){var s,c=b.length,a=e.length,d=new Map(b.map((w,S)=>[t(w,S,b),w])),m;for(s=0,i=new Array(c);s<a;++s)m=e[s],m.index=s,typeof m.source!="object"&&(m.source=Co(d,m.source)),typeof m.target!="object"&&(m.target=Co(d,m.target)),i[m.source.index]=(i[m.source.index]||0)+1,i[m.target.index]=(i[m.target.index]||0)+1;for(s=0,o=new Array(a);s<a;++s)m=e[s],o[s]=i[m.source.index]/(i[m.source.index]+i[m.target.index]);l=new Array(a),g(),y=new Array(a),p()}}function g(){if(b)for(var s=0,c=e.length;s<c;++s)l[s]=+r(e[s],s,e)}function p(){if(b)for(var s=0,c=e.length;s<c;++s)y[s]=+h(e[s],s,e)}return _.initialize=function(s,c){b=s,n=c,v()},_.links=function(s){return arguments.length?(e=s,v(),_):e},_.id=function(s){return arguments.length?(t=s,_):t},_.iterations=function(s){return arguments.length?(u=+s,_):u},_.strength=function(s){return arguments.length?(r=typeof s=="function"?s:dt(+s),g(),_):r},_.distance=function(s){return arguments.length?(h=typeof s=="function"?s:dt(+s),p(),_):h},_}var k_={value:()=>{}};function nl(){for(var e=0,t=arguments.length,r={},l;e<t;++e){if(!(l=arguments[e]+"")||l in r||/[\s.]/.test(l))throw new Error("illegal type: "+l);r[l]=[]}return new Oi(r)}function Oi(e){this._=e}function E_(e,t){return e.trim().split(/^|\s+/).map(function(r){var l="",h=r.indexOf(".");if(h>=0&&(l=r.slice(h+1),r=r.slice(0,h)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:l}})}Oi.prototype=nl.prototype={constructor:Oi,on:function(e,t){var r=this._,l=E_(e+"",r),h,y=-1,b=l.length;if(arguments.length<2){for(;++y<b;)if((h=(e=l[y]).type)&&(h=R_(r[h],e.name)))return h;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++y<b;)if(h=(e=l[y]).type)r[h]=xo(r[h],e.name,t);else if(t==null)for(h in r)r[h]=xo(r[h],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Oi(e)},call:function(e,t){if((h=arguments.length-2)>0)for(var r=new Array(h),l=0,h,y;l<h;++l)r[l]=arguments[l+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(y=this._[e],l=0,h=y.length;l<h;++l)y[l].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var l=this._[e],h=0,y=l.length;h<y;++h)l[h].value.apply(t,r)}};function R_(e,t){for(var r=0,l=e.length,h;r<l;++r)if((h=e[r]).name===t)return h.value}function xo(e,t,r){for(var l=0,h=e.length;l<h;++l)if(e[l].name===t){e[l]=k_,e=e.slice(0,l).concat(e.slice(l+1));break}return r!=null&&e.push({name:t,value:r}),e}var Ur=0,si=0,ri=0,sl=1e3,ji,oi,Vi=0,Rr=0,en=0,fi=typeof performance=="object"&&performance.now?performance:Date,ol=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function al(){return Rr||(ol(T_),Rr=fi.now()+en)}function T_(){Rr=0}function In(){this._call=this._time=this._next=null}In.prototype=ll.prototype={constructor:In,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?al():+r)+(t==null?0:+t),!this._next&&oi!==this&&(oi?oi._next=this:ji=this,oi=this),this._call=e,this._time=r,zn()},stop:function(){this._call&&(this._call=null,this._time=1/0,zn())}};function ll(e,t,r){var l=new In;return l.restart(e,t,r),l}function L_(){al(),++Ur;for(var e=ji,t;e;)(t=Rr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ur}function ko(){Rr=(Vi=fi.now())+en,Ur=si=0;try{L_()}finally{Ur=0,B_(),Rr=0}}function A_(){var e=fi.now(),t=e-Vi;t>sl&&(en-=t,Vi=e)}function B_(){for(var e,t=ji,r,l=1/0;t;)t._call?(l>t._time&&(l=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:ji=r);oi=e,zn(l)}function zn(e){if(!Ur){si&&(si=clearTimeout(si));var t=e-Rr;t>24?(e<1/0&&(si=setTimeout(ko,e-fi.now()-en)),ri&&(ri=clearInterval(ri))):(ri||(Vi=fi.now(),ri=setInterval(A_,sl)),Ur=1,ol(ko))}}const D_=1664525,O_=1013904223,Eo=4294967296;function M_(){let e=1;return()=>(e=(D_*e+O_)%Eo)/Eo}function P_(e){return e.x}function $_(e){return e.y}var I_=10,z_=Math.PI*(3-Math.sqrt(5));function cl(e){var t,r=1,l=.001,h=1-Math.pow(l,1/300),y=0,b=.6,i=new Map,o=ll(f),n=nl("tick","end"),u=M_();e==null&&(e=[]);function f(){_(),n.call("tick",t),r<l&&(o.stop(),n.call("end",t))}function _(p){var s,c=e.length,a;p===void 0&&(p=1);for(var d=0;d<p;++d)for(r+=(y-r)*h,i.forEach(function(m){m(r)}),s=0;s<c;++s)a=e[s],a.fx==null?a.x+=a.vx*=b:(a.x=a.fx,a.vx=0),a.fy==null?a.y+=a.vy*=b:(a.y=a.fy,a.vy=0);return t}function v(){for(var p=0,s=e.length,c;p<s;++p){if(c=e[p],c.index=p,c.fx!=null&&(c.x=c.fx),c.fy!=null&&(c.y=c.fy),isNaN(c.x)||isNaN(c.y)){var a=I_*Math.sqrt(.5+p),d=p*z_;c.x=a*Math.cos(d),c.y=a*Math.sin(d)}(isNaN(c.vx)||isNaN(c.vy))&&(c.vx=c.vy=0)}}function g(p){return p.initialize&&p.initialize(e,u),p}return v(),t={tick:_,restart:function(){return o.restart(f),t},stop:function(){return o.stop(),t},nodes:function(p){return arguments.length?(e=p,v(),i.forEach(g),t):e},alpha:function(p){return arguments.length?(r=+p,t):r},alphaMin:function(p){return arguments.length?(l=+p,t):l},alphaDecay:function(p){return arguments.length?(h=+p,t):+h},alphaTarget:function(p){return arguments.length?(y=+p,t):y},velocityDecay:function(p){return arguments.length?(b=1-p,t):1-b},randomSource:function(p){return arguments.length?(u=p,i.forEach(g),t):u},force:function(p,s){return arguments.length>1?(s==null?i.delete(p):i.set(p,g(s)),t):i.get(p)},find:function(p,s,c){var a=0,d=e.length,m,w,S,k,C;for(c==null?c=1/0:c*=c,a=0;a<d;++a)k=e[a],m=p-k.x,w=s-k.y,S=m*m+w*w,S<c&&(C=k,c=S);return C},on:function(p,s){return arguments.length>1?(n.on(p,s),t):n.on(p)}}}function dl(){var e,t,r,l,h=dt(-30),y,b=1,i=1/0,o=.81;function n(v){var g,p=e.length,s=fs(e,P_,$_).visitAfter(f);for(l=v,g=0;g<p;++g)t=e[g],s.visit(_)}function u(){if(e){var v,g=e.length,p;for(y=new Array(g),v=0;v<g;++v)p=e[v],y[p.index]=+h(p,v,e)}}function f(v){var g=0,p,s,c=0,a,d,m;if(v.length){for(a=d=m=0;m<4;++m)(p=v[m])&&(s=Math.abs(p.value))&&(g+=p.value,c+=s,a+=s*p.x,d+=s*p.y);v.x=a/c,v.y=d/c}else{p=v,p.x=p.data.x,p.y=p.data.y;do g+=y[p.data.index];while(p=p.next)}v.value=g}function _(v,g,p,s){if(!v.value)return!0;var c=v.x-t.x,a=v.y-t.y,d=s-g,m=c*c+a*a;if(d*d/o<m)return m<i&&(c===0&&(c=br(r),m+=c*c),a===0&&(a=br(r),m+=a*a),m<b&&(m=Math.sqrt(b*m)),t.vx+=c*v.value*l/m,t.vy+=a*v.value*l/m),!0;if(!(v.length||m>=i)){(v.data!==t||v.next)&&(c===0&&(c=br(r),m+=c*c),a===0&&(a=br(r),m+=a*a),m<b&&(m=Math.sqrt(b*m)));do v.data!==t&&(d=y[v.data.index]*l/m,t.vx+=c*d,t.vy+=a*d);while(v=v.next)}}return n.initialize=function(v,g){e=v,r=g,u()},n.strength=function(v){return arguments.length?(h=typeof v=="function"?v:dt(+v),u(),n):h},n.distanceMin=function(v){return arguments.length?(b=v*v,n):Math.sqrt(b)},n.distanceMax=function(v){return arguments.length?(i=v*v,n):Math.sqrt(i)},n.theta=function(v){return arguments.length?(o=v*v,n):Math.sqrt(o)},n}function F_(e,t,r){var l,h=dt(.1),y,b;typeof e!="function"&&(e=dt(+e)),t==null&&(t=0),r==null&&(r=0);function i(n){for(var u=0,f=l.length;u<f;++u){var _=l[u],v=_.x-t||1e-6,g=_.y-r||1e-6,p=Math.sqrt(v*v+g*g),s=(b[u]-p)*y[u]*n/p;_.vx+=v*s,_.vy+=g*s}}function o(){if(l){var n,u=l.length;for(y=new Array(u),b=new Array(u),n=0;n<u;++n)b[n]=+e(l[n],n,l),y[n]=isNaN(b[n])?0:+h(l[n],n,l)}}return i.initialize=function(n){l=n,o()},i.strength=function(n){return arguments.length?(h=typeof n=="function"?n:dt(+n),o(),i):h},i.radius=function(n){return arguments.length?(e=typeof n=="function"?n:dt(+n),o(),i):e},i.x=function(n){return arguments.length?(t=+n,i):t},i.y=function(n){return arguments.length?(r=+n,i):r},i}function H_(e){var t=dt(.1),r,l,h;typeof e!="function"&&(e=dt(e==null?0:+e));function y(i){for(var o=0,n=r.length,u;o<n;++o)u=r[o],u.vx+=(h[o]-u.x)*l[o]*i}function b(){if(r){var i,o=r.length;for(l=new Array(o),h=new Array(o),i=0;i<o;++i)l[i]=isNaN(h[i]=+e(r[i],i,r))?0:+t(r[i],i,r)}}return y.initialize=function(i){r=i,b()},y.strength=function(i){return arguments.length?(t=typeof i=="function"?i:dt(+i),b(),y):t},y.x=function(i){return arguments.length?(e=typeof i=="function"?i:dt(+i),b(),y):e},y}function N_(e){var t=dt(.1),r,l,h;typeof e!="function"&&(e=dt(e==null?0:+e));function y(i){for(var o=0,n=r.length,u;o<n;++o)u=r[o],u.vy+=(h[o]-u.y)*l[o]*i}function b(){if(r){var i,o=r.length;for(l=new Array(o),h=new Array(o),i=0;i<o;++i)l[i]=isNaN(h[i]=+e(r[i],i,r))?0:+t(r[i],i,r)}}return y.initialize=function(i){r=i,b()},y.strength=function(i){return arguments.length?(t=typeof i=="function"?i:dt(+i),b(),y):t},y.y=function(i){return arguments.length?(e=typeof i=="function"?i:dt(+i),b(),y):e},y}const W_=Object.freeze(Object.defineProperty({__proto__:null,forceCenter:el,forceCollide:rl,forceLink:il,forceManyBody:dl,forceRadial:F_,forceSimulation:cl,forceX:H_,forceY:N_},Symbol.toStringTag,{value:"Module"}));class U_{constructor(t={}){this.options=t}activate(t){const{nodePositions:r,nodes:l,edges:h,emitter:y,svgPanZoom:b}=t;let{nodeLayouts:i,nodeLayoutMap:o}=this.buildNodeLayouts(l.value,r,{x:0,y:0});const n=this.createSimulation(i,this.forceLayoutEdges(h.value,l.value));n.on("tick",()=>{var p,s,c;for(const a of i){const d=(p=r.value)==null?void 0:p[a.id];d&&(d.x=(s=a.x)!=null?s:0,d.y=(c=a.y)!=null?c:0)}});const u=()=>{n.alpha(.1).restart()},f=p=>{for(const[s,c]of Object.entries(p)){const a=o[s];a.fx=c.x,a.fy=c.y}u()},_=p=>{var s;for(const[c,a]of Object.entries(p)){const d=this.getNodeLayout(r,c),m=(s=o==null?void 0:o[c])!=null?s:{x:0,y:0};d.value.fixed||this.options.positionFixedByDrag?(m.fx=a.x,m.fy=a.y,d.value.fixed=!0):(m.x=a.x,m.y=a.y,delete m.fx,delete m.fy)}u()},v=({node:p,event:s})=>{if(this.options.positionFixedByClickWithAltKey&&s.altKey){const c=this.getNodeLayout(r,p);let a=o==null?void 0:o[p];a||(a={id:p,x:0,y:0},o[p]=a),c.value.fixed?(delete c.value.fixed,a.x=a.fx||a.x,a.y=a.fy||a.y,delete a.fx,delete a.fy):(c.value.fixed=!0,a.fx=a.x,a.fy=a.y),u()}},g=qe(()=>[Object.keys(l.value),Object.values(h.value).map(p=>`${p.source}=${p.target}`)],()=>{const p=b.getViewArea();({nodeLayouts:i,nodeLayoutMap:o}=this.buildNodeLayouts(l.value,r,p.center)),n.nodes(i);const s=n.force("edge");s&&s.links(this.forceLayoutEdges(h.value,l.value)),u()});y.on("node:dragstart",f),y.on("node:pointermove",f),y.on("node:dragend",_),y.on("node:click",v),this.onDeactivate=()=>{n.stop(),g(),y.off("node:dragstart",f),y.off("node:pointermove",f),y.off("node:dragend",_),y.off("node:click",v)}}deactivate(){this.onDeactivate&&this.onDeactivate()}createSimulation(t,r){if(this.options.createSimulation)return this.options.createSimulation(W_,t,r);{const l=il(r).id(h=>h.id);return cl(t).force("edge",l.distance(100)).force("charge",dl()).force("collide",rl(50).strength(.2)).force("center",el().strength(.05)).alphaMin(.001)}}buildNodeLayouts(t,r,l){const h=Object.keys(t).filter(i=>!(i in r.value));for(const i of h)r.value[i]=bn({},l);const y=this.forceNodeLayouts(r.value),b=Object.fromEntries(y.map(i=>[i.id,i]));return{nodeLayouts:y,nodeLayoutMap:b}}forceNodeLayouts(t){return Object.entries(t).map(([r,l])=>l.fixed?s_(bn({id:r},l),{fx:l.x,fy:l.y}):bn({id:r},l))}forceLayoutEdges(t,r){return Object.values(t).filter(l=>l.source in r&&l.target in r).map(l=>({source:l.source,target:l.target}))}getNodeLayout(t,r){const l=Oe(t.value,r);return l.value||(l.value={x:0,y:0}),l}}var ul={exports:{}};(function(e,t){(function(r,l){e.exports=l()})(ma,function(){var r=1e3,l=6e4,h=36e5,y="millisecond",b="second",i="minute",o="hour",n="day",u="week",f="month",_="quarter",v="year",g="date",p="Invalid Date",s=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,a={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},d=function(x,R,T){var O=String(x);return!O||O.length>=R?x:""+Array(R+1-O.length).join(T)+x},m={s:d,z:function(x){var R=-x.utcOffset(),T=Math.abs(R),O=Math.floor(T/60),M=T%60;return(R<=0?"+":"-")+d(O,2,"0")+":"+d(M,2,"0")},m:function x(R,T){if(R.date()<T.date())return-x(T,R);var O=12*(T.year()-R.year())+(T.month()-R.month()),M=R.clone().add(O,f),V=T-M<0,F=R.clone().add(O+(V?-1:1),f);return+(-(O+(T-M)/(V?M-F:F-M))||0)},a:function(x){return x<0?Math.ceil(x)||0:Math.floor(x)},p:function(x){return{M:f,y:v,w:u,d:n,D:g,h:o,m:i,s:b,ms:y,Q:_}[x]||String(x||"").toLowerCase().replace(/s$/,"")},u:function(x){return x===void 0}},w="en",S={};S[w]=a;var k=function(x){return x instanceof P},C=function x(R,T,O){var M;if(!R)return w;if(typeof R=="string"){var V=R.toLowerCase();S[V]&&(M=V),T&&(S[V]=T,M=V);var F=R.split("-");if(!M&&F.length>1)return x(F[0])}else{var W=R.name;S[W]=R,M=W}return!O&&M&&(w=M),M||!O&&w},E=function(x,R){if(k(x))return x.clone();var T=typeof R=="object"?R:{};return T.date=x,T.args=arguments,new P(T)},D=m;D.l=C,D.i=k,D.w=function(x,R){return E(x,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var P=function(){function x(T){this.$L=C(T.locale,null,!0),this.parse(T)}var R=x.prototype;return R.parse=function(T){this.$d=function(O){var M=O.date,V=O.utc;if(M===null)return new Date(NaN);if(D.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var F=M.match(s);if(F){var W=F[2]-1||0,G=(F[7]||"0").substring(0,3);return V?new Date(Date.UTC(F[1],W,F[3]||1,F[4]||0,F[5]||0,F[6]||0,G)):new Date(F[1],W,F[3]||1,F[4]||0,F[5]||0,F[6]||0,G)}}return new Date(M)}(T),this.$x=T.x||{},this.init()},R.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},R.$utils=function(){return D},R.isValid=function(){return this.$d.toString()!==p},R.isSame=function(T,O){var M=E(T);return this.startOf(O)<=M&&M<=this.endOf(O)},R.isAfter=function(T,O){return E(T)<this.startOf(O)},R.isBefore=function(T,O){return this.endOf(O)<E(T)},R.$g=function(T,O,M){return D.u(T)?this[O]:this.set(M,T)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(T,O){var M=this,V=!!D.u(O)||O,F=D.p(T),W=function(se,Z){var fe=D.w(M.$u?Date.UTC(M.$y,Z,se):new Date(M.$y,Z,se),M);return V?fe:fe.endOf(n)},G=function(se,Z){return D.w(M.toDate()[se].apply(M.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(Z)),M)},ie=this.$W,L=this.$M,q=this.$D,Q="set"+(this.$u?"UTC":"");switch(F){case v:return V?W(1,0):W(31,11);case f:return V?W(1,L):W(0,L+1);case u:var I=this.$locale().weekStart||0,z=(ie<I?ie+7:ie)-I;return W(V?q-z:q+(6-z),L);case n:case g:return G(Q+"Hours",0);case o:return G(Q+"Minutes",1);case i:return G(Q+"Seconds",2);case b:return G(Q+"Milliseconds",3);default:return this.clone()}},R.endOf=function(T){return this.startOf(T,!1)},R.$set=function(T,O){var M,V=D.p(T),F="set"+(this.$u?"UTC":""),W=(M={},M[n]=F+"Date",M[g]=F+"Date",M[f]=F+"Month",M[v]=F+"FullYear",M[o]=F+"Hours",M[i]=F+"Minutes",M[b]=F+"Seconds",M[y]=F+"Milliseconds",M)[V],G=V===n?this.$D+(O-this.$W):O;if(V===f||V===v){var ie=this.clone().set(g,1);ie.$d[W](G),ie.init(),this.$d=ie.set(g,Math.min(this.$D,ie.daysInMonth())).$d}else W&&this.$d[W](G);return this.init(),this},R.set=function(T,O){return this.clone().$set(T,O)},R.get=function(T){return this[D.p(T)]()},R.add=function(T,O){var M,V=this;T=Number(T);var F=D.p(O),W=function(L){var q=E(V);return D.w(q.date(q.date()+Math.round(L*T)),V)};if(F===f)return this.set(f,this.$M+T);if(F===v)return this.set(v,this.$y+T);if(F===n)return W(1);if(F===u)return W(7);var G=(M={},M[i]=l,M[o]=h,M[b]=r,M)[F]||1,ie=this.$d.getTime()+T*G;return D.w(ie,this)},R.subtract=function(T,O){return this.add(-1*T,O)},R.format=function(T){var O=this,M=this.$locale();if(!this.isValid())return M.invalidDate||p;var V=T||"YYYY-MM-DDTHH:mm:ssZ",F=D.z(this),W=this.$H,G=this.$m,ie=this.$M,L=M.weekdays,q=M.months,Q=function(Z,fe,le,Le){return Z&&(Z[fe]||Z(O,V))||le[fe].slice(0,Le)},I=function(Z){return D.s(W%12||12,Z,"0")},z=M.meridiem||function(Z,fe,le){var Le=Z<12?"AM":"PM";return le?Le.toLowerCase():Le},se={YY:String(this.$y).slice(-2),YYYY:this.$y,M:ie+1,MM:D.s(ie+1,2,"0"),MMM:Q(M.monthsShort,ie,q,3),MMMM:Q(q,ie),D:this.$D,DD:D.s(this.$D,2,"0"),d:String(this.$W),dd:Q(M.weekdaysMin,this.$W,L,2),ddd:Q(M.weekdaysShort,this.$W,L,3),dddd:L[this.$W],H:String(W),HH:D.s(W,2,"0"),h:I(1),hh:I(2),a:z(W,G,!0),A:z(W,G,!1),m:String(G),mm:D.s(G,2,"0"),s:String(this.$s),ss:D.s(this.$s,2,"0"),SSS:D.s(this.$ms,3,"0"),Z:F};return V.replace(c,function(Z,fe){return fe||se[Z]||F.replace(":","")})},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(T,O,M){var V,F=D.p(O),W=E(T),G=(W.utcOffset()-this.utcOffset())*l,ie=this-W,L=D.m(this,W);return L=(V={},V[v]=L/12,V[f]=L,V[_]=L/3,V[u]=(ie-G)/6048e5,V[n]=(ie-G)/864e5,V[o]=ie/h,V[i]=ie/l,V[b]=ie/r,V)[F]||ie,M?L:D.a(L)},R.daysInMonth=function(){return this.endOf(f).$D},R.$locale=function(){return S[this.$L]},R.locale=function(T,O){if(!T)return this.$L;var M=this.clone(),V=C(T,O,!0);return V&&(M.$L=V),M},R.clone=function(){return D.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},x}(),B=P.prototype;return E.prototype=B,[["$ms",y],["$s",b],["$m",i],["$H",o],["$W",n],["$M",f],["$y",v],["$D",g]].forEach(function(x){B[x[1]]=function(R){return this.$g(R,x[0],x[1])}}),E.extend=function(x,R){return x.$i||(x(R,P,E),x.$i=!0),E},E.locale=C,E.isDayjs=k,E.unix=function(x){return E(1e3*x)},E.en=S[w],E.Ls=S,E.p={},E})})(ul);const j_=ul.exports,V_=e=>(Zc("data-v-d25544b7"),e=e(),Jc(),e),K_=xe(" Center graph view "),q_=xe(" Select a single node to enable SSH "),G_=xe(" Config Engine "),Y_=xe(" Show the Config Engine. "),X_=xe(" Lab "),Z_=xe(" Show the Lab Readme, topology file etc. "),J_=xe(" Labels "),Q_=V_(()=>he("span",null,"Select all",-1)),em=xe(" Links "),tm=xe(" Nodes "),rm=xe("Center the graph"),im=xe(" F "),nm=xe("Toggle force layout"),sm=xe(" Show logs "),om=xe(" G "),am=xe("Include graph events in the logs"),lm=xe(" L "),cm=xe("Toggle logs"),dm=["font-size"],um=["x","y","font-size","text-anchor","dominant-baseline","fill"],hm={class:"event-type"},fm=ue({__name:"graphView",setup(e){Wc(rp()),Yv(ip());const t=fr(),r=Y([]),l=Y([]),{optLayout:h,optLayouts:y}=Zn(t),b=Y({}),i=Y({}),o=Pr("ceVisible",2);console.log(rn);const n=rn?Pr("labVisible",2):Y(-1),u=Pr("showLogs",-1),f=Pr("showGraphLogs",!1),_=Pr("showSiderbar",!0),v=12,g=Y({}),p=ai([]);function s(L,q){const Q=j_().format("HH:mm:ss.SSS");p.length>v&&p.splice(v,p.length-v),q instanceof Object&&"event"in q&&Object.assign(q,{event:"(...)"}),p.unshift([Q,L,JSON.stringify(q)])}const c={"node:pointerover":({node:L})=>{C.value=L,D.value=1},"node:pointerout":()=>{D.value=0},"node:pointermove":t.save,"view:zoom":()=>{},"*":(L,q)=>f.value&&s(L,q)};function a(){return h.value==="force"?new U_:h.value==="grid"?new Kc({grid:15}):new qc}qe(h,()=>{t.save(),w.view&&(w.view.layoutHandler=a())});const d=30,m=ee(()=>Xc(y.value.nodes,t.topo.links)),w=ai(Uc({view:{layoutHandler:a(),scalingObjects:!0,minZoomLevel:.5,maxZoomLevel:8,boxSelectionEnabled:!0,selection:{box:{color:"#0000ff20",strokeWidth:1,strokeColor:"#aaaaff",strokeDasharray:"0"}}},node:{normal:{radius:d/2},label:{visible:!0,fontFamily:void 0,fontSize:11,lineHeight:1.1,color:"#000000",margin:4,direction:L=>(L.name?m.value[L.name]:!1)||"south",text:"name"},selectable:!0},edge:{selectable:!0},path:{visible:!0,path:{width:10}}})),S=Y(),k=Y(),C=Y(""),E=ee(()=>{if(!S.value||!k.value)return{x:0,y:0};if(!C.value)return{x:0,y:0};const L=t.optLayouts.nodes[C.value],q=S.value.translateFromSvgToDomCoordinates(L);return{left:q.x-k.value.offsetWidth/2+"px",top:q.y-d/2-k.value.offsetHeight-10+"px"}}),D=Y(0);function P(){var L;console.debug("center"),(L=S.value)==null||L.fitToContents()}Bt(()=>{s("mounted",{}),bt(()=>{Pa("select"),P()})}),jc.on(L=>{s("WS Tx",L)}),qo.on(L=>{console.debug("WS Rx",L),s("WS Rx",L),L.code===xr.uidata&&(s("WS load",{}),bt(P))}),Ko.on(L=>{console.debug("WS T",L),s("WS T",L),L.resulty&&T(L)});const B=Y("base");function x(L){L&&(B.value=String(L))}const R=ee(()=>{var L=[{label:"base",key:"base"}];const q=new Set;return Object.keys(t.optTemplates).forEach(Q=>{const[I,z]=Q.split(".");if(z&&(I==="node"||I==="link")){if(q.has(z))return;q.add(z),L.push({label:z,key:z})}}),L});xn(t.optTemplates,O),xn(B,O);function T(L){L.name==="link"&&L.resulty&&L.id in t.topo.links&&(b.value[L.id]={size:12,...L.resulty}),L.name==="node"&&L.resulty&&L.id in t.topo.nodes&&(i.value[L.id]={size:12,...L.resulty})}function O(){const L=B.value==="base"?"":"."+B.value;Object.keys(t.topo.links).forEach(q=>{var Q;Fi({code:xr.template,template:{id:q,name:"link",template:(Q=t.optTemplates["link"+L])!=null?Q:"",vars:t.linkVars(q),result:""}})}),Object.keys(t.topo.nodes).forEach(q=>{var Q;Fi({code:xr.template,template:{id:q,name:"node",template:(Q=t.optTemplates["node"+L])!=null?Q:"",vars:t.topo.vars[q],result:""}})})}const M=ai({});function V(L){Object.keys(M).includes(L)?delete M[L]:M[L]={edges:L.split(",")}}function F(L){return L===0?2:-L}const W=Y([]);function G(L,q){q<1?(W.value.includes(L)&&W.value.splice(W.value.indexOf(L),1),g.value[L]=-q):g.value[L]=q}function ie(){if(r.value.length!==1)return;const L=r.value[0];if(W.value.includes(L)){console.log("focus",L);return}W.value.push(L),console.log(W)}return(L,q)=>{const Q=kn("v-edge-label"),I=kn("v-network-graph");return ne(),ye(et,null,[(ne(),Te(Vc,{to:"#mtoolbar"},[J($(mr),{justify:"end"},{default:K(()=>[J(Qs,{onClick:P},{tooltip:K(()=>[K_]),default:K(()=>[J($(Je),null,{default:K(()=>[J($(ys))]),_:1})]),_:1}),J(Qs,{disabled:r.value.length!==1,onClick:ie},{tooltip:K(()=>[xe(" SSH to "+Ie(r.value[0]),1)]),"tooltip-disabled":K(()=>[q_]),default:K(()=>[J($(Je),null,{default:K(()=>[J($(Rd))]),_:1})]),_:1},8,["disabled"]),J($(ua),null,{default:K(()=>[J(or,{value:$(o)>0,"onUpdate:value":q[0]||(q[0]=z=>o.value=F($(o)))},{tooltip:K(()=>[Y_]),default:K(()=>[G_]),_:1},8,["value"]),$(rn)?(ne(),Te(or,{key:0,value:$(n)>0,"onUpdate:value":q[1]||(q[1]=z=>n.value=F($(n)))},{tooltip:K(()=>[Z_]),default:K(()=>[X_]),_:1},8,["value"])):Ke("",!0)]),_:1})]),_:1})])),J($(Yc),{"has-sider":""},{default:K(()=>[J($(Jf),{collapsed:$(_),"onUpdate:collapsed":q[7]||(q[7]=z=>Kt(_)?_.value=z:null),"show-trigger":"arrow-circle","content-style":"padding: 24px;",bordered:"",static:"",embedded:""},{default:K(()=>[J($(tp),null,{default:K(()=>[J($(Si),null,{suffix:K(()=>[J($(Ye),{circle:"",secondary:"",onClick:O},{default:K(()=>[J($(Je),null,{default:K(()=>[J($(tu))]),_:1})]),_:1})]),default:K(()=>[J_,J($(Mf),{options:$(R),trigger:"hover",onSelect:x},{default:K(()=>[J($(Ye),{size:"small",secondary:"",round:""},{default:K(()=>[xe(Ie(B.value)+" layer ",1)]),_:1})]),_:1},8,["options"])]),_:1}),J($(Si),null,{default:K(()=>[J($(mr),{justify:"space-between"},{default:K(()=>[Q_,J($(Ye),{size:"small",secondary:"",round:"",onClick:q[2]||(q[2]=z=>l.value=Object.keys($(t).topo.links))},{default:K(()=>[em]),_:1}),J($(Ye),{size:"small",secondary:"",round:"",onClick:q[3]||(q[3]=z=>r.value=Object.keys($(t).topo.nodes))},{default:K(()=>[tm]),_:1})]),_:1})]),_:1}),J($(Si),null,{suffix:K(()=>[J(or,{value:$(h)==="force","onUpdate:value":q[4]||(q[4]=z=>h.value=z?"force":"grid")},{tooltip:K(()=>[nm]),default:K(()=>[im]),_:1},8,["value"])]),default:K(()=>[J($(mr),{justify:"space-between"},{default:K(()=>[xe(" Layout "+Ie($(h))+" ",1),J(or,{"onUpdate:value":P},{tooltip:K(()=>[rm]),default:K(()=>[J($(Je),null,{default:K(()=>[J($(ys))]),_:1})]),_:1})]),_:1})]),_:1}),J($(Si),null,{suffix:K(()=>[J(or,{value:$(u)>0,"onUpdate:value":q[6]||(q[6]=z=>u.value=z?1:-1)},{tooltip:K(()=>[cm]),default:K(()=>[lm]),_:1},8,["value"])]),default:K(()=>[J($(mr),{justify:"space-between"},{default:K(()=>[sm,J(or,{value:$(f),"onUpdate:value":q[5]||(q[5]=z=>Kt(f)?f.value=z:null)},{tooltip:K(()=>[am]),default:K(()=>[om]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["collapsed"]),J($(Gc),{embedded:"","native-scrollbar":!1},{default:K(()=>{var z,se,Z,fe,le,Le;return[J(I,{ref_key:"graph",ref:S,"selected-nodes":r.value,"onUpdate:selected-nodes":q[8]||(q[8]=pe=>r.value=pe),"selected-edges":l.value,"onUpdate:selected-edges":q[9]||(q[9]=pe=>l.value=pe),style:ui({height:`${$(t).optHeight}px`}),nodes:$(t).topo.nodes,edges:$(t).topo.links,paths:M,configs:w,layouts:$(y),"event-handlers":c},{"override-node-label":K(({nodeId:pe,scale:Pe,x:ce,y:_e,config:ke,textAnchor:Ae,dominantBaseline:Xe})=>[pe in i.value&&i.value[pe].label?(ne(),ye("text",{key:0,x:"0",y:"0","font-size":9*Pe,"text-anchor":"middle","dominant-baseline":"central",fill:"#ffffff"},Ie(i.value[pe].label),9,dm)):Ke("",!0),pe in i.value&&i.value[pe].label_below?(ne(),ye("text",{key:1,x:ce,y:_e,"font-size":ke.fontSize*Pe,"text-anchor":Ae,"dominant-baseline":Xe,fill:ke.color},Ie(i.value[pe].label_below),9,um)):Ke("",!0)]),"edge-label":K(({edgeId:pe,scale:Pe,...ce})=>[pe in b.value&&b.value[pe].center_above?(ne(),Te(Q,Et({key:0,text:String(b.value[pe].center_above),align:"center","vertical-align":"above"},ce,{"font-size":12*Pe}),null,16,["text","font-size"])):Ke("",!0),pe in b.value&&b.value[pe].center_below?(ne(),Te(Q,Et({key:1,text:String(b.value[pe].center_below),align:"center","vertical-align":"below"},ce,{"font-size":12*Pe}),null,16,["text","font-size"])):Ke("",!0),pe in b.value&&b.value[pe].source_above?(ne(),Te(Q,Et({key:2,text:String(b.value[pe].source_above),align:"source","vertical-align":"above"},ce,{fill:"#ff5500","font-size":10*Pe}),null,16,["text","font-size"])):Ke("",!0),pe in b.value&&b.value[pe].source_below?(ne(),Te(Q,Et({key:3,text:String(b.value[pe].source_below),align:"source","vertical-align":"below"},ce,{fill:"#ff5500","font-size":10*Pe}),null,16,["text","font-size"])):Ke("",!0),pe in b.value&&b.value[pe].target_above?(ne(),Te(Q,Et({key:4,text:String(b.value[pe].target_above),align:"target","vertical-align":"above"},ce,{fill:"#ff5500","font-size":10*Pe}),null,16,["text","font-size"])):Ke("",!0),pe in b.value&&b.value[pe].target_below?(ne(),Te(Q,Et({key:5,text:String(b.value[pe].target_below),align:"target","vertical-align":"below"},ce,{fill:"#ff5500","font-size":10*Pe}),null,16,["text","font-size"])):Ke("",!0)]),_:1},8,["selected-nodes","selected-edges","style","nodes","edges","paths","configs","layouts"]),he("div",{ref_key:"tooltip",ref:k,class:"tooltip",style:ui({...$(E),opacity:D.value})},[he("div",null,Ie((se=(z=$(t).topo.nodes[C.value])==null?void 0:z.name)!=null?se:"")+" "+Ie((fe=(Z=i.value[C.value])==null?void 0:Z.label)!=null?fe:"")+" "+Ie((Le=(le=i.value[C.value])==null?void 0:le.label_below)!=null?Le:""),1)],4)]}),_:1})]),_:1}),J($(Wr),{cols:"2 1210:4 2420:6","x-gap":10,"y-gap":10},{default:K(()=>[$(o)>0?(ne(),Te($(At),{key:0,span:$(o)},{default:K(()=>[J(Ag,{visible:$(o),"onUpdate:visible":q[10]||(q[10]=z=>Kt(o)?o.value=z:null),selected:r.value,"onUpdate:selected":q[11]||(q[11]=z=>r.value=z),selectedLinks:l.value,"onUpdate:selectedLinks":q[12]||(q[12]=z=>l.value=z),onPath:V},null,8,["visible","selected","selectedLinks"])]),_:1},8,["span"])):Ke("",!0),$(n)>0?(ne(),Te($(At),{key:1,span:$(n)},{default:K(()=>[J($g,{visible:$(n),"onUpdate:visible":q[13]||(q[13]=z=>Kt(n)?n.value=z:null),onPath:V},null,8,["visible"])]),_:1},8,["span"])):Ke("",!0),(ne(!0),ye(et,null,Tt(W.value,z=>{var se;return ne(),Te($(At),{key:"ssh_"+z,span:(se=g.value[z])!=null?se:2},{default:K(()=>{var Z;return[J(Qg,{target:`clab-${$(t).topo.name}-${z}`,visible:(Z=g.value[z])!=null?Z:2,"onUpdate:visible":fe=>G(z,fe)},null,8,["target","visible","onUpdate:visible"])]}),_:2},1032,["span"])}),128)),$(u)?(ne(),Te($(At),{key:2},{default:K(()=>[J(Qi,{visible:$(u),"onUpdate:visible":q[14]||(q[14]=z=>Kt(u)?u.value=z:null),title:"Logs"},{default:K(()=>[(ne(!0),ye(et,null,Tt(p,([z,se,Z],fe)=>(ne(),ye("div",{key:`${z}/${se}/${Z}`,style:ui({"background-color":fe%2?"white":"#f4f0ec"})},[J($(fa),{"line-clamp":4},{default:K(()=>[xe(Ie(z)+" ",1),he("b",hm,Ie(se),1),xe(" "+Ie(Z),1)]),_:2},1024)],4))),128))]),_:1},8,["visible"])]),_:1})):Ke("",!0)]),_:1})],64)}}});const vm=Oa(fm,[["__scopeId","data-v-d25544b7"]]);export{vm as default};
